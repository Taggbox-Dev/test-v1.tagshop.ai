"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5108],{55108:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(9950),n=s(54810),l=s(45276),i=(s(70804),s(34483)),o=s(66773),d=s(97937),c=(s(73878),s(42074)),r=s(80692),m=s(41181),h=s(44414);const u=a.lazy((()=>s.e(8060).then(s.bind(s,88060)))),p=a.lazy((()=>Promise.all([s.e(8433),s.e(9280)]).then(s.bind(s,58224)))),x=new m.A,g=e=>(0,h.jsxs)(i.A.Item,{...e,children:[(0,h.jsx)(n.gc,{type:"solid",icon:e.iconText}),e.text]});class v extends a.Component{constructor(e){if(super(e),this.setMode=()=>{const e=document.getElementsByTagName("html")[0];this.setState({appThemeSkin:!this.state.appThemeSkin},(()=>{e.setAttribute("data-bs-theme",this.state.appThemeSkin?"light":"dark"),x.set("appThemeSkin",this.state.appThemeSkin?"light":"dark",{path:"/"})}))},this.onNotificationToggle=()=>this.setState({isNotification:!this.state.isNotification}),this.state={isActiveAside:!1,appThemeSkin:!x.get("appThemeSkin")||"light"==x.get("appThemeSkin"),isNotification:!1},x.get("appThemeSkin")){document.getElementsByTagName("html")[0].setAttribute("data-bs-theme",x.get("appThemeSkin"))}}componentDidMount(){}render(){const{navigate:e,authorized:t}=this.props,{isNotification:s,appThemeSkin:m}=this.state;return(0,h.jsxs)(o.A,{className:"header-main fixed-top f-center border-bottom py-0 bg-body",expand:"lg",children:[(0,h.jsx)("div",{className:"app-logo f-center flex-shrink-1 border-end",children:(0,h.jsx)(c.N_,{to:"/",className:"f-center header_logo",children:(0,h.jsx)("span",{className:"d-flex w-100",children:(0,h.jsx)(l.A,{className:"w-100",src:(0,n.pc)("media/logo/tagshop-icon.svg")})})})}),(0,h.jsxs)("div",{className:"app-container f-between flex-grow-1 h-100",children:[(0,h.jsxs)("div",{className:"d-flex flex-grow-1 w-75",children:[(0,h.jsx)("div",{className:"d-lg-none d-flex align-items-center justify-content-center mob_toggle_icon me-3",children:(0,h.jsxs)(d.A,{id:"main_menu_toggle",variant:"icon",className:"p-0 custom_burger_icon",children:[(0,h.jsx)("span",{}),(0,h.jsx)("span",{}),(0,h.jsx)("span",{})]})}),(0,h.jsx)("div",{className:"w-100 header_swticher",children:/\/(moderation|addfeed|managefeed)/.test(window.location.pathname)?(0,h.jsx)(r.A,{}):""})]}),(0,h.jsx)("div",{className:"header-menu d-flex align-items-center justify-content-end w-xs-100 h-100",children:(0,h.jsxs)("div",{className:"d-flex align-items-center h-100 flex-shrink-0",children:[(null===t||void 0===t?void 0:t.userData)&&!t.userData.user_data.UserPlan.planId.includes("39")&&(0,h.jsx)(c.N_,{to:"/price",className:"btn btn-primary text-nowrap btn-sm mx-1",style:{minWidth:34},children:"Upgrade Now!"}),(0,h.jsx)(d.A,{variant:"icon",size:"sm",className:"fs-6 border-0 ms-1",onClick:this.setMode,children:(0,h.jsx)("i",{className:"fa-duotone fa-solid fa-".concat(m?"moon":"sun-bright")})}),(0,h.jsxs)(i.A,{className:"h-100 f-center",align:"end",children:[(0,h.jsx)(i.A.Toggle,{variant:"icon",size:"sm",className:"fs-6 border-0 arrow_disabled ms-1",children:(0,h.jsx)("i",{className:"fa-duotone fa-solid fa-circle-question"})}),(0,h.jsxs)(i.A.Menu,{children:[(0,h.jsx)(g,{iconText:"comments",text:"Chat",onClick:window.Intercom?e=>{window.Intercom("show")}:()=>{}}),(0,h.jsx)(g,{iconText:"phone",text:"Call",href:"https://calendly.com/taggbox/csm",target:"_blank"}),(0,h.jsx)(g,{iconText:"envelope",text:"Email",href:"mailto:support@tagshop.ai",target:"_blank"}),(0,h.jsx)(g,{iconText:"book-open-cover",text:"Knowledge Base",href:"https://tagshop.ai/support/",target:"_blank"})]})]}),(0,h.jsxs)(i.A,{className:"head_notifications_ h-100 f-center",align:"end",show:s,onToggle:this.onNotificationToggle,children:[(0,h.jsxs)(i.A.Toggle,{variant:"icon",size:"sm",className:"fs-6 border-0 arrow_disabled ms-1 position-relative",children:[(0,h.jsx)("span",{className:"notifications_count bg-primary position-absolute rounded-4",id:"notificationCount",style:{display:"none"}}),(0,h.jsx)("i",{className:"fa-duotone fa-solid fa-bell"})]}),(0,h.jsx)(i.A.Menu,{className:"p-0",children:(0,h.jsx)(a.Suspense,{fallback:(0,h.jsx)(h.Fragment,{}),children:(0,h.jsx)(p,{notificationList:"latestNotifionList",onNotificationToggle:this.onNotificationToggle})})})]}),(0,h.jsx)(a.Suspense,{fallback:(0,h.jsx)(h.Fragment,{}),children:(0,h.jsx)(u,{navigate:e,authorized:t})})]})})]})]})}}const j=v},80692:(e,t,s)=>{s.d(t,{A:()=>k});var a=s(9950),n=s(34483),l=s(97937),i=s(21432),o=s(95942),d=s(54810),c=s(73878),r=s(28429),m=s(42074),h=s(44268),u=s(17595),p=s(44414);const x=e=>{let{show:t,title:s,apiError:n,setApiError:i,onCreate:o,onUpdate:d,editContent:c,handleClose:r,isStatus:m,deleteContent:x,spinner:g}=e;const[v,j]=(0,a.useState)(""),[f,b]=(0,a.useState)(1),[w,N]=(0,a.useState)(1),[y,k]=(0,a.useState)(!1),A=()=>{v&&v.length>0?(k(!1),o(v,f,w)):k(!0)},S=e=>{v&&v.length>0?(k(!1),d(e,v,w,f)):k(!0)};(0,a.useEffect)((()=>{c&&Object.keys(c).length>0?(j(c.name),b(Number(c.autoUpdate)),N(Number(c.status))):_()}),[c]);const _=()=>{j(""),b(1),N(1),k(!1)};return(0,p.jsxs)(h.A,{show:t,size:"sm",onHide:r,id:"cont_modal",centered:!0,children:[(0,p.jsx)(h.A.Header,{closeButton:!0,children:(0,p.jsxs)(h.A.Title,{children:[c&&Object.keys(c).length>0?"Edit":"Create"," ",s]})}),(0,p.jsxs)(h.A.Body,{children:[(0,p.jsxs)(u.A.Group,{className:"mb-4",children:[(0,p.jsx)(u.A.Control,{id:"g_name",className:"fw-semibold  ".concat(y||n?"is-invalid":""),placeholder:"Enter Gallery Name",value:v,onChange:e=>{k(!1),i(""),j(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&(c&&Object.keys(c).length>0?S(c.id):A())}}),(0,p.jsx)("span",{className:"invalid-feedback",children:y?"".concat(s," name is required"):n?"".concat(n):""})]}),(0,p.jsxs)(u.A.Group,{className:"f-between mb-4",children:[(0,p.jsx)(u.A.Label,{htmlFor:"cont_a_u",children:"Auto Update"}),(0,p.jsx)(u.A.Check,{type:"switch",id:"cont_a_u",checked:f,onChange:()=>b(Number(!f))})]}),(0,p.jsxs)(u.A.Group,{className:"f-between mb-4",children:[(0,p.jsx)(u.A.Label,{htmlFor:"cont_s",children:"Status"}),(0,p.jsx)(u.A.Check,{type:"switch",id:"cont_s",checked:w,onClick:()=>N(Number(!w))})]})]}),(0,p.jsx)(h.A.Footer,{children:c&&Object.keys(c).length>0?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.A,{variant:"outline-danger",size:"sm",id:"con_delete_btn",onClick:()=>x(c),children:"Delete"}),(0,p.jsx)(l.A,{size:"sm",id:"con_update_btn",className:"".concat(g?"spinner":""),disabled:g,onClick:()=>S(c.id),children:"Update"})]}):(0,p.jsx)(l.A,{size:"sm",id:"con_save_btn",className:"".concat(g?"spinner":""),disabled:g,onClick:A,children:"Save"})})]})};var g=s(47208),v=s(54480),j=s(58423),f=s(64323),b=s(33127);var w=s(59074),N=s(4695),y=s.n(N);const k=e=>{var t;let{contentList:s,selectedContent:h,title:u,iswebsite:N,onlySwitcher:k,modifyContent:A,selectLoader:S}=e;const _=(0,c.d4)((e=>{var t,s;return null===(t=e.dashboardData)||void 0===t||null===(s=t.dashboarddata)||void 0===s?void 0:s.allWalls})),C=(0,c.d4)((e=>{var t,s;return null===(t=e.authorized)||void 0===t||null===(s=t.userData)||void 0===s?void 0:s.user_data})),{wallsLoader:T,addGalleryNow:I}=(0,c.d4)((e=>null===e||void 0===e?void 0:e.dashboardData)),[z,U]=(0,a.useState)(null),[E,P]=(0,a.useState)(!1),[F,G]=(0,a.useState)([]),[L,B]=(0,a.useState)(!0),[D,O]=(0,a.useState)(!1),[W,M]=(0,a.useState)(!1),H=(0,c.wA)(),K=(0,r.Zp)(),q=e=>{var t,s;(U(e),"Collaborator"==(null===C||void 0===C?void 0:C.role)?((0,g.oU)({wallId:e.wallId}),localStorage.setItem("wallId",e.wallId)):((0,g.oU)({wallId:e.id}),localStorage.setItem("wallId",e.id)),null!==u&&void 0!==u&&u.includes("Email")||null!==u&&void 0!==u&&u.includes("Shop")||null!==u&&void 0!==u&&u.includes("Website"))?A(e):null!==(t=window.location.pathname)&&void 0!==t&&t.includes("/more-apps")?K("/more-apps/".concat(e.id)):null!==(s=window.location.pathname)&&void 0!==s&&s.includes("/moderation")?(H({type:v.A6,payload:!0}),H({type:v.vbo,payload:!0}),H((0,j.ud)(!0)),H((0,f.LF)()),H((0,j.zI)()),K("/content/moderation/".concat(e.id)),(e=>{e((0,b.lk)(!1)),e((0,b.aS)(!1))})(H)):(H({type:v.A6,payload:!0}),H({type:v.vbo,payload:!0}),H((0,f.LF)()),setTimeout((()=>{(null===e||void 0===e?void 0:e.totalPost)>0?K("/content/managefeed/".concat(e.id)):K("/content/addfeed/".concat(e.id))}),1e3))},Y=e=>{e?(M(e),O(!1)):(Z(!1),G([]),O(!1))},Z=e=>{H({type:v.GSH,payload:e})};return(0,a.useEffect)((()=>{const e=null===_||void 0===_?void 0:_.find((e=>e.id==localStorage.getItem("wallId")));h&&Object.keys(h).length>0?(U(h),B(!1)):S?B(!0):(U(e||(_&&_[0]?_[0]:"")),B(!1))}),[,h,S,_,localStorage.getItem("wallId")]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsxs)(n.A,{className:"w-100",children:[T||L?(0,p.jsx)("div",{className:"w-100 sk_rect rounded-1 h-40px"}):z&&Object.keys(z).length>0?(0,p.jsx)(n.A.Toggle,{id:"content_btn",variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between",style:{padding:2},children:(0,p.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,p.jsx)("div",{className:"symbol symbol-28 radius-2 flex-shrink-0 me-2",children:(0,p.jsx)("span",{className:"symbol-label fs-8",children:null===z||void 0===z||null===(t=z.name)||void 0===t?void 0:t.charAt(0).toUpperCase()})}),(0,p.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,p.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===z||void 0===z?void 0:z.name}),(0,p.jsx)("span",{className:"fs-10 text-muted",children:null!==z&&void 0!==z&&z.totalPost?"".concat(null===z||void 0===z?void 0:z.totalPost," Posts"):"0 Post"})]})]})}):(0,p.jsxs)(l.A,{variant:"secondary",size:"lg",className:"w-100",onClick:()=>window.location.href.includes("content/moderation")?Z(!0):K("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")),children:[(0,p.jsx)(d.gc,{icon:"plus",iconClass:"me-1"}),"New Gallery"]}),_?(0,p.jsx)(n.A.Menu,{className:"w-100 p-0",children:(0,p.jsxs)("div",{className:"dropdown-height",children:[null===_||void 0===_?void 0:_.map(((e,t)=>{var s,a;const i=N?null===e||void 0===e||null===(s=e.wall)||void 0===s?void 0:s.Wall:e;return(0,p.jsxs)("div",{className:"position-relative",children:[(0,p.jsx)(n.A.Item,{eventKey:null===i||void 0===i?void 0:i.id,onClick:()=>q(i),className:"mb-1 rounded-0 ".concat((null===i||void 0===i?void 0:i.id)==(null===z||void 0===z?void 0:z.id)?"active":""),children:(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("div",{className:"symbol symbol-28 radius-2 flex-shrink-0 me-2",children:(0,p.jsx)("span",{className:"symbol-label fs-8",children:null===i||void 0===i||null===(a=i.name)||void 0===a?void 0:a.charAt(0).toUpperCase()})}),(0,p.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,p.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===i||void 0===i?void 0:i.name}),(0,p.jsx)("span",{className:"fs-10 text-muted",children:null!==i&&void 0!==i&&i.totalPost?"".concat(null===i||void 0===i?void 0:i.totalPost," Posts"):"0 Post"})]}),(0,p.jsx)("div",{})]})}),!k&&(0,p.jsx)("div",{className:"dropdown-action pe-2",children:(0,p.jsx)(l.A,{variant:"dropdown-icon",className:"content_edit",onClick:()=>(e=>{G(e),Z(!0)})(e),children:(0,p.jsx)(d.gc,{icon:"ellipsis-vertical"})})})]},t)})),!k&&(0,p.jsx)("div",{className:"mt-2 p-2 border-top",children:(0,p.jsxs)(n.A.Item,{id:"add_web_btn",onClick:()=>Z(!0),className:"f-center",children:[(0,p.jsx)("span",{className:"svg-icon svg-icon-9",children:(0,p.jsx)(d.gc,{icon:"plus"})}),(0,p.jsxs)("span",{className:"menu-title flex-grow-0",children:["New ",u]})]})})]})}):null]}),z&&Object.keys(z).length>1&&/\/(moderation|addfeed|managefeed)/.test(window.location.pathname)?(0,p.jsx)(i.A,{placement:"bottom",overlay:(0,p.jsx)(o.A,{children:"Add more content"}),children:(0,p.jsx)(m.N_,{style:{cursor:"pointer"},to:"/content/addfeed/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):""),className:"btn btn-primary btn-lg ms-2 h-38px w-38px text-center px-3 py-2",children:(0,p.jsx)(d.gc,{icon:"plus"})})}):null]}),(0,p.jsx)(x,{show:I,apiError:W,setApiError:M,title:"Gallery",onCreate:(e,t,s)=>{const a=null===e||void 0===e?void 0:e.trim();(e=>null===_||void 0===_?void 0:_.some((t=>t.name===e)))(a)?M("Gallery name already exists."):a&&(O(!0),H((0,w.kg)({name:a,status:s,autoUpdate:t||0,deleted:0,id:"",action:1},K,Y)))},onUpdate:(e,t,s,a)=>{t&&t.length>0&&(O(!0),H((0,w.kg)({name:null===t||void 0===t?void 0:t.trim(),status:s,id:e,autoUpdate:a||0,deleted:0,action:2},K,Y)))},editContent:F,handleClose:()=>{G([]),Z(!1),M("")},deleteContent:e=>{y().fire({title:"Are You Sure?",text:"Are you sure you want to permanently delete this Website template?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((t=>{t.value?H((0,w.kg)({name:e.name,status:e.status,autoUpdate:e.autoUpdate||0,id:e.id,deleted:0,action:3},K,Y)):t.dismiss}))},spinner:D})]})}}}]);