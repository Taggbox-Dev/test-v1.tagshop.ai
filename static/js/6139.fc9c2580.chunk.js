"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[6139],{96139:(t,e,s)=>{s.r(e),s.d(e,{default:()=>C});var a=s(9950),i=s(73878),n=s(70804),r=s(59051),l=s.n(r),d=s(97937),c=s(45276),o=s(14021),h=s.n(o),p=s(52867),m=s(54810),x=s(36431),u=s(66345),g=s(42074),v=s(1480),j=s(49157),w=s(54480),f=s(47208),N=s(88749),b=s(44414);class _ extends a.Component{constructor(t){super(t),this.setLastSearchTag=()=>{var t,e;const{authorized:s,modalAssetData:a}=this.props;var i=null!==s&&void 0!==s&&null!==(t=s.userData)&&void 0!==t&&t.user_data.user.extra_data?JSON.parse(null===s||void 0===s||null===(e=s.userData)||void 0===e?void 0:e.user_data.user.extra_data):{},n=null===i||void 0===i?void 0:i.LAST_SEARCH_TAG,r="";r=Array.isArray(n)?n:n?[n]:[],this.setState({selectedTag:r},(()=>{this.props.fetchProductList(1,10,this.state.selectedTag,"",(()=>{}),null===a||void 0===a?void 0:a.referenceId,null===a||void 0===a?void 0:a.newMedia)}))},this.handleClickOutsideTagProduct=t=>{var e,s;!this.tagProductRef||null!==(e=this.tagProductRef)&&void 0!==e&&null!==(s=e.current)&&void 0!==s&&s.contains(t.target)||this.setState({showtags:!1})},this.handleClickOutside=t=>{var e;!this.outsideNewRef.current||null!==(e=this.outsideNewRef.current)&&void 0!==e&&e.contains(t.target)||this.setState({showProd:!1})},this.filterProduct=t=>{const e=t.target.value;this.setState({searchText:e})},this.triggerAction=()=>{const{searchText:t,selectedTag:e}=this.state,{SEARCH_PRODUCTS_TEXT:s,fetchProductList:a,modalAssetData:i}=this.props;(null===t||void 0===t?void 0:t.length)>1?(this.setState({showProd:!0,loading:!0}),s(t),a(1,10,e,t,this.responceApi,null===i||void 0===i?void 0:i.referenceId,null===i||void 0===i?void 0:i.newMedia)):t||(this.setState({showProd:!0,loading:!0}),s(""),a(1,10,e,"",this.responceApi,null===i||void 0===i?void 0:i.referenceId,null===i||void 0===i?void 0:i.newMedia))},this.responceApi=()=>{this.setState({loading:!1})},this.removeTag=t=>{const e=this.state.selectedTag.filter((e=>e!==t));this.setState({selectedTag:e,searchTag:"",showtags:!1,productTags:[]},(()=>{var t,e;return this.props.fetchProductList(1,10,this.state.selectedTag,"",this.responceApi,null===(t=this.props.modalAssetData)||void 0===t?void 0:t.referenceId,null===(e=this.props.modalAssetData)||void 0===e?void 0:e.newMedia)})),(0,f.oU)({LAST_SEARCH_TAG:e}),this.props.getUserInfo_afterChanges()},this.product_tags_search=t=>{const e=t.target.value;this.setState({loadingTag:!0,showtags:(null===e||void 0===e?void 0:e.length)>0}),(0,v.Wb)(e).then((t=>{const{data:e}=t.data;this.setState({productTags:e,showtags:!(!e||!e.length),loadingTag:!1})})),this.setState({searchTag:e})},this.getData_bySelected_Tag=t=>{var e=[...this.state.selectedTag,t];this.setState({selectedTag:[...new Set(e)],showtags:!1,searchTag:""},(()=>{var t,e;this.props.fetchProductList(1,10,this.state.selectedTag,"",this.responceApi,null===(t=this.props.modalAssetData)||void 0===t?void 0:t.referenceId,null===(e=this.props.modalAssetData)||void 0===e?void 0:e.newMedia),(0,f.oU)({LAST_SEARCH_TAG:this.state.selectedTag}),this.props.getUserInfo_afterChanges()}))},this.handleScroll=()=>{const t=this.listRef.current;if(t){t.getBoundingClientRect().bottom<=window.innerHeight&&this.setState({scrolledToBottom:!0},(()=>{this.filterProductOnScrolle()}))}},this.addProduct=(t,e)=>{var s,a;const{modalAssetData:i}=this.props;let n=null!==i&&void 0!==i&&i.postproduct&&(null===i||void 0===i?void 0:i.postproduct.length)>0?(0,p._u)(i):"45%";const r={left:"45%",top:"".concat(n)},l="left:45%;top:".concat(n,";");this.props.TAG_PRODUCT_ACTION(t,e,r,l,null===i||void 0===i?void 0:i.feedId,this.callbackMsg);const{authorized:d}=this.props;(null!==d&&void 0!==d&&null!==(s=d.userData)&&void 0!==s&&s.user_data.user.extra_data?JSON.parse(null===d||void 0===d||null===(a=d.userData)||void 0===a?void 0:a.user_data.user.extra_data):{}).PRODUCT_TAGGED_POST||(0,f.oU)({PRODUCT_TAGGED_POST:!0}).then((t=>{this.props.getUserInfo_afterChanges(),this.setState({firstTime:!0})})),this.setState({showProd:!1})},this.changePrdId=t=>{this.setState({productId:t})},this.callbackMsg=t=>{this.setState({errorMsg:t},(()=>{setTimeout((()=>{this.setState({errorMsg:""})}),5e3)}))},this.filterProductOnScrolle=()=>{const{total_pages:t}=this.props;this.state.currentPage<t&&!this.state.sentReq&&this.setState({currentPage:this.state.currentPage+1,sentReq:!0},(()=>{var t,e;return this.props.ACTION_PRODUCT_LIST_FORTAG(this.state.currentPage,10,this.state.selectedTag,this.state.searchText,this.completedPageCall,null===(t=this.props.modalAssetData)||void 0===t?void 0:t.referenceId,null===(e=this.props.modalAssetData)||void 0===e?void 0:e.newMedia)}))},this.completedPageCall=()=>this.setState({sentReq:!1}),this.removeTaggProduct=(t,e,s)=>{this.props.REMOVE_TAGGED_PRODUCT_ACTION(t,e,s)},this.state={tagedprod:[],showProd:!1,showtags:!1,searchTag:"",loadingTag:!1,productTags:[],selectedTag:[],productId:0,errorMsg:"",searchText:"",currentPage:1,loading:!1,scrolledToBottom:!1,sentReq:!1,visenzeId:null,visenzeProduct:null,firstTime:!1},this.outsideNewRef=a.createRef(),this.outsideNewRef2=a.createRef(),this.listRef=a.createRef(),this.tagProductRef=a.createRef()}componentDidMount(){window.addEventListener("click",this.handleClickOutside),window.addEventListener("click",this.handleClickOutsideTagProduct),window.addEventListener("scroll",this.handleScroll),this.setLastSearchTag()}componentWillUnmount(){window.removeEventListener("click",this.handleClickOutside),this.searchTimeout&&clearTimeout(this.searchTimeout),window.removeEventListener("scroll",this.handleScroll),window.addEventListener("click",this.handleClickOutsideTagProduct)}componentDidUpdate(t,e){this.state.searchText!==e.searchText&&(this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((()=>{this.triggerAction()}),800))}render(){const{showProd:t,selectedTag:e,productTags:s,showtags:a,searchTag:i,loadingTag:n,errorMsg:r,searchText:l,sentReq:d}=this.state,{item:c,searchProducts:o,loadingTagProduct:h,changeHotspotStatus:p,enableHotspot:m}=this.props;return(0,b.jsx)("div",{className:"tagProduct_rightAlign",children:(0,b.jsx)("div",{className:"tagProduct_content_wrap",children:(0,b.jsxs)("div",{className:"tagProduct_postDetail_wrapper",children:[(0,b.jsxs)("div",{className:"tagProduct_proSearch",children:[(0,b.jsxs)("div",{className:"f-between mb-5",children:[(0,b.jsx)("h5",{className:"m-0 tagProduct_title",children:"Tag Products"}),5!=c.type&&3!=c.type&&1!=c.type?(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,b.jsx)("label",{className:"col-form-label mr-2 font-size-sm py-1",htmlFor:"enable-hotspot",children:"Enable Hotspot"}),(0,b.jsx)("span",{className:"switch switch-sm",children:(0,b.jsxs)("label",{children:[(0,b.jsx)("input",{type:"checkbox",id:"enable-hotspot",value:"0",className:"",onChange:()=>p(c.hotspot,c.referenceId),checked:1==m}),(0,b.jsx)("span",{})]})})]}):""]}),(0,b.jsxs)("div",{className:"from-group position-relative tagProduct_searchBox",children:[(0,b.jsxs)("div",{className:"input-group input-group-md input-group-solid mb-3",children:[(0,b.jsx)("input",{type:"text",id:"searchProduct",className:"form-control form-control",ref:this.outsideNewRef,autoComplete:"off",placeholder:"Search Products By name, category, SKU, tags",onFocus:()=>this.setState({showProd:!t}),onChange:this.filterProduct,value:l}),(0,b.jsx)("div",{className:"input-group-append",children:(0,b.jsx)("span",{className:"input-group-text",children:(0,b.jsx)("span",{className:"svg-icon svg-icon-sm",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.196",height:"20.261",viewBox:"0 0 20.196 20.261",children:(0,b.jsx)("g",{id:"search",transform:"translate(0.25 0.25)",children:(0,b.jsx)("path",{id:"Path_762","data-name":"Path 762",d:"M30.455,29.3,25.72,24.562a8.294,8.294,0,1,0-1.162,1.162l4.735,4.731A.82.82,0,0,0,30.455,29.3ZM19.3,25.949A6.651,6.651,0,1,1,25.953,19.3,6.657,6.657,0,0,1,19.3,25.949Z",transform:"translate(-11 -11)",fill:"#959595",stroke:"#959595",strokeWidth:"0.5"})})})})})})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("span",{style:{color:"#db4b20"},children:r})}),(0,b.jsxs)("div",{className:"input-group input-group-md input-group-solid",ref:this.tagProductRef,children:[(0,b.jsx)("input",{type:"text",id:"searchProduct",className:"form-control form-control",ref:this.outsideNewRef2,autoComplete:"off",placeholder:"Search with multiple tags",onChange:this.product_tags_search,value:i}),n?(0,b.jsx)("div",{className:"spinner spinner-black spinner-right"}):"",a&&s?(0,b.jsx)("div",{className:"ts_dropdown_tagList",children:(0,b.jsx)("ul",{id:"productList",className:"tag_list ",ref:this.listRef2,children:s.map(((t,e)=>(0,b.jsx)("li",{className:"",onClick:()=>this.getData_bySelected_Tag(t),children:t},"prd_tags_".concat(e))))})}):""]}),(0,b.jsx)("div",{className:"tagsOuterWrap",children:e&&e.length>0?e.map(((t,e)=>(0,b.jsxs)("span",{className:"tagProduct_selected_tags",children:[t,(0,b.jsx)("button",{type:"button",className:"tagProduct_close_btn","data-bs-dismiss":"modal",onClick:()=>this.removeTag(t),children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",children:(0,b.jsx)("g",{stroke:"none","stroke-width":"1",fill:"none",fillRule:"evenodd",children:(0,b.jsxs)("g",{transform:"translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)",fill:"#000000",children:[(0,b.jsx)("rect",{x:"0",y:"7",width:"16",height:"2",rx:"1"}),(0,b.jsx)("rect",{transform:"translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000) ",x:"0",y:"7",width:"16",height:"2",rx:"1"})]})})})})]},e))):""}),t&&o?(0,b.jsxs)("div",{className:"ts_dropdown_productList",children:[(0,b.jsxs)("ul",{id:"productList",className:"produt_list list-inline",ref:this.listRef,onScroll:this.handleScroll,children:[h?(0,b.jsxs)("div",{className:"w-100 text-center",children:[" ",(0,b.jsx)("div",{className:"spinner spinner-black spinner-right"})]}):o.map(((t,e)=>{var s,a,i;return(0,b.jsx)("li",{className:"p-2 border mb-2 tb_pro_add",children:(0,b.jsxs)("div",{className:"d-flex position-relative productCard_single align-items-center",onClick:()=>this.addProduct(t,c.referenceId),children:[(0,b.jsx)("div",{className:"productList_Image",children:(0,b.jsx)("img",{src:null!==t&&void 0!==t&&null!==(s=t.product_image)&&void 0!==s&&s.includes("?")?"https://cdn.taggbox.com/v7/".concat(null===t||void 0===t?void 0:t.product_image,"&w=100"):"https://cdn.taggbox.com/v7/".concat(null===t||void 0===t?void 0:t.product_image,"?w=100"),onError:t=>t.target.src="".concat(u.krE,"media/products/no-product.svg"),style:{width:"98%",padding:"1px"}})}),(0,b.jsxs)("div",{className:"d-flex flex-column contentAlignRight",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-lg-0 my-2 pr-3 overflow-hidden w-100",children:[(0,b.jsxs)("strong",{className:"text-dark tb_pro_title__",children:[" ",t.product_title," "]}),(0,b.jsx)("span",{className:"d-flex align-items-center tb_pro_price",children:t.product_discount&&t.product_discount>0||t.product_price&&t.product_price>0?(0,b.jsxs)("span",{children:[t.price_currency_symbol,0!=t.product_discount?t.product_discount:t.product_price?t.product_price:0]}):""})]}),(0,b.jsx)("div",{className:"d-flex popupCategoury",children:t.shopify_product_type?(0,b.jsxs)("div",{children:[" Category:  ",t.shopify_product_type]}):""}),t.recomended?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"tagProduct_aiRecomended",children:[(0,b.jsxs)("span",{children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"12",viewBox:"0 0 11 12",fill:"none",children:(0,b.jsx)("path",{d:"M7.02539 2.22266L8.25 1.75L8.70117 0.546875C8.72266 0.439453 8.83008 0.375 8.9375 0.375C9.02344 0.375 9.13086 0.439453 9.15234 0.546875L9.625 1.75L10.8281 2.22266C10.9355 2.24414 11 2.35156 11 2.4375C11 2.54492 10.9355 2.65234 10.8281 2.67383L9.625 3.125L9.15234 4.34961C9.13086 4.43555 9.02344 4.5 8.9375 4.5C8.83008 4.5 8.72266 4.43555 8.70117 4.34961L8.25 3.125L7.02539 2.67383C6.91797 2.65234 6.875 2.54492 6.875 2.4375C6.875 2.35156 6.91797 2.24414 7.02539 2.22266ZM5.52148 4.41406L7.9707 5.53125C8.09961 5.5957 8.18555 5.72461 8.18555 5.85352C8.18555 5.98242 8.09961 6.11133 7.9707 6.17578L5.52148 7.29297L4.4043 9.74219C4.33984 9.87109 4.21094 9.95703 4.08203 9.95703C3.95312 9.95703 3.82422 9.87109 3.78125 9.74219L2.64258 7.29297L0.193359 6.17578C0.0644531 6.11133 0 5.98242 0 5.85352C0 5.72461 0.0644531 5.5957 0.193359 5.53125L2.64258 4.41406L3.78125 1.96484C3.82422 1.83594 3.95312 1.75 4.08203 1.75C4.21094 1.75 4.33984 1.83594 4.4043 1.96484L5.52148 4.41406ZM8.70117 7.42188C8.72266 7.31445 8.83008 7.25 8.9375 7.25C9.02344 7.25 9.13086 7.31445 9.15234 7.42188L9.625 8.625L10.8281 9.09766C10.9355 9.11914 11 9.22656 11 9.3125C11 9.41992 10.9355 9.52734 10.8281 9.54883L9.625 10L9.15234 11.2246C9.13086 11.3105 9.02344 11.375 8.9375 11.375C8.83008 11.375 8.72266 11.3105 8.70117 11.2246L8.25 10L7.02539 9.54883C6.91797 9.52734 6.875 9.41992 6.875 9.3125C6.875 9.22656 6.91797 9.11914 7.02539 9.09766L8.25 8.625L8.70117 7.42188Z",fill:"#4E69ED"})}),"Ai-Recommended"]}),(0,b.jsx)("div",{className:"trueSense_logo",children:(0,b.jsx)("img",{src:"".concat(u.krE,"media/trueSense-logo.svg"),alt:"trueSense-logo"})})]})}):"",(0,b.jsx)("div",{className:"d-flex popupTags",children:null===t||void 0===t||null===(a=t.tags)||void 0===a||null===(i=a.split(","))||void 0===i?void 0:i.map(((t,e)=>t?(0,b.jsx)("span",{className:"tags",children:(0,b.jsx)("span",{children:t})},"tags".concat(e)):""))})]})]})},"prd_td_".concat(e))})),d?(0,b.jsxs)("div",{className:"w-100 text-center",children:[(0,b.jsx)("div",{className:"spinner spinner-black spinner-center py-5 mb-5 w-auto d-inline-block"})," "]}):""]}),(0,b.jsx)("div",{className:"d-flex flex-column py-3 add_pro_action__ ts_Upload_Product",children:(0,b.jsxs)(g.N_,{to:"/content/products",type:"button",className:"btn p-0 add-new-product border-0",children:[(0,b.jsx)("span",{className:"svg-icon svg-icon-md",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,b.jsxs)("g",{id:"Group_4424","data-name":"Group 4424",transform:"translate(10922 -4685)",children:[(0,b.jsx)("rect",{id:"Rectangle_2094","data-name":"Rectangle 2094",width:"24",height:"24",transform:"translate(-10922 4685)",fill:"none",opacity:"0"}),(0,b.jsx)("path",{id:"Path_5219","data-name":"Path 5219",d:"M-15.382,10.935h-6.172V4.765A1.065,1.065,0,0,0-22.618,3.7a1.065,1.065,0,0,0-1.064,1.064v6.17h-6.174a1.058,1.058,0,0,0-.751.317,1.056,1.056,0,0,0-.305.756,1.068,1.068,0,0,0,1.058,1.055h6.172v6.169a1.059,1.059,0,0,0,.311.754,1.021,1.021,0,0,0,.755.313,1.055,1.055,0,0,0,.749-.309,1.059,1.059,0,0,0,.313-.756V13.063h6.175a1.066,1.066,0,0,0,1.057-1.072A1.069,1.069,0,0,0-15.382,10.935Z",transform:"translate(-10887.383 4685)",fill:"#3F7AF2"})]})})}),"Upload New Product"]})})]}):""]})]}),(0,b.jsx)("div",{className:"tagProduct_sideContent",children:(0,b.jsx)("div",{className:"tagProduct_shop_cont form-group position-relative mb-0 border-bottom",children:(0,b.jsx)("div",{id:"taggedProduct",children:c.postproduct&&c.postproduct.length>0?c.postproduct.map(((t,e)=>{var s;return(0,b.jsx)("div",{className:"tagg_pro_wrap_",children:t&&t.product?(0,b.jsx)("div",{className:"tagged_pro__",children:(0,b.jsx)("div",{className:"p-2 border mb-2 tagProduct_product_card",children:(0,b.jsxs)("div",{className:"d-flex align-items-center position-relative",children:[(0,b.jsx)("span",{className:"tagProduct_count",children:e+1}),(0,b.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 mr-4",children:(0,b.jsx)("div",{className:"symbol-label",children:(0,b.jsx)("img",{src:null===t||void 0===t||null===(s=t.product)||void 0===s?void 0:s.product_image,onError:t=>t.target.src="".concat(u.krE,"media/products/no-product.svg"),style:{width:"98%",padding:"1px"}})})}),(0,b.jsxs)("div",{className:"d-flex flex-column flex-grow-1 my-lg-0 my-2 pr-3 overflow-hidden tagProduct_contentAlignRight",children:[(0,b.jsxs)("strong",{className:"text-dark mb-1 tagProduct_proTitle",children:[" ",t.product.product_title," "]}),(0,b.jsxs)("span",{className:"d-flex align-items-center tagProduct_proPrice",children:[0!=t.product.product_discount&&t.product.product_discount!=t.product.product_price?(0,b.jsxs)("span",{className:"text-muted mr-2 tagProduct_productPrice",children:[t.product.discount_currency_symbol,Math.trunc(100*t.product.product_price)/100]}):"",t.product.product_discount&&t.product.product_discount>0||t.product.product_price&&t.product.product_price>0?(0,b.jsxs)("span",{className:"text-dark tagProduct_discountPrice",children:[t.product.discount_currency_symbol,0==t.product.product_discount?t.product.product_price:t.product.product_discount]}):""]})]}),(0,b.jsx)("div",{className:"d-flex align-items-center py-lg-0",children:(0,b.jsx)("button",{type:"button",className:"btn btn-link btn-icon btn-sm tagProduct_btn-clean tagProduct_pro_delete",onClick:()=>this.removeTaggProduct(t.product.product_sku,t.product.id,t.post_id),children:(0,b.jsx)("span",{className:"svg-icon svg-icon-sm",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,b.jsxs)("g",{"data-name":"Group 4331",transform:"translate(10956 -4533)",children:[(0,b.jsx)("rect",{id:"Rectangle_2069","data-name":"Rectangle 2069",width:"24",height:"24",transform:"translate(-10956 4533)",fill:"none",opacity:"0"}),(0,b.jsx)("g",{id:"Group_4324","data-name":"Group 4324",transform:"translate(-10952 4536)",children:(0,b.jsx)("path",{id:"Path_5188","data-name":"Path 5188",d:"M2.722,16.328A2,2,0,0,0,4.694,18h6.612a2,2,0,0,0,1.972-1.672L14,6H2ZM9,9.5A.5.5,0,0,1,9.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5Zm-4,0A.5.5,0,0,1,5.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5ZM15,2H11A2,2,0,0,0,9,0H7A2,2,0,0,0,5,2H1A1,1,0,0,0,1,4H15a1,1,0,0,0,0-2Z",fill:"#959595",fillRule:"evenodd"})})]})})})})})]})})}):""},"tagged_".concat(e))})):(0,b.jsx)("div",{className:"no_pro_yet__",children:(0,b.jsxs)("p",{className:"d-flex text-muted align-items-center",children:[(0,b.jsx)("span",{className:"svg-icon svg-icon-xxl mr-2 svg-icon-dark-25",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33.5",height:"33.5",viewBox:"0 0 33.5 33.5",children:(0,b.jsxs)("g",{id:"Group_6628","data-name":"Group 6628",transform:"translate(-166.946 -241.539)",children:[(0,b.jsx)("path",{id:"Path_5640","data-name":"Path 5640",d:"M183.7,241.539a16.75,16.75,0,1,0,16.75,16.75A16.769,16.769,0,0,0,183.7,241.539Zm0,32a15.25,15.25,0,1,1,15.25-15.25A15.268,15.268,0,0,1,183.7,273.539Z",fill:"#dcdddf"}),(0,b.jsx)("g",{id:"Path_5639","data-name":"Path 5639",children:(0,b.jsx)("path",{id:"Path_5641","data-name":"Path 5641",d:"M187.624,254.808v1.5h-1.5v-1.5h-4.775v1.5h-1.5v-1.5h-1.217l-1.182,10.25h12.676l-1.181-10.25h-1.321Zm-7.775-1.5V252.6a3.9,3.9,0,1,1,7.775,0v.712h1.765a1,1,0,0,1,.994.885l1.3,11.251a1,1,0,0,1-.878,1.108.9.9,0,0,1-.116.007h-13.8a1,1,0,0,1-1-1,.878.878,0,0,1,.007-.115l1.3-11.255a1,1,0,0,1,.993-.885Zm1.5,0h4.775V252.6a2.4,2.4,0,1,0-4.775,0Z",fill:"#dcdddf"})})]})})}),"No Products Tagged Yet"]})})})})})]})})})}}const y=(0,i.Ng)((t=>{var e,s,a,i,n;return{total_pages:null===(e=t.products)||void 0===e?void 0:e.total_pages,searchProducts:null===(s=t.products)||void 0===s?void 0:s.searchProducts,ai_tagProduct:null===(a=t.products)||void 0===a?void 0:a.ai_tagProduct,loadingTagProduct:null===(i=t.products)||void 0===i?void 0:i.loadingTagProduct,moderation:t.moderation,ctaData:null===(n=t.ctaData)||void 0===n?void 0:n.data,authorized:t.authorized}}),(t=>({SEARCH_PRODUCTS_TEXT:e=>t({type:w.kbX,payload:e}),ACTION_PRODUCT_LIST_FORTAG:(e,s,a,i,n,r,l)=>t((0,v.O0)(e,s,a,i,n,r,l)),TAG_PRODUCT_ACTION:(e,s,a,i,n,r)=>t((0,j.gw)(e,s,a,i,n,r)),REMOVE_TAGGED_PRODUCT_ACTION:(e,s,a)=>t((0,j.PB)(e,s,a)),getUserInfo_afterChanges:()=>t((0,N.AW)()),fetchProductList:(e,s,a,i,n)=>t((0,v.EU)(e,s,a,i,n))})))(_);class T extends a.Component{constructor(t){super(t),this.onClickToRemoveTag=t=>e=>{let{tagString:s}=this.state;s.splice(t,1),this.setState({tagString:s,changesStatus:!0})},this.addTagButtonValue=()=>{this.setState({addTagButton:!1})},this.handleOutsideClick=t=>{this.editorEnable&&this.editorEnable.current&&!this.editorEnable.current.contains(t.target)&&this.editorEnableButton&&!this.editorEnableButton.current.contains(t.target)&&this.editorEnableButton&&null!==!this.editorEnableButton.current.contains(t.target)?this.setState({descriptionEditable:!1}):this.editorEnable&&this.editorEnable.current&&!this.editorEnable.current.contains(t.target)&&null!==this.editorEnable.current.contains(t.target)&&this.setState({descriptionEditable:!0})},this.onClickNewAddTag=t=>{const{newTag:e,tagString:s}=this.state,{modalAssetData:a}=this.props;"Enter"!==t.key&&13!==t.keyCode||e&&String(e).length>=3&&(s.push(e),this.setState({tagString:s,newTag:"",selectedOption:null,changesStatus:!0,addTagButton:!0}))},this.addNewTag=t=>this.setState({newTag:t.target.value,changesStatus:!0}),this.onClickToSave=t=>{const{tagString:e}=this.state,{modalAssetData:s}=this.props;e&&e.length},this.setNewTags=t=>{t&&t.value?this.setState({newTag:t.value,selectedOption:t}):this.setState({newTag:"",selectedOption:null})},this.onChangeContent=t=>{this.setState({content:t.target.value,changesStatus:!0})},this.onChangeTag=t=>{this.setState({newTag:t.target.value})},this.onSaveChanges=t=>{const{modalAssetData:e}=this.props,{tagString:s,content:a}=this.state;String(e.collection),String(e.collection),String(e.id),e.postFile,s.join(",")},this.onFilterWithTag=t=>e=>{const{modalCallback:s,tagsFilter:a}=this.props;a(t),setTimeout((()=>s(!1)),200)},this.contentHeight=t=>{var e=t.length/35,s=Math.round(e);return e>=s?20*(s+1)+20:20*s+20},this.state={descriptionEditable:!1,addTagButton:!0,tagString:[],newTag:"",listTags:[],selectedOption:null,content:"",changesStatus:!1},this.editorEnable=a.createRef(),this.editorEnableButton=a.createRef()}componentWillMount(){const{tagList:t}=this.props;if(t&&t.length>0){var e=[];t.map((t=>{e.push({value:t,label:t})})),this.setState({listTags:e})}}descriptionToggle(){this.setState({descriptionEditable:!0})}componentDidMount(){document.addEventListener("click",this.handleOutsideClick);const{modalAssetData:t}=this.props;t&&Object.keys(t).length>0&&(t.tags&&String(t.tags).length>0?this.setState({tagString:String(t.tags).split(","),content:t.content}):this.setState({tagString:[],content:t.content})),this.setState({textAreaHeight:20*(this.state.content.length/35).toFixed()})}render(){const{descriptionEditable:t,addTagButton:e,tagString:s,content:a,changesStatus:i,newTag:r}=this.state,{modalAssetData:o,networkData:u,collections:g,isTrash:v,changeHotspotStatus:j,enableHotspot:w}=this.props,f=18==o.networkId?2:o.networkId;u&&u.length>0&&u.filter((t=>t.id==f));return(0,b.jsx)("div",{className:"full_modal_sidebar position-relative",children:(0,b.jsxs)(h(),{children:[(0,b.jsx)(y,{item:o,changeHotspotStatus:j,enableHotspot:w}),(0,b.jsxs)("div",{className:"full_modal_sidebar_inner position-relative ".concat(2==o.status?"pt-10":null),children:[2==o.status?(0,b.jsxs)("div",{className:"w-100 py-2 block-center text-light-alt fs-10 fw-medium position-absolute start-0 top-0 w-100 bg-danger",style:{opacity:".7"},children:[(0,b.jsx)("i",{className:"ri-eye-off-line me-1 fs-8"})," This Asset is Hidden"]}):null,(0,b.jsx)("h3",{className:"border-bottom mb-xxl-3 mb-2 pb-xxl-3 pb-2 fs-7 pt-1",children:(0,b.jsx)("span",{className:"text-uppercase fw-medium",children:"General Info"})}),(0,b.jsx)("table",{className:"table table-borderless",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Author"})}),(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,b.jsxs)("div",{className:"d-flex align-items-center mr-2 cursor-pointer",onClick:o.link?t=>window.open(o.link,"_blank"):null,children:[(0,b.jsx)(x.A,{className:"symbol symbol-34 rounded-circle flex-shrink-0 me-2 overflow-hidden bg-light",imageSize:38,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-8",name:o.name,profileUrl:(0,p.G9)(o.picture),networkId:o.networkId?o.networkId:0}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-dark mb-0 text-break fw-bold",children:o.name}),(0,b.jsxs)("small",{className:"mb-0 text-muted text-break",children:["@",o.username]})]})]})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Network"})}),(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("span",{className:"me-2 d-flex",children:(0,b.jsx)("img",{className:"img-fluid",src:(0,m.pc)("media/icons/social-icons/".concat((0,p.EC)(o.networkId?o.networkId:0),".svg")),height:18,width:18,alt:o.networkId?o.networkId:0})}),(0,b.jsx)("span",{className:"text-dark",children:(0,p.Oi)(o.networkId?o.networkId:0)})]})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Connection"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[o.feedname&&32==o.networkId?(0,b.jsx)("img",{className:"img-fluid me-2",src:(0,m.pc)("media/icons/social-icons/".concat((0,p.EC)(32),".svg")),height:18,width:18,alt:"Chrome"}):null,(0,b.jsx)("span",{className:"text-dark text-break",children:o.feedname?(0,n.Ay)(o.feedname):"--"})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"File Name"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,b.jsx)("span",{className:"text-dark text-break",children:o.filename?o.filename:"--"})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"File Extension"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,b.jsx)("span",{className:"text-dark text-break",children:o.ext?o.ext:"--"})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Type"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,b.jsx)("span",{className:"text-dark text-break",children:(0,p.nY)(o.type)?(0,p.nY)(o.type):"--"})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Dimensions"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,b.jsxs)("span",{className:"text-dark text-break",children:[o.mediaWidth?o.mediaWidth:"--","x",o.mediaHeight?o.mediaHeight:"--"]})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Size"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,b.jsx)("span",{className:"text-dark text-break",children:o.size?o.size:"--"})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Created"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,b.jsx)("span",{className:"text-dark text-break",children:l()(o.created).utcOffset(0).format("DD MMM YYYY hh:mmA")})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Modified"})}),(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,b.jsx)("span",{className:"text-dark text-break",children:l()(o.modified).utcOffset(0).format("DD MMM YYYY hh:mmA")})]})]}),o.ugcstatus?(0,b.jsx)(b.Fragment,{children:2==o.ugcstatus?(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Rights"})}),(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,b.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,b.jsx)("span",{className:"svg-icon me-1 text-success",children:(0,b.jsx)(c.A,{src:(0,m.pc)("media/icons/svg-icons/rights-approved-fill.svg"),height:16,width:16})}),(0,b.jsx)("span",{className:"text-success",children:"Request Approved"})]})})]}):1==o.ugcstatus?(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Rights"})}),(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,b.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,b.jsx)("span",{className:"svg-icon me-1 text-warning",children:(0,b.jsx)(c.A,{src:(0,m.pc)("media/icons/svg-icons/rights-pending-fill.svg"),height:16,width:16})}),(0,b.jsx)("span",{className:"text-warning",children:"Request Pending"})]})})]}):3==o.ugcstatus?(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,b.jsx)("span",{className:"text-muted",children:"Rights"})}),(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,b.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,b.jsx)("span",{className:"svg-icon me-1 text-danger",children:(0,b.jsx)(c.A,{src:(0,m.pc)("media/icons/svg-icons/rights-rejected-fill.svg"),height:16,width:16})}),(0,b.jsx)("span",{className:"text-danger",children:"Request Rejected"})]})})]}):null}):null,!o.recommendation||2!=o.type&&4!=o.type?null:(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:[(0,b.jsx)("p",{className:"text-muted mb-1 text-nowrap me-2",children:"Ai Recommendation "}),(0,b.jsx)(c.A,{src:(0,m.pc)("media/images/svg/trusense.svg?v=1"),height:26,width:110})]}),(0,b.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,b.jsxs)("div",{className:"d-flex align-items-start",children:[(0,b.jsx)("div",{className:"h-12px w-12px rounded-circle d-flex flex-shrink-0 mt-1 ".concat(1==o.recommendation.type?"bg-success":2==o.recommendation.type?"bg-warning":3==o.recommendation.type?"bg-danger":null)}),(0,b.jsxs)("span",{className:"text-dark text-break ps-1",children:[o.recommendation.label," (",o.recommendation.score,"%)"]})]})})]})]})}),(0,b.jsx)("h3",{className:"border-bottom mb-xxl-3 mb-2 pb-xxl-3 pb-2 fs-7 pt-2",children:(0,b.jsx)("span",{className:"text-uppercase fw-medium",children:"Tag"})}),s&&s.length>0?(0,b.jsxs)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:[s.map(((t,e)=>t&&String(t).length>0?(0,b.jsxs)("div",{className:"block-center badge bg-secondary text-gray-800 rounded-pill border me-2 mb-2 fw-medium",children:[(0,b.jsx)("span",{className:"cursor-pointer",onClick:v?null:this.onFilterWithTag(t),children:t}),(0,b.jsx)(d.A,{variant:"link",className:"text-decoration-none p-0 ms-1",onClick:this.onClickToRemoveTag(e),children:(0,b.jsx)("i",{className:"ri-close-line icon-6 me-0"})})]},e):null)),e?(0,b.jsx)(b.Fragment,{children:v?null:(0,b.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm rounded-pill me-2 mb-2 py-1",onClick:this.addTagButtonValue,children:[(0,b.jsx)("i",{className:"ri-add-line"}),"Add Tag"]})}):(0,b.jsx)("div",{className:"d-flex me-2 mb-2",children:(0,b.jsx)("input",{type:"text",className:"form-control form-control-sm border-0 fw-semibold fs-7",placeholder:"Enter Tag...",value:r,onChange:this.onChangeTag,onKeyUp:this.onClickNewAddTag})})]}):(0,b.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:e?(0,b.jsx)(b.Fragment,{children:v?null:(0,b.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm rounded-pill me-2 mb-2",onClick:this.addTagButtonValue,children:[(0,b.jsx)("i",{className:"ri-add-line"}),"Add Tag"]})}):(0,b.jsx)("div",{className:"d-flex me-2 mb-2",children:(0,b.jsx)("input",{type:"text",className:"form-control form-control-sm border-0 fw-semibold fs-7",placeholder:"Enter Tag...",value:r,onChange:this.onChangeTag,onKeyUp:this.onClickNewAddTag})})}),(0,b.jsx)("h3",{className:"border-bottom mb-xxl-3 mb-2 pb-xxl-3 pb-2 fs-7 pt-2",children:(0,b.jsx)("span",{className:"text-uppercase fw-medium",children:"Description"})}),(0,b.jsxs)("div",{className:"mb-3 d-flex align-items-start",children:[(0,b.jsx)("div",{className:"d-flex flex-grow-1 pe-2",ref:this.editorEnable,children:(0,b.jsx)("textarea",{type:"text",className:"form-control ".concat(t?"":" resize-none border-0 p-0"),placeholder:"Add Description",rows:1,value:a,readOnly:!t,onChange:this.onChangeContent,style:{minHeight:this.contentHeight(a)>80?this.contentHeight(a):80}})}),v||t?null:(0,b.jsx)("button",{type:"button",className:"btn btn-icon btn-sm btn-active-light w-30px h-30px",ref:this.editorEnableButton,children:(0,b.jsx)("i",{className:"ri-edit-2-fill icon-6 me-0"})})]})]}),v?null:(0,b.jsx)("div",{className:"assets_btn_wrapper bg-white",children:(0,b.jsx)("button",{type:"button",className:"btn btn-primary w-100 ".concat(i?"":"disabled"," "),onClick:this.onSaveChanges,children:"Save Changes"})})]})})}}const C=(0,i.Ng)((t=>{var e,s;return{networkData:null===t||void 0===t||null===(e=t.networks)||void 0===e?void 0:e.networkData,tagList:null===t||void 0===t||null===(s=t.tags)||void 0===s?void 0:s.tagList}}),(t=>({})))(T)}}]);