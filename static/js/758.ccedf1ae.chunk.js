"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[758],{85608:(e,t,s)=>{s.d(t,{$r:()=>i});const i="".concat("https://cloud.tagshop.ai/","tmp/")},18038:(e,t,s)=>{s.d(t,{A:()=>d});var i=s(9950),a=s(97937),l=s(45276),o=s(54810),n=s(44414);class r extends i.Component{constructor(e){super(e),this.handleClose=()=>{this.props.filterToggleCallback(!1)},this.state={width:window.innerWidth,isSavedList:!1},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){this.setState({width:window.innerWidth})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{filterToggle:e,heading:t,redirectUrl:s,isHide:i,closeAside:r}=this.props,{width:d}=this.state;return(0,n.jsxs)("div",{className:"aside__ border-end ".concat(d<1280?"offcanvas offcanvas-start ".concat(e?"show":""):""),id:"aside__toggle",children:[(0,n.jsx)("div",{className:"d-flex justify-content-end d-xl-none p-3 border-bottom",children:(0,n.jsx)(a.A,{variant:"secondary",id:"toggle_aside",size:"sm",className:"d-flex border-0 p-0",onClick:()=>r(),children:(0,n.jsx)("span",{className:"svg-icon",children:(0,n.jsx)(l.A,{className:"me-0",height:12,width:12,src:(0,o.p)("/media/icons/fontAwesome/close.svg")})})})}),(0,n.jsx)("div",{className:"aside__body w-100",children:this.props.children})]})}}const d=r},18633:(e,t,s)=>{s.d(t,{a:()=>l});var i=s(54810),a=s(44414);const l=e=>{let{bg:t}=e;return(0,a.jsx)("div",{className:"loader__ position-absolute h-100 w-100 f-center top-0 start-0 bg-".concat(t," rounded-3"),children:(0,a.jsx)("img",{src:(0,i.p)("media/images/spinner.gif"),height:70,width:70,alt:"Tagshop Spinner",className:"img-fluid"})})}},9676:(e,t,s)=>{s.d(t,{A:()=>S});var i=s(9950),a=s(34483),l=s(97937),o=s(45276),n=s(54810),r=s(44268),d=s(47264),c=s(44414);const h=e=>{let{show:t,title:s,onCreate:a,onUpdate:o,editContent:n,handleClose:h,isStatus:p,contentList:u,spinner:m}=e;const[g,v]=(0,i.useState)(null===n||void 0===n?void 0:n.name),[x,f]=(0,i.useState)(!1),[y,S]=(0,i.useState)(null===n||void 0===n?void 0:n.autoUpdate),[b,w]=(0,i.useState)(null===n||void 0===n?void 0:n.status),[j,A]=(0,i.useState)(!1),N=()=>{if(g&&g.length>0)if(u.length>0){_(g).length>0?f(!0):a(g)}else a(g);else A(!0)},_=e=>u.filter((t=>String(t.name).toLowerCase().trim()==String(e).toLowerCase().trim())),O=e=>{if(g&&g.length>0)if(u.length>0){_(g).length>0?f(!0):o(e,g,b,y)}else o(e,g,b,y);else A(!0)};return(0,i.useEffect)((()=>{v(null===n||void 0===n?void 0:n.name),S(null===n||void 0===n?void 0:n.autoUpdate),w(null===n||void 0===n?void 0:n.status),A(!1),f(!1)}),[n]),(0,c.jsxs)(r.A,{show:t,size:"sm",onHide:h,id:"gallery_modal",centered:!0,children:[(0,c.jsx)(r.A.Header,{closeButton:!0,children:(0,c.jsxs)(r.A.Title,{children:[n&&Object.keys(n).length>0?"Edit":"Create"," ",s]})}),(0,c.jsxs)(r.A.Body,{children:[(0,c.jsxs)(d.A.Group,{className:"mb-4",children:[(0,c.jsx)(d.A.Control,{id:"g_name",className:"fw-semibold text-dark ".concat(j||x?"is-invalid":""),placeholder:"Enter Gallery Name",value:g,onChange:e=>v(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(n&&Object.keys(n).length>0?O(n.id):N())}}),j||x?(0,c.jsx)("span",{className:"invalid-feedback",children:x?"Name already exists.":"".concat(s," name is required")}):""]}),p&&n&&Object.keys(n).length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d.A.Group,{className:"f-between mb-4",children:[(0,c.jsx)(d.A.Label,{htmlFor:"gallery_a_u",children:"Auto Update"}),(0,c.jsx)(d.A.Check,{type:"switch",id:"gallery_a_u",defaultChecked:y,onChange:()=>S(!y)})]}),(0,c.jsxs)(d.A.Group,{className:"f-between mb-4",children:[(0,c.jsx)(d.A.Label,{htmlFor:"gallery_s",children:"Status"}),(0,c.jsx)(d.A.Check,{type:"switch",id:"gallery_s",defaultChecked:b,onClick:()=>w(!b)})]})]}):null]}),(0,c.jsxs)(r.A.Footer,{children:[(0,c.jsx)(l.A,{variant:"secondary",size:"sm",className:"me-3",onClick:()=>{v(""),h("")},children:"Close"}),n&&Object.keys(n).length>0?(0,c.jsx)(l.A,{size:"sm",className:m?"spinner":"",onClick:()=>O(n.id),children:"Update"}):(0,c.jsx)(l.A,{size:"sm",className:m?"spinner":"",onClick:N,children:"Save"})]})]})};var p=s(73878),u=s(28429),m=s(4695),g=s.n(m),v=s(22662),x=s(32417),f=s(25537),y=s(54480);const S=e=>{let{contentList:t,changeWebsite:s,selectedContent:r,title:d,iswebsite:m,method:S,addNew:b,noList:w}=e;const[j,A]=(0,i.useState)(!1),[N,_]=(0,i.useState)([]),[O,C]=(0,i.useState)(!1),D=(0,p.wA)(),E=(0,u.Zp)();(0,i.useEffect)((()=>{b&&A(!0)}),[b]);const T=(e,t,s)=>{A(!1),_([]),s&&"shopon"==s&&(S(),k(),C(!1))},k=()=>{_([]),A(!1),d.includes("ShopOn")&&D({type:y.NBv,payload:!1})};return(0,c.jsxs)(c.Fragment,{children:[w?null:(0,c.jsxs)(a.A,{className:"w-100",children:[(0,c.jsx)(a.A.Toggle,{variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between bg-white p-1",children:(0,c.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,c.jsx)("div",{className:"symbol symbol-24 radius-2 flex-shrink-0 me-2",children:(0,c.jsx)(o.A,{src:(0,n.p)("media/icons/fontAwesome/website.svg"),width:"20",height:"20"})}),(0,c.jsxs)("div",{className:"overflow-hidden",style:{maxWidth:130},children:[(0,c.jsx)("p",{className:"text-gray-800 fw-semibold mb-0 text-ellipsis fs-9 text-start",children:null===r||void 0===r?void 0:r.name}),(null===r||void 0===r?void 0:r.totalPost)&&(0,c.jsxs)("p",{className:"mb-0 fs-10 text-muted",children:[null===r||void 0===r?void 0:r.totalPost," Posts"]})]})]})}),(0,c.jsxs)(a.A.Menu,{className:"w-100",children:[null===t||void 0===t?void 0:t.map(((e,t)=>{var i;const h=m?null===e||void 0===e||null===(i=e.wall)||void 0===i?void 0:i.Wall:e;return(0,c.jsxs)("div",{className:"position-relative mb-1",children:[(0,c.jsx)(a.A.Item,{eventKey:null===h||void 0===h?void 0:h.id,onClick:()=>s(h),className:(null===h||void 0===h?void 0:h.id)==(null===r||void 0===r?void 0:r.id)?"active":"",children:(0,c.jsx)("div",{className:"menu-title",children:null===h||void 0===h?void 0:h.name})},t),(0,c.jsxs)("div",{className:"dropdown-action",children:[(0,c.jsx)(l.A,{variant:"dropdown-icon",onClick:()=>{var t;return(e=>{_(e),A(!0)})(m?null===e||void 0===e||null===(t=e.wall)||void 0===t?void 0:t.Wall:e)},children:(0,c.jsx)(o.A,{src:(0,n.p)("media/icons/fontAwesome/edit.svg"),width:"20",height:"20"})}),(0,c.jsx)(l.A,{variant:"dropdown-icon",onClick:()=>{var t,s,i;return i=m?null===e||void 0===e||null===(t=e.wall)||void 0===t||null===(s=t.Wall)||void 0===s?void 0:s.id:null===e||void 0===e?void 0:e.id,void g().fire({title:"Are You Sure?",text:"Are you sure you want to permanenetly delete this ".concat(d.toLowerCase()," template?"),icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((e=>{e.value&&(d.includes("Website")&&D((0,v.Q7)(i,T,E)),d.includes("ShopOn")&&D((0,x.IS)(i,T,E)),d.includes("Email")&&D((0,f.vt)(i,T,E)))}))},children:(0,c.jsx)(o.A,{src:(0,n.p)("media/icons/fontAwesome/delete.svg"),width:"20",height:"20"})})]})]})})),(0,c.jsx)("div",{className:"mt-2 pt-2 border-top",children:(0,c.jsxs)(a.A.Item,{onClick:()=>A(!0),className:"f-center",children:[(0,c.jsx)("span",{className:"svg-icon svg-icon-9",children:(0,c.jsx)(o.A,{src:(0,n.p)("media/icons/fontAwesome/plus.svg"),height:10,width:10})}),(0,c.jsxs)("span",{className:"menu-title flex-grow-0",children:["New ",d]})]})})]})]}),(0,c.jsx)(h,{show:j,title:d,onCreate:e=>{C(!0),d.includes("Website")&&D((0,v.nE)(e,T,E)),d.includes("ShopOn")&&D((0,x.Lw)(e,T,E)),d.includes("Email")&&D((0,f.Gz)(e,T,E))},onUpdate:(e,t)=>{C(!0),d.includes("Website")&&D((0,v.G$)(e,t,T)),d.includes("ShopOn")&&D((0,x.wR)({id:e,name:t},T)),d.includes("Email")&&D((0,f.rK)(e,t,T))},editContent:N,handleClose:k,contentList:t,spinner:O})]})}},10758:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Q});var i=s(9950),a=s(45358),l=s(5216),o=s(97937),n=s(10949),r=s.n(n),d=s(83529),c=s(89733),h=s(22890),p=s(48738),u=s.n(p),m=s(44089),g=s(44414);const v=i.forwardRef(((e,t)=>{let{bsPrefix:s,size:i,vertical:a=!1,className:l,role:o="group",as:n="div",...r}=e;const d=(0,m.oU)(s,"btn-group");let c=d;return a&&(c="".concat(d,"-vertical")),(0,g.jsx)(n,{...r,ref:t,role:o,className:u()(l,c,i&&"".concat(d,"-").concat(i))})}));v.displayName="ButtonGroup";const x=v,f=()=>{},y=i.forwardRef(((e,t)=>{let{bsPrefix:s,name:i,className:a,checked:l,type:n,onChange:r,value:d,disabled:c,id:h,inputRef:p,...v}=e;return s=(0,m.oU)(s,"btn-check"),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("input",{className:s,name:i,type:n,value:d,ref:p,autoComplete:"off",checked:!!l,disabled:!!c,onChange:r||f,id:h}),(0,g.jsx)(o.A,{...v,ref:t,className:u()(a,c&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:h})]})}));y.displayName="ToggleButton";const S=y,b=i.forwardRef(((e,t)=>{const{children:s,type:a="radio",name:l,value:o,onChange:n,vertical:p=!1,...u}=(0,d.Zw)(e,{value:"onChange"}),m=()=>null==o?[]:[].concat(o);return"radio"!==a||l||r()(!1),(0,g.jsx)(x,{...u,ref:t,vertical:p,children:(0,h.Tj)(s,(e=>{const t=m(),{value:s,onChange:o}=e.props;return i.cloneElement(e,{type:a,name:e.name||l,checked:-1!==t.indexOf(s),onChange:(0,c.A)(o,(e=>((e,t)=>{if(!n)return;const s=m(),i=-1!==s.indexOf(e);"radio"!==a?n(i?s.filter((t=>t!==e)):[...s,e],t):i||n(e,t)})(s,e)))})}))})})),w=Object.assign(b,{Button:S});var j=s(3302),A=s.n(j),N=s(44259),_=s(51960),O=s(47264),C=s(75623),D=s(66345),E=s(49332),T=s(45276),k=s(85608),L=s(54810);class I extends i.Component{constructor(){super(...arguments),this.state={modalOpen:!1},this.uppyUploader=new E.A,this.onClickToOpen=()=>{this.setState({modalOpen:!0},(()=>A()(".uppy-Dashboard-close").click((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({modalOpen:!1})}))))},this.onClickToClose=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({modalOpen:!1})},this.doneButtonHandler=()=>{this.uppyUploader.uppy.cancelAll(),this.onClickToClose()}}componentDidMount(){const{changeimgFile:e,changeProfile:t}=this.props;this.uppyUploader.uppy.on("transloadit:result",((e,s)=>{t("".concat(k.$r).concat(s.id,".").concat(s.ext)),setTimeout((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({modalOpen:!1})}),300)}))}componentWillUnmount(){this.uppyUploader.uppy.cancelAll(),this.uppyUploader.uppy.close({reason:"unmount"}),this.setState({modalOpen:!1})}render(){const{title:e,description:t,profile:s,changeTitle:i,changeDescription:a,changeProfile:l,slug:n,changeSlug:r,slugError:d,slugMsg:c,imgFile:h,changeimgFile:p,errorTitle:u,errorDescription:m,errorslug:v,changeTheme:x,theme_type:f,footer_action2:y,copied:b,copyText:j,ifchanges:A}=this.props;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"border-bottom px-4 pb-3 mb-4",children:[(0,g.jsx)("h6",{className:"mb-2",children:"Get Started With ShopOn.bio"}),(0,g.jsx)("p",{className:"mb-3 fs-9 text-muted",children:"Brand Bio in 300 char \ud83d\udc47 Craft a compelling brand bio! \ud83c\udf1f Showcase your uniqueness, values, and mission. Inspire your audience with brevity. Highlight what sets you apart! \ud83d\udd25 #BrandStory"}),(0,g.jsxs)("div",{className:"d-flex align-items-center mb-4",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center flex-shrink-0 position-relative me-3",children:[(0,g.jsx)("div",{className:"symbol symbol-50 bg-white rounded-circle overflow-hidden cursor-pointer text-gray-400",onClick:this.onClickToOpen,children:s||e?s?(0,g.jsx)(_.A,{src:"".concat(s),height:50,width:50,alt:e,fluid:!0}):(0,g.jsx)("span",{className:"f-center text-uppercase h-34px w-34px fs-2 text-light",children:null===e||void 0===e?void 0:e.charAt(0).toUpperCase()}):(0,g.jsx)(T.A,{src:(0,L.p)("media/icons/fontAwesome/user.svg"),height:30,width:30})}),(0,g.jsx)(o.A,{variant:"primary",className:"f-center position-absolute rounded-circle h-20px w-20px p-0 fs-10",style:{bottom:-2,right:-2},onClick:this.onClickToOpen,children:(0,g.jsx)(T.A,{height:12,width:12,className:"me-0",src:(0,L.p)("/media/icons/fontAwesome/plus.svg")})})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(O.A.Control,{className:"".concat(u?"is-invalid":""),value:e,onChange:e=>i(e.target.value)}),(0,g.jsx)("span",{className:"invalid-feedback",children:u?"This field is required ":""})]})]}),(0,g.jsx)(O.A.Control,{as:"textarea",className:"".concat(m?"is-invalid":""),maxLength:300,onChange:e=>{e.target.value.length<151?a(e.target.value):a(e.target.value.substring(0,300))},value:t,placeholder:"Bio",style:{minHeight:120}}),(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,g.jsx)("div",{className:"pt-1",style:{color:"red",fontSize:"10px"},children:m?"This field is required":""}),(0,g.jsx)("div",{className:"d-flex jsutify-content-end",children:(0,g.jsxs)("span",{className:"fs-10 text-muted pt-1",children:[null===t||void 0===t?void 0:t.length,"/300"]})})]})]}),(0,g.jsxs)("div",{className:"px-4 mb-4",children:[(0,g.jsx)(O.A.Label,{className:"",children:"Choose your ShopOn.bio Username"}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsxs)(C.A,{className:"error"==d?"is-invalid":"is-valid",children:[(0,g.jsx)(C.A.Text,{children:"shopon.bio/"}),(0,g.jsx)(O.A.Control,{className:"error"==d?"is-invalid":"is-valid",maxLength:"255",value:n,onChange:e=>r(e.target.value)}),"error"==d?(0,g.jsx)("span",{className:"invalid-feedback",children:c||"URL is already taken"}):"",(null===n||void 0===n?void 0:n.length)>2&&"success"==d?(0,g.jsx)("span",{className:"valid-feedback",children:"URL is available"}):""]})}),(0,g.jsxs)("div",{className:"d-flex flex-column mb-2",children:[(0,g.jsx)(O.A.Label,{children:"Theme type"}),(0,g.jsxs)(w,{type:"radio",name:"options",value:f,onChange:x,children:[(0,g.jsxs)(S,{variant:"secondary",id:"mode-2",value:1,children:[(0,g.jsx)(T.A,{height:12,width:12,src:(0,L.p)("/media/icons/fontAwesome/sun.svg")}),"Light"]}),(0,g.jsxs)(S,{variant:"secondary",id:"mode-3",value:2,children:[(0,g.jsx)(T.A,{height:12,width:12,src:(0,L.p)("/media/icons/fontAwesome/moon.svg")}),"Dark"]})]})]})]}),y&&!A?(0,g.jsx)("div",{className:"bg-white position-sticky border-top border-bottom bottom-0 px-4",style:{zIndex:9},children:(0,g.jsxs)(C.A,{className:"py-5",children:[(0,g.jsxs)("a",{className:"form-control text-nowrap text-dark fw-medium text-ellipsis",href:"https://".concat(D.onz?"":"test.","shopon.bio/").concat(n),target:"_blank",children:["https://",D.onz?"":"test.","shopon.bio/",n]}),(0,g.jsx)(o.A,{variant:"secondary",className:"".concat(A?"disabled":""),onClick:j,children:b?"Copied ":"Copy"})]})}):"",this.state.modalOpen?(0,g.jsx)(N.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:!0,onRequestCloseModal:this.onClickToClose,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam","ImageEditor"]}):null]})}}var U=s(18633),P=s(86781),R=s(68459);const H=e=>{let{title:t,desc:s,button:i,link:a,isFullScreen:l}=e;return(0,g.jsx)("div",{className:"create_page_ rounded-0 mx-auto f-center w-100 h-100",children:(0,g.jsx)(P.A,{className:"py-5 text-center w-100 justify-content-center",children:(0,g.jsxs)(R.A,{sm:10,lg:l?8:7,xl:l?7:6,xxl:l?6:5,children:[(0,g.jsx)("h2",{className:"text-center h3 mb-4",children:t}),(0,g.jsx)("div",{className:"video-border position-relative mb-5 border-lg overflow-hidden rounded-3 bg-white",style:{paddingBottom:"55%"},children:(0,g.jsx)("div",{className:"position-absolute start-0 top-0 video_play w-100 h-100",children:(0,g.jsx)("iframe",{className:"w-100 h-100",src:a,width:"640",height:"355",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:!0})})}),(0,g.jsx)("p",{className:"fs-7 text-muted fw-medium",children:s}),(0,g.jsx)(o.A,{onClick:()=>i.action(),size:l?"lg":"md",className:"my-3",children:i.text})]})})})};var W=s(73878),B=s(32417),z=s(47208),G=s(88749),F=s(54480),M=s(18038),K=s(24481),q=s(1391),Y=s(9676),$=s(52867),J=s(41397),V=s.n(J);class Z extends i.Component{constructor(){super(...arguments),this.state={footer_action1:!0,footer_action2:!1,lightMode:!0,darkMode:!1,spinner:!1,activeTab:1,activeGallery:[],shopOnbio:[],title:"",description:"",profile:"",imgFile:"",slug:"",currentSlug:"",slugError:"",theme_type:1,errorTitle:!1,errorDescription:!1,ifchanges:!1,copied:!1,shoponLoading:!0,analytics_shopon:!1,slugMsg:"",selectedWall:"",isMobile:!0,filterToggle:!1},this.selectedShopOn=()=>{const{shopOnList:e}=this.props.shopOnData;var t=null===e||void 0===e?void 0:e.find((e=>e.id==localStorage.getItem("shopOn_id")));this.setState({selectedWall:t||(e&&e[0]?e[0]:"")})},this.getShoponData=()=>{var e;const{shopOnData:t,allWalls:s}=this.props;var i=null===t||void 0===t||null===(e=t.shopOnList)||void 0===e?void 0:e.find((e=>e.id==(null===t||void 0===t?void 0:t.activeShopOn))),a=i||(null!==t&&void 0!==t&&t.shopOnList?null===t||void 0===t?void 0:t.shopOnList[0]:""),l=i&&i.wallId?i.wallId:s&&s[0]?s[0].id:"";if(a){var o;this.checkSlugAvailability(null===a||void 0===a||null===(o=a.slug)||void 0===o?void 0:o.toLowerCase()),localStorage.setItem("shopOnActive_wall",l);var n=null===s||void 0===s?void 0:s.find((e=>e.id==l));this.setState({title:a.title,description:a.description,profile:a.logo,slug:(null===a||void 0===a?void 0:a.slug).toLowerCase(),currentSlug:(null===a||void 0===a?void 0:a.slug).toLowerCase(),theme_type:a.type,activeGallery:n,slugError:"",spinner:!1,ifchanges:!a.wallId},(()=>{null!==a&&void 0!==a&&a.slug?a.wallId?this.setState({footer_action2:!0}):this.setState({footer_action2:!1}):(this.checkSlugAvailability(a.title),this.setState({footer_action2:!1,ifchanges:!a.wallId})),this.setShoponData(a)})),this.GETWALL_DATA(l)}},this.setShoponData=e=>{this.props.SHOPON_DESCRIPTION_REDUCER(e.description),this.props.SHOPON_LOGO_REDUCER(e.logo),this.props.SHOPON_TYPE_REDUCER(e.type),this.props.SHOPON_TITLE_REDUCER(e.title)},this.GETWALL_DATA=e=>{if(e){const{allWalls:s}=this.props;var t=null===s||void 0===s?void 0:s.find((t=>t.id==e));this.setState({activeGallery:t}),localStorage.setItem("shopOnActive_wall",JSON.parse(localStorage.getItem("isCollaborator"))?null===t||void 0===t?void 0:t.wallId:null===t||void 0===t?void 0:t.id),this.props.CHANGE_SHOPON_WALL(JSON.parse(localStorage.getItem("isCollaborator"))?t?t.wallId:e:t?t.id:e,21)}},this.checkSlugAvailability=e=>{if(e){var t,s=null===e||void 0===e||null===(t=e.toLowerCase())||void 0===t?void 0:t.replace(/ /g,"-").replace(/[^\w-]+/g,"");this.state.slug||this.setState({currentSlug:s}),this.setState({slug:s,ifchanges:!0},(()=>{(null===s||void 0===s?void 0:s.length)>=4?this.callSlug(s):this.setState({slugError:"error",slugMsg:"Slug characters length should be minimum 4."})}))}else this.setState({slug:e,slugError:"error",slugMsg:"Slug characters length should be minimum 4."})},this.callSlug=(0,$.sg)((e=>{(0,B.a8)({slug:e,id:localStorage.getItem("shopOn_id")}).then((e=>{const{responseCode:t,responseStatus:s,status:i,response_message:a,response_code:l}=e.data;200==t&&this.setState({slugError:i||s,slugMsg:a}),400==l&&this.setState({slugError:i||s,slugMsg:a})})).catch((e=>{console.log("error",e)}))}),500),this.submitShopon=()=>{const{title:e,ifchanges:t,description:s,profile:i,slug:a,theme_type:l}=this.state;if(t&&a.length>2&&e&&s&&i){this.setState({footer_action1:!0,spinner:!0});var o={wallId:localStorage.getItem("shopOnActive_wall"),id:localStorage.getItem("shopOn_id"),title:e,description:s,profile:i,theme_type:l,slug:a};this.props.UPDATE_SHOPON(o,this.getResponse),this.updateExtraDataKey("SHOPON_BIO_ADDED"),this.updateExtraDataKey("SHOPON_LINK_COPIED")}else e||this.setState({errorTitle:!0}),s||this.setState({errorDescription:!0})},this.getResponse=(e,t)=>{this.setState({slugError:!1,spinner:!1,ifchanges:!1,currentSlug:this.state.slug}),200==e?this.setState({footer_action2:!0}):this.setState({footer_action2:!1})},this.changeTitle=e=>{this.setState({title:e,errorTitle:!1,ifchanges:!0}),this.props.SHOPON_TITLE_REDUCER(e)},this.changeDescription=e=>{this.setState({description:e,errorDescription:!1,ifchanges:!0}),this.props.SHOPON_DESCRIPTION_REDUCER(e)},this.changeProfile=e=>{this.setState({profile:e,ifchanges:!0}),this.props.SHOPON_LOGO_REDUCER(e)},this.changeTheme=e=>{this.setState({theme_type:e,ifchanges:!0}),this.props.SHOPON_TYPE_REDUCER(e)},this.copyText=()=>{const{slug:e}=this.state;navigator.clipboard.writeText("https://".concat(D.onz?"":"test.","shopon.bio/").concat(e)),this.updateExtraDataKey("SHOPON_LINK_COPIED"),this.setState({copied:!0},(()=>setTimeout((()=>{this.setState({copied:!1})}),2e3)))},this.updateExtraDataKey=e=>{var t,s;const i=null!==(t=this.props.userData)&&void 0!==t&&t.user_data.user.extra_data?JSON.parse(null===(s=this.props.userData)||void 0===s?void 0:s.user_data.user.extra_data):{};if(i&&!i[e]){var a={};a[e]=!0,(0,z.oU)(a).then((e=>{this.props.getUserInfo_afterChanges()}))}},this.changDevice=e=>{this.setState({isMobile:1==e})},this.changeShopOn=e=>{const{shopOnData:t,navigate:s,allWalls:i,activeShopOn:a}=this.props;(0,z.oU)({shopOn_id:e.id}).then((a=>{localStorage.setItem("shopOn_id",e.id),s("/shoponBio/preview/".concat(e.id));var l=null===t||void 0===t?void 0:t.shopOnList.find((t=>t.id==e.id));this.props.SHOPON_BRAND_DATA_REDUCER();var o=null!==l&&void 0!==l&&l.wallId?null===l||void 0===l?void 0:l.wallId:i.id;localStorage.setItem("shopOnActive_wall",o),this.setState({selectedWall:l}),o||this.getShoponData(),this.props.CHANGE_SHOPON_WALL(o,20)}))},this.closeAside=()=>this.setState({filterToggle:!1})}componentDidMount(){var e,t,s,i,a;null!==(e=this.props.shopOnData)&&void 0!==e&&e.shopOnList&&null!==(t=this.props.shopOnData)&&void 0!==t&&t.shopOnList.length||this.props.GET_ALL_SHOPON_LIST(),null===(s=document.querySelector(".publish_sidebar_toggle"))||void 0===s||s.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector(".publish_sidebar_toggle"),s=document.querySelector(".ec_sidebar");t.classList.contains("active")?(t.classList.remove("active"),s.classList.remove("active")):(t.classList.add("active"),s.classList.add("active"))})),this.getShoponData();const l=null!==(i=this.props.userData)&&void 0!==i&&i.user_data.user.extra_data?JSON.parse(null===(a=this.props.userData)||void 0===a?void 0:a.user_data.user.extra_data):{};l&&!l.SHOPON_VISITED&&(0,z.oU)({SHOPON_VISITED:!0}).then((e=>{this.props.getUserInfo_afterChanges()})),this.selectedShopOn()}componentDidUpdate(e){var t,s;V().isEqual(e.allWalls,this.props.allWalls)||this.getShoponData(),(null===(t=this.props.shopOnData)||void 0===t?void 0:t.activeShopOn)!==(null===(s=e.shopOnData)||void 0===s?void 0:s.activeShopOn)&&setTimeout((()=>{this.getShoponData(),this.selectedShopOn()}),500),localStorage.getItem("analytics_shopon")&&(this.setState({analytics_shopon:!0}),localStorage.removeItem("analytics_shopon"))}render(){var e;const{footer_action1:t,theme_type:s,activeGallery:i,ifchanges:n,currentSlug:r,slugError:d,analytics_shopon:c,selectedWall:h,isMobile:p,filterToggle:u,spinner:m}=this.state,{allWalls:v,shopOnData:x}=this.props;return(0,g.jsx)(a.A,{fluid:!0,children:x&&null!==x&&void 0!==x&&null!==(e=x.shopOnList)&&void 0!==e&&e.length?(0,g.jsx)(l.A,{className:"content_inner shopon_bio border-0",children:(0,g.jsxs)(l.A.Body,{className:"p-0 d-flex w-100",children:[(0,g.jsx)(M.A,{filterToggle:u,closeAside:this.closeAside,children:(0,g.jsxs)(l.A,{className:"a_header_ a_footer_",children:[(0,g.jsx)(l.A.Header,{className:"py-4",children:(0,g.jsx)(Y.A,{contentList:null===x||void 0===x?void 0:x.shopOnList,changeWebsite:this.changeShopOn,selectedContent:h,title:"ShopOn bio",method:this.selectedShopOn,addShopon:x.addShoponNew})}),(0,g.jsxs)(l.A.Body,{className:"bg-gray-100 aside_body p-0",style:{marginBottom:-1},children:[(0,g.jsxs)("div",{className:"border-bottom p-4 mb-4",children:[(0,g.jsx)("h5",{children:"Select Content"}),(0,g.jsx)(K.A,{contentList:v,modifyContent:e=>this.setState({ifchanges:!0},(()=>this.GETWALL_DATA(e.id))),selectedContent:i,title:"Shop",onlySwitcher:!0})]}),t?(0,g.jsx)(I,{...this.state,changeTitle:e=>this.changeTitle(e),changeDescription:e=>this.changeDescription(e),changeProfile:e=>this.changeProfile(e),changeSlug:e=>this.checkSlugAvailability(e),changeTheme:e=>this.changeTheme(e),copyText:this.copyText}):""]}),(0,g.jsx)(l.A.Footer,{className:"d-flex justify-content-end",children:(0,g.jsx)("div",{children:(0,g.jsx)(o.A,{className:"my-1 ".concat(m?"spinner":""," ").concat(n?"":"disabled"," ").concat("error"==d?"disabled":""),onClick:this.submitShopon,children:"Save"})})})]})}),(0,g.jsxs)(l.A,{className:"preview_ p_header_",children:[x.wallData&&x.wallData.length?(0,g.jsx)(l.A.Header,{children:(0,g.jsxs)("div",{className:"f-between w-100",children:[(0,g.jsx)("span",{className:"h5 mb-0 text-dark",children:"Preview"}),(0,g.jsxs)("div",{className:"animated_btn-group rounded-2 ".concat(p?"active":""," d-none d-lg-block"),children:[(0,g.jsxs)(w,{className:"f-center",type:"radio",name:"device",value:p?1:2,onChange:this.changDevice,children:[(0,g.jsxs)(S,{size:"lg",variant:"animated",className:p?"text-primary":"text-muted",id:"mobile-btn",value:1,children:[(0,g.jsx)(T.A,{height:12,width:12,src:(0,L.p)("/media/icons/fontAwesome/mobile.svg")}),"Mobile"]}),(0,g.jsxs)(S,{size:"lg",variant:"animated",className:p?"text-muted":"text-primary",id:"laptop-btn",value:2,children:[(0,g.jsx)(T.A,{height:12,width:12,src:(0,L.p)("/media/icons/fontAwesome/desktop.svg")}),"Desktop"]})]}),(0,g.jsx)("div",{className:"animated_btn_bg"})]}),(0,g.jsx)("div",{children:(0,g.jsxs)(o.A,{variant:"link",size:"sm",className:"d-flex d-xl-none",onClick:()=>this.setState({filterToggle:!u}),children:["Menu",(0,g.jsx)(T.A,{className:"me-0 ms-2",height:12,width:12,src:(0,L.p)("/media/icons/fontAwesome/sliders.svg"),style:{marginTop:3}})]})})]})}):null,(0,g.jsxs)(l.A.Body,{className:"f-center flex-wrap flex-column",children:[x.loadingShopon?null:(0,g.jsx)("div",{className:"position-absolute top-0 end-0 m-3",children:(0,g.jsxs)(o.A,{variant:"link",size:"sm",className:"d-flex d-xl-none",onClick:()=>this.setState({filterToggle:!u}),children:["Menu",(0,g.jsx)(T.A,{className:"me-0 ms-2",height:12,width:12,src:(0,L.p)("/media/icons/fontAwesome/sliders.svg"),style:{marginTop:3}})]})}),x.loadingShopon?(0,g.jsx)(U.a,{}):x.wallData&&x.wallData.length?(0,g.jsx)("div",{className:"scale_preview_wrap ".concat(p?"mobile_active":"laptop_active"," ").concat(2==s?"bg-black":"bg-white"),children:(0,g.jsxs)("div",{className:"scale_preview position-relative",children:[p?(0,g.jsx)("div",{className:"position-relative h-30px f-center",style:{zIndex:2},children:(0,g.jsx)(T.A,{src:(0,L.p)("/media/images/mobile-bar-".concat(2==s?"dark":"light",".svg")),width:242,height:30})}):null,(0,g.jsx)("iframe",{title:"theme_live_preview",src:"".concat(D.C2_,"/").concat(r,"?editor=1"),id:"shopOnBioPreview"})]})}):(0,g.jsx)(H,{title:"Your Shopon.Bio Needs Content! \ud83e\udd33",desc:"Oops! Seems like your Shopon.Bio landing page is missing posts at the moment. To create a captivating landing page, add content to your gallery.",link:"https://player.vimeo.com/video/989382372",button:{action:()=>this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId"))),text:"Add Content"},isFullScreen:!1})]})]})]})}):x.shopOnListLoader?(0,g.jsx)("div",{style:{minHeight:"calc(100vh - 50px)"},children:(0,g.jsx)(U.a,{})}):(0,g.jsxs)("div",{className:"f-center",style:{minHeight:"calc(100vh - 50px)"},children:[(0,g.jsx)(H,{title:"Create a ShopOn, to start",desc:"Oops! Looks like you have deleted your ShopOn bio, create one by simply clicking on the button below.",link:"https://player.vimeo.com/video/989382372",button:{action:()=>this.props.TOGGLE_ADD_SHOPON(),text:"Create ShopOn Bio"},isFullScreen:!0}),(0,g.jsx)(Y.A,{title:"ShopOn bio",method:this.selectedShopOn,addNew:x.addShoponNew,noList:!0})]})})}}const Q=(0,W.Ng)((e=>{var t,s,i;return{allWalls:null===(t=e.dashboardData)||void 0===t||null===(s=t.dashboarddata)||void 0===s?void 0:s.allWalls,userData:null===(i=e.authorized)||void 0===i?void 0:i.userData,shopOnData:e.shopOnList}}),(e=>({CHANGE_SHOPON_WALL:(t,s)=>e((0,B.ay)(t,s)),UPDATE_SHOPON:(t,s)=>e((0,B.wR)(t,s)),getUserInfo_afterChanges:()=>e((0,G.AW)()),TOGGLE_ADD_SHOPON:()=>e({type:F.NBv,payload:!0}),SHOPON_TITLE_REDUCER:t=>e({type:F.A_q,payload:t}),SHOPON_DESCRIPTION_REDUCER:t=>e({type:F.gaL,payload:t}),SHOPON_LOGO_REDUCER:t=>e({type:F.RYB,payload:t}),SHOPON_TYPE_REDUCER:t=>e({type:F.Mg0,payload:t}),GET_ALL_SHOPON_LIST:()=>e((0,B.kq)()),SHOPON_BRAND_DATA_REDUCER:t=>e({type:F.IJo,payload:t})})))((0,q.A)(Z))},49332:(e,t,s)=>{s.d(t,{A:()=>h});var i=s(75794),a=(s(44259),s(35131)),l=s(21784),o=s(99637),n=s(67972),r=s(90900),d=s(52867);const c="https://app.taggbox.com";const h=class{constructor(e){this.uppy=new i.A({meta:{type:"avatar"},autoProceed:!0,debug:!0,allowMultipleUploads:!0,restrictions:{maxFileSize:104857600,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:e||["image/*"]}}),this.uppy.use(a.Ay,{params:{auth:{key:"0701d3d7f8d94e92a65a9cba388b1d96"},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",result:!0,bucket:"cloud.tagshop.ai",key:"47ABVORKG52UYE1KB28S",secret:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v",path:"tmp/${file.id}.${file.ext}"}}},waitForEncoding:!0}),this.uppy.use(o.A,{target:i.A.Dashboard,companionUrl:c}),this.uppy.use(l.A,{target:i.A.Dashboard,companionUrl:c}),this.uppy.use(n.A,{target:i.A.Dashboard,companionUrl:c}),this.uppy.use(r.A,{target:i.A.Dashboard,companionUrl:c}),this.uppy.on("restriction-failed",((e,t)=>"image"!=e.type.split("/")[0]?((0,d.r$)("You can only upload Image File"),!1):e.size>5e6?((0,d.r$)("Maximum allowed size of 4.8 MB"),!1):void 0))}}}}]);