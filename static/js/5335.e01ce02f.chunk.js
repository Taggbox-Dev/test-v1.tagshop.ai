"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5335],{75335:(e,s,l)=>{l.r(s),l.d(s,{default:()=>B});var t=l(9950),n=l(4695),a=l.n(n),c=l(52867);const r=e=>{a().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then((s=>{s.value?e():s.dismiss}))};var i=l(5216),o=l(86781),d=l(68459),m=l(8966),x=l(51960),h=l(21432),p=l(90246),f=l(95942),u=l(97937),j=l(54810),b=l(70804),y=l(1093),v=l(44414);function w(e){let{feeds:s,wallId:l,deleteExtraFeed:t}=e;return(0,v.jsxs)(y.A,{className:"mb-0 pb-3",size:"lg",responsive:!0,children:[(0,v.jsx)("thead",{className:"thead-light",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"fw-bold",children:"Feeds"}),(0,v.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:"Total Posts"}),(0,v.jsx)("th",{className:"fw-bold text-nowrap pe-6 text-end",style:{minWidth:100},children:(0,v.jsxs)(u.A,{variant:"danger",size:"sm",onClick:()=>r((()=>t(l,(e=>{if(e&&e.length>0)return e.map((e=>"".concat(e.id)))})(s)))),wallid:l,children:[(0,v.jsx)(j.Ah,{icon:"delete",height:16,width:16}),"Delete All"]})})]})}),(0,v.jsx)("tbody",{children:s.length>0?s.map((e=>{return(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:(0,v.jsxs)("p",{className:"mb-0 line-clamp-2 line-clamp",style:{maxWidth:300},children:[(s=e.feedsFilterprefix,s?s.includes("<i class")?(0,v.jsxs)(v.Fragment,{children:[(0,b.Ay)(s)," "]}):s:""),e.name," - ",e.feedsFiltername]})}),(0,v.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:100},children:"".concat(e.totalrecords>1?"Posts":"Post",": ").concat(e.totalrecords)}),(0,v.jsx)("td",{className:"text-end pe-6",children:(0,v.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,v.jsx)(h.A,{placement:"top",overlay:(0,v.jsx)(f.A,{children:"Delete"}),children:(0,v.jsx)(u.A,{variant:"icon",className:"btn-active-primary border-0",onClick:()=>r((()=>t(l,["".concat(e.id)]))),children:(0,v.jsx)(j.Ah,{icon:"delete",height:16,width:16})})})})})]});var s})):null})]})}var N=l(44268),g=l(45276),A=l(73878),C=l(33127),k=l(28429);const E=function(){const[e,s]=(0,t.useState)(!0),l=(0,k.Zp)(),n=()=>s(!1),a=(0,A.wA)();return(0,v.jsx)(N.A,{show:e,onHide:n,backdrop:"static",size:"lg",keyboard:!1,centered:!0,children:(0,v.jsxs)(N.A.Body,{children:[(0,v.jsx)(u.A,{variant:"close",className:"position-absolute end-0 top-0 m-5",onClick:n}),(0,v.jsxs)("div",{className:"py-lg-8 py-5 text-center",children:[(0,v.jsx)(g.A,{className:"mb-8",src:(0,j.pc)("media/images/error/warning.svg"),width:"60",height:"60"}),(0,v.jsx)("h2",{className:"h3",children:"You're Running Extra Gallery/Feeds!"}),(0,v.jsx)("p",{className:"mb-6 fs-7 text-muted fw-medium",children:"To enjoy uninterrupted services,kindly revoke the additional gallery/feed or upgrade your plan."}),(0,v.jsxs)("div",{className:"text-center mb-4",children:[(0,v.jsx)(u.A,{variant:"primary",className:"m-2 btn-min-w",onClick:()=>{n(),a((0,C.f$)(!0,2))},children:"Upgrade Now"}),(0,v.jsx)(u.A,{variant:"outline-primary",className:"m-2 btn-min-w",onClick:n,children:"Revoke"})]}),(0,v.jsx)("div",{className:"f-center",children:(0,v.jsx)(u.A,{variant:"link",onClick:()=>{l("/content/moderation/".concat(localStorage.getItem("wallId"))),n()},children:"Skip"})})]})]})})};var I=l(14313),F=l(66345);const K=function(e){let{feedsList:s,deleteWall:l,deleteFeedFromWall:n,extraGallery:a,extraFeeds:b}=e;const[y,N]=(0,t.useState)(0),g=(e,s)=>{(new I.A).post(F.S_I,{feedId:s,isCollaborator:0}).then((l=>{if(l.data&&Object.keys(l.data).length>0){const{message:t}=l.data;(0,c.k1)(t),n(e,s)}})).catch((e=>{}))};return(0,v.jsx)(i.A,{className:"limit_excced_ py-4",children:(0,v.jsxs)(i.A.Body,{children:[(0,v.jsxs)(o.A,{className:"me-6 gx-0 px-3",children:[(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Gallery"})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Feeds"})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Network"})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0 text-end",children:"Action"})})]}),(0,v.jsx)(m.A,{className:"accordion-lg bordered",onChange:e=>N(e[0]),children:s.map(((e,s)=>{const t=e&&e.feed.length>0?e.feed.map((e=>e.Networkicon)):[],n=!!(e&&e.feed.length>0);return(0,v.jsxs)(m.A.Item,{eventKey:e.wallId,className:"mb-4",children:[(0,v.jsx)(m.A.Header,{className:n?"":"arrow_disabled",children:(0,v.jsxs)(o.A,{className:"w-100",children:[(0,v.jsx)(d.A,{children:(0,v.jsx)("div",{className:"overflow-hidden p-2",style:{maxWidth:200},children:(0,v.jsx)("p",{className:"fw-bold mb-0 line-clamp-2 line-clamp",children:e.wallname})})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:e.feed.length})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap px-2 mb-0",children:t.length>0?(0,v.jsxs)("div",{className:"symbol-group symbol-hover flex-nowrap",children:[t.slice(0,3).map(((e,s)=>(0,v.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light",children:(0,v.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",style:{padding:5,backgroundColor:"#fff"},children:(0,v.jsx)(x.A,{src:(0,j.pc)("media/icons/social-icons/".concat((0,c.EC)(2),".svg")),fluid:!0})})},s))),t.length>3?(0,v.jsx)(h.A,{placement:"top",overlay:(0,v.jsx)(p.A,{children:(0,v.jsx)("div",{className:"tooltip_symbol d-flex flex-wrap p-3",children:t.slice(3,t.length).map(((e,s)=>(0,v.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light mx-1",children:(0,v.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",style:{padding:5,backgroundColor:"#fff"},children:(0,v.jsx)(x.A,{src:(0,j.pc)("media/icons/social-icons/".concat((0,c.EC)(2),".svg")),fluid:!0})})},s)))})}),children:(0,v.jsx)("div",{className:"symbol symbol-34 symbol-circle cursor-pointer",children:(0,v.jsxs)("span",{className:"symbol-label bg-primary fs-8 fw-semibold",children:["+",t.length-3]})})}):null]}):" -- "})}),(0,v.jsx)(d.A,{className:"text-end",children:(0,v.jsx)(h.A,{placement:"top",overlay:(0,v.jsx)(f.A,{children:"Delete"}),children:(0,v.jsx)(u.A,{variant:"icon",className:"btn-active-primary border-0 bg-light bg-light",onClick:()=>r((()=>{return s=e.wallId,void(new I.A).post(F.BI$,{wallId:"".concat(s),isCollaborator:0}).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{response_message:t}=e.data;(0,c.k1)(t),setTimeout((()=>{l(s)}),500)}})).catch((e=>{}));var s})),children:(0,v.jsx)(j.Ah,{icon:"delete",height:16,width:16})})})})]})}),n?(0,v.jsx)(m.A.Body,{className:"px-0",children:(0,v.jsx)("div",{className:"border rounded-1 p-3 overflow-hidden",children:(0,v.jsx)(w,{feeds:e.feed,wallId:e.wallId,deleteExtraFeed:g})})}):null]},e.wallId)}))}),(0,v.jsx)(E,{}),(0,v.jsx)("div",{className:"mt-5",children:(0,v.jsxs)("p",{className:"fs-8 text-muted text-center mb-0",children:["You have exceeded your plan's limit. Delete extra"," ",(0,v.jsxs)("strong",{children:[a?"Gallery (".concat(a,")"):""," ",b?"Feeds (".concat(b,")"):""]})," ","for a seamless experience."]})})]})})};var P=l(45358),S=l(88749);const B=function(){const[e,s]=(0,t.useState)([]),[l,n]=(0,t.useState)(0),[a,c]=(0,t.useState)(0),r=(0,A.d4)((e=>{var s,l;return null===(s=e.authorized)||void 0===s||null===(l=s.userData)||void 0===l?void 0:l.user_data}),A.bN),i=(0,A.wA)(),o=(0,k.Zp)();(0,t.useEffect)((()=>{d()}),[]);const d=()=>{(new I.A).post(F.Npq).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{responseData:l}=e.data;if(l&&Object.keys(l).length>0){const{wallList:e,delete_extra_feed:t,delete_extra_gallery:a}=l;n(a),c(t),e.length>0&&s(e)}}})).catch((e=>{}))};return(0,v.jsx)("div",{className:"d-flex flex-column flex-column-fluid align-items-center justify-content-center w-100 flex-position-center full-content",children:(0,v.jsxs)(P.A,{children:[(0,v.jsx)("div",{className:"mb-6 f-center",children:(0,v.jsx)(x.A,{src:(0,j.pc)("media/logo/tagshop-icon.svg"),height:50,width:50,alt:"Tagshop",fluid:!0})}),(0,v.jsx)(K,{feedsList:e,extraFeeds:a,extraGallery:l,deleteWall:l=>{const t=e.filter((e=>e.wallId!=l));s(t),d(),i((0,S.ug)((()=>{}))),parseInt(null===r||void 0===r?void 0:r.feeds)<=t.length&&o("/home")},deleteFeedFromWall:(l,t)=>{const n=t.map((e=>Number(e))),a=e.map((e=>{if(e.wallId===l){const s=e.feed.filter((e=>-1===n.indexOf(e.id)));e.feed=s}return e}));s(a),d(),i((0,S.ug)((()=>{}))),parseInt(null===r||void 0===r?void 0:r.feeds)<=a.length&&o("/home")}})]})})}},8966:(e,s,l)=>{l.d(s,{A:()=>k});var t=l(48738),n=l.n(t),a=l(9950),c=l(83529),r=l(44089),i=l(37210);function o(e,s){return Array.isArray(e)?e.includes(s):e===s}const d=a.createContext({});d.displayName="AccordionContext";const m=d;var x=l(44414);const h=a.forwardRef(((e,s)=>{let{as:l="div",bsPrefix:t,className:c,children:d,eventKey:h,...p}=e;const{activeEventKey:f}=(0,a.useContext)(m);return t=(0,r.oU)(t,"accordion-collapse"),(0,x.jsx)(i.A,{ref:s,in:o(f,h),...p,className:n()(c,t),children:(0,x.jsx)(l,{children:a.Children.only(d)})})}));h.displayName="AccordionCollapse";const p=h,f=a.createContext({eventKey:""});f.displayName="AccordionItemContext";const u=f,j=a.forwardRef(((e,s)=>{let{as:l="div",bsPrefix:t,className:c,onEnter:i,onEntering:o,onEntered:d,onExit:m,onExiting:h,onExited:f,...j}=e;t=(0,r.oU)(t,"accordion-body");const{eventKey:b}=(0,a.useContext)(u);return(0,x.jsx)(p,{eventKey:b,onEnter:i,onEntering:o,onEntered:d,onExit:m,onExiting:h,onExited:f,children:(0,x.jsx)(l,{ref:s,...j,className:n()(c,t)})})}));j.displayName="AccordionBody";const b=j;const y=a.forwardRef(((e,s)=>{let{as:l="button",bsPrefix:t,className:c,onClick:i,...d}=e;t=(0,r.oU)(t,"accordion-button");const{eventKey:h}=(0,a.useContext)(u),p=function(e,s){const{activeEventKey:l,onSelect:t,alwaysOpen:n}=(0,a.useContext)(m);return a=>{let c=e===l?null:e;n&&(c=Array.isArray(l)?l.includes(e)?l.filter((s=>s!==e)):[...l,e]:[e]),null==t||t(c,a),null==s||s(a)}}(h,i),{activeEventKey:f}=(0,a.useContext)(m);return"button"===l&&(d.type="button"),(0,x.jsx)(l,{ref:s,onClick:p,...d,"aria-expanded":Array.isArray(f)?f.includes(h):h===f,className:n()(c,t,!o(f,h)&&"collapsed")})}));y.displayName="AccordionButton";const v=y,w=a.forwardRef(((e,s)=>{let{as:l="h2",bsPrefix:t,className:a,children:c,onClick:i,...o}=e;return t=(0,r.oU)(t,"accordion-header"),(0,x.jsx)(l,{ref:s,...o,className:n()(a,t),children:(0,x.jsx)(v,{onClick:i,children:c})})}));w.displayName="AccordionHeader";const N=w,g=a.forwardRef(((e,s)=>{let{as:l="div",bsPrefix:t,className:c,eventKey:i,...o}=e;t=(0,r.oU)(t,"accordion-item");const d=(0,a.useMemo)((()=>({eventKey:i})),[i]);return(0,x.jsx)(u.Provider,{value:d,children:(0,x.jsx)(l,{ref:s,...o,className:n()(c,t)})})}));g.displayName="AccordionItem";const A=g,C=a.forwardRef(((e,s)=>{const{as:l="div",activeKey:t,bsPrefix:i,className:o,onSelect:d,flush:h,alwaysOpen:p,...f}=(0,c.Zw)(e,{activeKey:"onSelect"}),u=(0,r.oU)(i,"accordion"),j=(0,a.useMemo)((()=>({activeEventKey:t,onSelect:d,alwaysOpen:p})),[t,d,p]);return(0,x.jsx)(m.Provider,{value:j,children:(0,x.jsx)(l,{ref:s,...f,className:n()(o,u,h&&"".concat(u,"-flush"))})})}));C.displayName="Accordion";const k=Object.assign(C,{Button:v,Collapse:p,Item:A,Header:N,Body:b})},51960:(e,s,l)=>{l.d(s,{A:()=>m});var t=l(48738),n=l.n(t),a=l(9950),c=l(11942),r=l.n(c),i=l(44089),o=l(44414);r().string,r().bool,r().bool,r().bool,r().bool;const d=a.forwardRef(((e,s)=>{let{bsPrefix:l,className:t,fluid:a=!1,rounded:c=!1,roundedCircle:r=!1,thumbnail:d=!1,...m}=e;return l=(0,i.oU)(l,"img"),(0,o.jsx)("img",{ref:s,...m,className:n()(t,a&&"".concat(l,"-fluid"),c&&"rounded",r&&"rounded-circle",d&&"".concat(l,"-thumbnail"))})}));d.displayName="Image";const m=d}}]);