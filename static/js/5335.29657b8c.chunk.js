"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5335],{75335:(e,s,t)=>{t.r(s),t.d(s,{default:()=>B});var l=t(9950),n=t(4695),a=t.n(n),c=t(52867);const r=e=>{a().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then((s=>{s.value?e():s.dismiss}))};var i=t(5216),o=t(86781),d=t(68459),m=t(8966),x=t(51960),h=t(21432),p=t(90246),f=t(95942),u=t(97937),j=t(54810),b=t(70804),y=t(1093),v=t(44414);function w(e){let{feeds:s,wallId:t,deleteExtraFeed:l}=e;return(0,v.jsxs)(y.A,{className:"mb-0 pb-3",size:"lg",responsive:!0,children:[(0,v.jsx)("thead",{className:"thead-light",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"fw-bold",children:"Feeds"}),(0,v.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:"Total Posts"}),(0,v.jsx)("th",{className:"fw-bold text-nowrap pe-6 text-end",style:{minWidth:100},children:(0,v.jsxs)(u.A,{variant:"danger",size:"sm",onClick:()=>r((()=>l(t,(e=>{if(e&&e.length>0)return e.map((e=>"".concat(e.id)))})(s)))),wallid:t,children:[(0,v.jsx)(j.Ah,{icon:"delete",height:16,width:16}),"Delete All"]})})]})}),(0,v.jsx)("tbody",{children:s.length>0?s.map((e=>{return(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:(0,v.jsxs)("p",{className:"mb-0 line-clamp-2 line-clamp",style:{maxWidth:300},children:[(s=e.feedsFilterprefix,s?s.includes("<i class")?(0,v.jsxs)(v.Fragment,{children:[(0,b.Ay)(s)," "]}):s:""),e.name," - ",e.feedsFiltername]})}),(0,v.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:100},children:"".concat(e.totalrecords>1?"Posts":"Post",": ").concat(e.totalrecords)}),(0,v.jsx)("td",{className:"text-end pe-6",children:(0,v.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,v.jsx)(h.A,{placement:"top",overlay:(0,v.jsx)(f.A,{children:"Delete"}),children:(0,v.jsx)(u.A,{variant:"icon",className:"btn-active-primary border-0",onClick:()=>r((()=>l(t,["".concat(e.id)]))),children:(0,v.jsx)(j.Ah,{icon:"delete",height:16,width:16})})})})})]});var s})):null})]})}var N=t(44268),g=t(45276),A=t(73878),C=t(33127),k=t(28429);const E=function(){const[e,s]=(0,l.useState)(!0),t=(0,k.Zp)(),n=()=>s(!1),a=(0,A.wA)();return(0,v.jsx)(N.A,{show:e,onHide:n,backdrop:"static",size:"lg",keyboard:!1,centered:!0,children:(0,v.jsxs)(N.A.Body,{children:[(0,v.jsx)(u.A,{variant:"close",className:"position-absolute end-0 top-0 m-5",onClick:n}),(0,v.jsxs)("div",{className:"py-lg-8 py-5 text-center",children:[(0,v.jsx)(g.A,{className:"mb-8",src:(0,j.pc)("media/images/error/warning.svg"),width:"60",height:"60"}),(0,v.jsx)("h2",{className:"h3",children:"You're Running Extra Gallery/Feeds!"}),(0,v.jsx)("p",{className:"mb-6 fs-7 text-muted fw-medium",children:"To enjoy uninterrupted services,kindly revoke the additional gallery/feed or upgrade your plan."}),(0,v.jsxs)("div",{className:"text-center mb-4",children:[(0,v.jsx)(u.A,{variant:"primary",className:"m-2 btn-min-w",onClick:()=>{n(),a((0,C.f$)(!0,2))},children:"Upgrade Now"}),(0,v.jsx)(u.A,{variant:"outline-primary",className:"m-2 btn-min-w",onClick:n,children:"Revoke"})]}),(0,v.jsx)("div",{className:"f-center",children:(0,v.jsx)(u.A,{variant:"link",onClick:()=>{t("/content/moderation/".concat(localStorage.getItem("wallId"))),n()},children:"Skip"})})]})]})})};var I=t(14313),F=t(66345);const K=function(e){let{feedsList:s,deleteWall:t,deleteFeedFromWall:n,extraGallery:a,extraFeeds:b}=e;const[y,N]=(0,l.useState)(0),g=(e,s)=>{(new I.A).post(F.S_I,{feedId:s,isCollaborator:0}).then((t=>{if(t.data&&Object.keys(t.data).length>0){const{message:l}=t.data;(0,c.k1)(l),n(e,s)}})).catch((e=>{}))};return(0,v.jsx)(i.A,{className:"limit_excced_ py-4",children:(0,v.jsxs)(i.A.Body,{children:[(0,v.jsxs)(o.A,{className:"me-6 gx-0 px-3",children:[(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Gallery"})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Feeds"})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Network"})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0 text-end",children:"Action"})})]}),(0,v.jsx)(m.A,{className:"accordion-lg bordered",onChange:e=>N(e[0]),children:s.map(((e,s)=>{const l=e&&e.feed.length>0?e.feed.map((e=>e.Networkicon)):[],n=!!(e&&e.feed.length>0);return(0,v.jsxs)(m.A.Item,{eventKey:e.wallId,className:"mb-4",children:[(0,v.jsx)(m.A.Header,{className:n?"":"arrow_disabled",children:(0,v.jsxs)(o.A,{className:"w-100",children:[(0,v.jsx)(d.A,{children:(0,v.jsx)("div",{className:"overflow-hidden p-2",style:{maxWidth:200},children:(0,v.jsx)("p",{className:"fw-bold mb-0 line-clamp-2 line-clamp",children:e.wallname})})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:e.feed.length})}),(0,v.jsx)(d.A,{children:(0,v.jsx)("p",{className:"fw-bold text-nowrap px-2 mb-0",children:l.length>0?(0,v.jsxs)("div",{className:"symbol-group symbol-hover flex-nowrap",children:[l.slice(0,3).map(((e,s)=>(0,v.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light",children:(0,v.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",style:{padding:5,backgroundColor:"#fff"},children:(0,v.jsx)(x.A,{src:(0,j.pc)("media/icons/social-icons/".concat((0,c.EC)(2),".svg")),fluid:!0})})},s))),l.length>3?(0,v.jsx)(h.A,{placement:"top",overlay:(0,v.jsx)(p.A,{children:(0,v.jsx)("div",{className:"tooltip_symbol d-flex flex-wrap p-3",children:l.slice(3,l.length).map(((e,s)=>(0,v.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light mx-1",children:(0,v.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",style:{padding:5,backgroundColor:"#fff"},children:(0,v.jsx)(x.A,{src:(0,j.pc)("media/icons/social-icons/".concat((0,c.EC)(2),".svg")),fluid:!0})})},s)))})}),children:(0,v.jsx)("div",{className:"symbol symbol-34 symbol-circle cursor-pointer",children:(0,v.jsxs)("span",{className:"symbol-label bg-primary fs-8 fw-semibold",children:["+",l.length-3]})})}):null]}):" -- "})}),(0,v.jsx)(d.A,{className:"text-end",children:(0,v.jsx)(h.A,{placement:"top",overlay:(0,v.jsx)(f.A,{children:"Delete"}),children:(0,v.jsx)(u.A,{variant:"icon",className:"btn-active-primary border-0 bg-light bg-light",onClick:()=>r((()=>{return s=e.wallId,void(new I.A).post(F.BI$,{wallId:"".concat(s),isCollaborator:0}).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{response_message:l}=e.data;(0,c.k1)(l),setTimeout((()=>{t(s)}),500)}})).catch((e=>{}));var s})),children:(0,v.jsx)(j.Ah,{icon:"delete",height:16,width:16})})})})]})}),n?(0,v.jsx)(m.A.Body,{className:"px-0",children:(0,v.jsx)("div",{className:"border rounded-1 p-3 overflow-hidden",children:(0,v.jsx)(w,{feeds:e.feed,wallId:e.wallId,deleteExtraFeed:g})})}):null]},e.wallId)}))}),(0,v.jsx)(E,{}),(0,v.jsx)("div",{className:"mt-5",children:(0,v.jsxs)("p",{className:"fs-8 text-muted text-center mb-0",children:["You have exceeded your plan's limit. Delete extra"," ",(0,v.jsxs)("strong",{children:[a?"Gallery (".concat(a,")"):""," ",b?"Feeds (".concat(b,")"):""]})," ","for a seamless experience."]})})]})})};var P=t(45358),S=t(88749);const B=function(){const[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(0),[a,c]=(0,l.useState)(0),r=(0,A.d4)((e=>{var s,t;return null===(s=e.authorized)||void 0===s||null===(t=s.userData)||void 0===t?void 0:t.user_data}),A.bN),i=(0,A.wA)(),o=(0,k.Zp)();(0,l.useEffect)((()=>{d()}),[]);const d=()=>{(new I.A).post(F.Npq).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{responseData:t}=e.data;if(t&&Object.keys(t).length>0){const{wallList:e,delete_extra_feed:l,delete_extra_gallery:a}=t;n(a),c(l),e.length>0&&s(e)}}})).catch((e=>{}))};return(0,v.jsx)("div",{className:"d-flex flex-column flex-column-fluid align-items-center justify-content-center w-100 flex-position-center full-content",children:(0,v.jsxs)(P.A,{children:[(0,v.jsx)("div",{className:"mb-6 f-center",children:(0,v.jsx)(x.A,{src:(0,j.pc)("media/logo/tagshop-icon.svg"),height:50,width:50,alt:"Tagshop",fluid:!0})}),(0,v.jsx)(K,{feedsList:e,extraFeeds:a,extraGallery:t,deleteWall:t=>{const l=e.filter((e=>e.wallId!=t));s(l),d(),i((0,S.ug)((()=>{}))),parseInt(null===r||void 0===r?void 0:r.feeds)<=l.length&&o("/home")},deleteFeedFromWall:(t,l)=>{const n=l.map((e=>Number(e))),a=e.map((e=>{if(e.wallId===t){const s=e.feed.filter((e=>-1===n.indexOf(e.id)));e.feed=s}return e}));s(a),d(),i((0,S.ug)((()=>{}))),parseInt(null===r||void 0===r?void 0:r.feeds)<=a.length&&o("/home")}})]})})}},8966:(e,s,t)=>{t.d(s,{A:()=>k});var l=t(48738),n=t.n(l),a=t(9950),c=t(83529),r=t(44089),i=t(37210);function o(e,s){return Array.isArray(e)?e.includes(s):e===s}const d=a.createContext({});d.displayName="AccordionContext";const m=d;var x=t(44414);const h=a.forwardRef(((e,s)=>{let{as:t="div",bsPrefix:l,className:c,children:d,eventKey:h,...p}=e;const{activeEventKey:f}=(0,a.useContext)(m);return l=(0,r.oU)(l,"accordion-collapse"),(0,x.jsx)(i.A,{ref:s,in:o(f,h),...p,className:n()(c,l),children:(0,x.jsx)(t,{children:a.Children.only(d)})})}));h.displayName="AccordionCollapse";const p=h,f=a.createContext({eventKey:""});f.displayName="AccordionItemContext";const u=f,j=a.forwardRef(((e,s)=>{let{as:t="div",bsPrefix:l,className:c,onEnter:i,onEntering:o,onEntered:d,onExit:m,onExiting:h,onExited:f,...j}=e;l=(0,r.oU)(l,"accordion-body");const{eventKey:b}=(0,a.useContext)(u);return(0,x.jsx)(p,{eventKey:b,onEnter:i,onEntering:o,onEntered:d,onExit:m,onExiting:h,onExited:f,children:(0,x.jsx)(t,{ref:s,...j,className:n()(c,l)})})}));j.displayName="AccordionBody";const b=j;const y=a.forwardRef(((e,s)=>{let{as:t="button",bsPrefix:l,className:c,onClick:i,...d}=e;l=(0,r.oU)(l,"accordion-button");const{eventKey:h}=(0,a.useContext)(u),p=function(e,s){const{activeEventKey:t,onSelect:l,alwaysOpen:n}=(0,a.useContext)(m);return a=>{let c=e===t?null:e;n&&(c=Array.isArray(t)?t.includes(e)?t.filter((s=>s!==e)):[...t,e]:[e]),null==l||l(c,a),null==s||s(a)}}(h,i),{activeEventKey:f}=(0,a.useContext)(m);return"button"===t&&(d.type="button"),(0,x.jsx)(t,{ref:s,onClick:p,...d,"aria-expanded":Array.isArray(f)?f.includes(h):h===f,className:n()(c,l,!o(f,h)&&"collapsed")})}));y.displayName="AccordionButton";const v=y,w=a.forwardRef(((e,s)=>{let{as:t="h2",bsPrefix:l,className:a,children:c,onClick:i,...o}=e;return l=(0,r.oU)(l,"accordion-header"),(0,x.jsx)(t,{ref:s,...o,className:n()(a,l),children:(0,x.jsx)(v,{onClick:i,children:c})})}));w.displayName="AccordionHeader";const N=w,g=a.forwardRef(((e,s)=>{let{as:t="div",bsPrefix:l,className:c,eventKey:i,...o}=e;l=(0,r.oU)(l,"accordion-item");const d=(0,a.useMemo)((()=>({eventKey:i})),[i]);return(0,x.jsx)(u.Provider,{value:d,children:(0,x.jsx)(t,{ref:s,...o,className:n()(c,l)})})}));g.displayName="AccordionItem";const A=g,C=a.forwardRef(((e,s)=>{const{as:t="div",activeKey:l,bsPrefix:i,className:o,onSelect:d,flush:h,alwaysOpen:p,...f}=(0,c.Zw)(e,{activeKey:"onSelect"}),u=(0,r.oU)(i,"accordion"),j=(0,a.useMemo)((()=>({activeEventKey:l,onSelect:d,alwaysOpen:p})),[l,d,p]);return(0,x.jsx)(m.Provider,{value:j,children:(0,x.jsx)(t,{ref:s,...f,className:n()(o,u,h&&"".concat(u,"-flush"))})})}));C.displayName="Accordion";const k=Object.assign(C,{Button:v,Collapse:p,Item:A,Header:N,Body:b})},1093:(e,s,t)=>{t.d(s,{A:()=>i});var l=t(48738),n=t.n(l),a=t(9950),c=t(44089),r=t(44414);const i=a.forwardRef(((e,s)=>{let{bsPrefix:t,className:l,striped:a,bordered:i,borderless:o,hover:d,size:m,variant:x,responsive:h,...p}=e;const f=(0,c.oU)(t,"table"),u=n()(l,f,x&&"".concat(f,"-").concat(x),m&&"".concat(f,"-").concat(m),a&&"".concat(f,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),i&&"".concat(f,"-bordered"),o&&"".concat(f,"-borderless"),d&&"".concat(f,"-hover")),j=(0,r.jsx)("table",{...p,className:u,ref:s});if(h){let e="".concat(f,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,r.jsx)("div",{className:e,children:j})}return j}))}}]);