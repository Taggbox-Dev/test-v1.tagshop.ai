"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9877],{85608:(e,t,s)=>{s.d(t,{$r:()=>a});const a="".concat("https://cloud.tagshop.ai/","tmp/")},26806:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(51960),i=s(97937),l=s(54810),n=s(44414);const o=e=>{let{title:t,desc:s,button:o,icon:c,isFullScreen:r}=e;const d=r?86:66;return(0,n.jsx)("div",{className:"mx-auto f-center w-100",children:(0,n.jsx)("div",{className:"py-5 text-center w-100 justify-content-center",children:(0,n.jsxs)("div",{className:"mx-auto px-4",style:{maxWidth:520},children:[c?(0,n.jsx)(a.A,{className:"mb-4",src:(0,l.pc)("/media/icons/color-icons/".concat(c,".svg")),height:d,width:d,alt:"",fluid:!0}):null,t?(0,n.jsx)("h2",{className:"text-center h3",children:t}):null,s?(0,n.jsx)("p",{className:"fs-8 text-muted fw-medium",children:s}):null,o?(0,n.jsx)(i.A,{onClick:()=>o.action(),size:r?"lg":"md",className:"my-3",children:o.text}):null]})})})}},82094:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(54810),i=s(51960),l=s(52867),n=s(9950),o=s(17327),c=s(44414);const r=e=>{let{mediaClass:t,size:s,height:r,width:d,url:h,alt:m}=e;const[p,u]=(0,n.useState)(s||100);(0,n.useEffect)((()=>{(async()=>{if(s)u(s);else if(r&&""!=r&&d&&""!=d)u(100*r/d);else try{const{width:e,height:t}=await(0,o.A)(h);u(100*t/e)}catch(e){u(100)}})()}),[]);return(0,c.jsx)("div",{className:"".concat(t," overflow-hidden position-relative"),style:{paddingBottom:"".concat(p,"%")},children:(0,c.jsx)(i.A,{className:"position-absolute object-center-cover h-100 w-100",loading:"lazy",src:h,height:r,width:d,alt:""!=m?m:(0,l.wG)(h),onError:e=>{e.target.src=(0,a.pc)("media/images/error/image.svg")},fluid:!0})})}},68047:(e,t,s)=>{s.d(t,{A:()=>v});var a=s(9950),i=s(3302),l=s.n(i),n=s(75794),o=s(35131),c=s(21784),r=s(67972),d=s(44259),h=s(97937),m=s(51960),p=s(66345),u=s(54810),g=s(85608),x=s(44414);const j={uppyKey:"0701d3d7f8d94e92a65a9cba388b1d96",uppyBucket:"cloud.tagshop.ai",uppyAwsKey:"47ABVORKG52UYE1KB28S",uppyAwsSecret:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v",companionUrl:p.KO0?"https://app.taggbox.com":"https://test.taggbox.com"};class v extends a.Component{constructor(e){super(e),this.state={backgroundModal:!1},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},(()=>{l()(".uppy-Dashboard-close").click((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}))}))},this.uppy=new n.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e6,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["image/*"]}}).use(o.Ay,{target:"#a",params:{auth:{key:j.uppyKey},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:j.uppyBucket,key:j.uppyAwsKey,secret:j.uppyAwsSecret,path:"tmp/${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(c.A,{target:n.A.Dashboard,companionUrl:j.companionUrl}).use(r.A,{target:n.A.Dashboard,companionUrl:j.companionUrl})}componentDidMount(){var e=this;this.uppy.on("transloadit:result",((t,s)=>{e.props.onClickTouploadImage("".concat(g.$r).concat(s.id,".").concat(s.ext),(()=>{setTimeout((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}),300)}))}))}render(){const{imageStyle:e,backgroundImage:t,id:s}=this.props,{backgroundModal:a}=this.state;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:[t?null:(0,x.jsx)(h.A,{id:s,variant:"secondary",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:"Attach Image"}),t?(0,x.jsxs)("div",{className:"bg-white w-100 rounded-1 position-relative",children:[(0,x.jsx)(m.A,{id:"bg_image",className:"object-fit-contain",src:t,height:300,width:300,alt:"",style:{maxHeight:250},fulid:!0}),(0,x.jsxs)("div",{className:"position-absolute bottom-0 start-0 w-100 f-center",children:[(0,x.jsx)(h.A,{variant:"icon",size:"sm",className:"rounded-circle bg-white btn-active-primary m-2 box-shadow border-0",onClick:()=>this.setState({backgroundModal:!0}),children:(0,x.jsx)(u.Ah,{icon:"edit",height:20,width:20})}),(0,x.jsx)(h.A,{variant:"icon",size:"sm",className:"rounded-circle bg-white btn-active-primary m-2 box-shadow border-0",onClick:()=>this.props.onClickTouploadImage("",(()=>{})),children:(0,x.jsx)(u.Ah,{icon:"close",height:20,width:20})})]})]}):null]}),a?(0,x.jsx)(d.KG,{animateOpenClose:!0,open:a,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}},77879:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Mt});var a=s(9950),i=s(73878),l=s(45358),n=s(98361),o=s(4342),c=s(14919),r=s(97937),d=s(34483),h=s(75623),m=s(17595),p=s(54810),u=s(44414);class g extends a.Component{constructor(){super(...arguments),this.state={tagSearchList:[],searchPost:"",selected:"",openSearch:!1},this.onLoad=()=>{const{searchPost:e}=this.state;e.length>0?(0,c.nX)(e).then((e=>{const{tags:t,status:s}=e.data;s?this.setState({tagSearchList:t}):this.setState({tagSearchList:[]})})):this.setState({tagSearchList:[]})},this.onSearchText=e=>this.setState({searchPost:e},(()=>this.onLoad())),this.onClickToSearchTags=e=>t=>{document.getElementById("searchPost").value=e,this.setState({searchPost:e,selected:e,tagSearchList:[]},(()=>this.props.searchTagsFilter(this.state.selected)))},this.onClickToSearchPost=e=>t=>{e&&String(e).length>0&&this.setState({searchPost:e,selected:e,tagSearchList:[]},(()=>this.props.searchPostFilter(this.state.searchPost)))}}render(){const{tagSearchList:e,selected:t,openSearch:s}=this.state;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:()=>this.setState({openSearch:!s}),children:(0,u.jsx)(p.Ah,{icon:s?"close":"search",height:14,width:15})}),(0,u.jsx)(d.A,{show:!!(e&&e.length>0),className:"assets_search_input position-absolute me-lg-2",style:{display:s?"block":"none"},children:(0,u.jsxs)("div",{className:"quick_search d-flex align-items-center",children:[(0,u.jsxs)(h.A,{id:"inputSpinner",className:"p-0 spinner-gray spinner-sm",children:[s&&(0,u.jsx)(m.A.Control,{size:"sm",style:{minHeight:"32px"},className:"",id:"assets_search_input",placeholder:"What are you looking for?",onChange:e=>this.onSearchText(e.target.value)}),(0,u.jsx)(r.A,{className:"",size:"sm",id:"inputCloseButton",variant:"primary",onClick:()=>this.setState({openSearch:!s}),children:(0,u.jsx)(p.Ah,{icon:"search",height:14,width:15,iconClass:"me-0"})})]}),e&&e.length>0?(0,u.jsx)(d.A.Menu,{className:"w-100 dropdwon-height",style:{overflowY:"auto"},children:e.map((e=>(0,u.jsx)(d.A.Item,{onClick:this.onClickToSearchTags(e),children:e},e)))}):null]})})]})}}const x=g;var j=s(67956),v=s(59051),f=s.n(v),b=s(32796);const N=e=>{const{children:t,maxDate:s,handleOnApply:a,startDate:i,endDate:l}=e;return(0,u.jsx)(b.A,{onApply:a,startDate:i,endDate:l,initialSettings:{locale:{format:"DD-MM-YYYY",separator:"-"},maxDate:s,showDropdowns:!1,startDate:i,endDate:l,ranges:{Today:[f()().format("DD-MM-YYYY"),f()().format("DD-MM-YYYY")],Yesterday:[f()().subtract(1,"days").format("DD-MM-YYYY"),f()().subtract(1,"days").format("DD-MM-YYYY")],"Last 7 Days":[f()().subtract(6,"days").format("DD-MM-YYYY"),f()().format("DD-MM-YYYY")],"Last 30 Days":[f()().subtract(29,"days").format("DD-MM-YYYY"),f()().format("DD-MM-YYYY")],"This Month":[f()().startOf("month").format("DD-MM-YYYY"),f()().endOf("month").format("DD-MM-YYYY")],"Last Month":[f()().subtract(1,"month").startOf("month").format("DD-MM-YYYY"),f()().subtract(1,"month").endOf("month").format("DD-MM-YYYY")]}},children:t})};class w extends a.Component{constructor(){super(...arguments),this.state={startDate:f()().endOf("month").format("DD-MM-YYYY"),endDate:f()().format("DD-MM-YYYY"),maxDate:f()().endOf("month").format("DD-MM-YYYY")},this.handleOnApply=(e,t)=>{this.setState({startDate:t.startDate.format("YYYY-MM-DD"),endDate:t.endDate.format("YYYY-MM-DD")}),this.props.onDateRangeFilter(t.startDate.format("YYYY-MM-DD"),t.endDate.format("YYYY-MM-DD"))}}componentWillReceiveProps(e){const{moderation:t}=e;t&&Object.keys(t.filter).length>0&&""!=t.filter.startDate&&this.setState({startDate:f()(t.filter.startDate).format("DD-MM-YYYY"),endDate:f()(t.filter.endDate).format("DD-MM-YYYY")}),t.filterBody&&t.filterBody.dateRanges&&0==Object.keys(t.filterBody.dateRanges).length&&this.state.startDate!=f()().subtract(30,"days").format("DD-MM-YYYY")&&this.setState({startDate:f()().subtract(30,"days").format("DD-MM-YYYY"),endDate:f()().format("DD-MM-YYYY")})}render(){const{children:e}=this.props,{startDate:t,endDate:s,maxDate:a}=this.state;return(0,u.jsx)(N,{children:e,startDate:t,endDate:s,maxDate:a,handleOnApply:this.handleOnApply},(0,j.A)())}}const k=w,y=e=>(0,u.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,u.jsx)(x,{...e}),(0,u.jsx)(k,{...e,children:(0,u.jsx)(r.A,{variant:"icon",size:"sm",className:"btn-active-primary ms-2",id:"calander_",children:(0,u.jsx)(p.Ah,{icon:"calander",height:16,width:16})})}),(0,u.jsx)(r.A,{variant:"icon",size:"sm",className:"btn-active-primary ms-2",id:"filter_aside",children:(0,u.jsx)(p.Ah,{icon:"funnel",height:16,width:16})})]});var _=s(30615),C=s(21432),A=s(95942),T=s(85923),S=s(44268),P=s(52867);class D extends a.Component{constructor(){super(...arguments),this.state={searchData:[],searchPost:"",selected:"",submitTags:[],isLoading:!1,isRequest:!1,isRemoved:0,postTypes:"0",postTagAction:"2",totalCountTag:"0",tagRemoveAction:"0"},this.onClickToSave=e=>{let{submitTags:t,isRemoved:s,tagRemoveAction:a,postTagAction:i,totalCountTag:l}=this.state;const{data:n,filter:o,moderation:c}=this.props;if(t&&t.length>0){this.setState({isRequest:!0});let e=[],s=[],n=[];c.check_uncheck_all&&c.check_uncheck_all.data&&c.check_uncheck_all.data.map((t=>{s.push(t.id),e.push(t.spostId),n.push(t.type)}));let o={selectedTags:t.join(),postId:s.join(),postTypes:n.join(),wallId:String(localStorage.getItem("wallId")),postTagAction:i,totalCountTag:String(l),tagRemoveAction:a,tags:t.join(),db_table:c.filter.db_table};this.props.onUpdateTags(o,(()=>{this.setState({isRequest:!1}),this.props.clickToCloseAddTag()}))}else T.oR.error("Please enter tags.")},this.onClickToDelete=e=>{let{submitTags:t,isRemoved:s,tagRemoveAction:a,postTagAction:i,totalCountTag:l}=this.state;const{data:n,filter:o,moderation:c}=this.props;if(t&&t.length>0){var r=!1;this.setState({isRequest:!0});let e=[],s=[],a=[];if(c.check_uncheck_all&&c.check_uncheck_all.data&&c.check_uncheck_all.data.map((i=>{s.push(i.id),e.push(i.spostId),a.push(i.type),!r&&t&&t.length>0&&t.map((e=>{!r&&i.tags&&String(i.tags).includes(e)&&(r=!0)}))})),r){let e={tags:t.join(),postId:s.join(),wallId:String(localStorage.getItem("wallId")),db_table:c.filter.db_table,ownerId:String(localStorage.getItem("ownerId"))};this.props.onDeleteTags(e,(()=>{this.setState({isRequest:!1}),this.props.clickToCloseAddTag()}))}else T.oR.error("Tag doesn't exist.")}else T.oR.error("Please enter tags.")},this.onLoad=()=>{const{searchPost:e}=this.state;e.length>0?(this.setState({isLoading:!0}),(0,c.nX)(e).then((e=>{const{tags:t,status:s}=e.data;s?this.setState({searchData:t,isLoading:!1}):this.setState({searchData:[],isLoading:!0})}))):this.setState({searchData:[],isLoading:!1})},this.onSearchText=()=>{let e=document.getElementById("searchTagpost"),t=null;e.addEventListener("input",(s=>{clearTimeout(t),t=setTimeout((()=>{this.setState({searchPost:e.value},(()=>this.onLoad()))}),1e3)}))},this.onClickToSearch=e=>t=>{document.getElementById("searchTagpost").value=e,this.setState({searchPost:e,selected:e,searchData:[]})},this.onClickToAddTags=e=>{let{submitTags:t,selected:s,searchPost:a,totalCountTag:i}=this.state,l=s&&s.length>0?s:a;if((0,P.WL)(l))if((0,P.EY)(l))T.oR.error("Special character not allow.");else if(t.includes(l))T.oR.error("Tag already exists.");else{t.push(l),document.getElementById("searchTagpost").value="",i=parseInt(i)+1,this.setState({selected:"",searchPost:"",submitTags:t,totalCountTag:i})}else T.oR.error("Please enter minimum 3 characters.")},this.onClickToRemoveTags=e=>t=>{let{submitTags:s,tagRemoveAction:a}=this.state;s.splice(e,1),a=parseInt(a)+1,this.setState({submitTags:s})}}componentDidMount(){const{tags:e}=this.props;let t=[];e&&String(e.tags).split(",").length&&(String(e.tags).split(",").map((e=>{e&&e.length>0&&t.push(e)})),this.setState({submitTags:t})),this.onSearchText()}render(){const{open:e,clickToCloseAddTag:t,tags:s,data:a}=this.props,{searchData:i,submitTags:l,isLoading:n,searchPost:o,isRequest:c}=this.state;return(0,u.jsxs)(S.A,{show:e,onHide:t,backdrop:"static",keyboard:!1,centered:!0,size:"lg",children:[(0,u.jsxs)(S.A.Header,{closeButton:!0,children:[" ",(0,u.jsx)("h5",{className:"m-0",children:"Add Tags"})]}),(0,u.jsx)(S.A.Body,{children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-lg-12 col-12",id:"multipleTagSection",children:(0,u.jsxs)("div",{className:"tags-form-main mt-lg-0 mt-5",children:[(0,u.jsxs)("div",{className:"form-group d-flex",children:[(0,u.jsx)("div",{className:"w-100 ",children:(0,u.jsxs)("div",{className:"position-relative spinner-right formtagarea ".concat(n?"spinner":""),children:[(0,u.jsx)("input",{type:"text",className:"form-control postTagFilter",id:"searchTagpost",autocomplete:"off",placeholder:"Enter your tag."}),(0,u.jsx)("div",{className:"autoSuggestionList postTagsSugg",children:i&&i.length>0?(0,u.jsx)("div",{className:"dropdown-menu-list",children:(0,u.jsx)("ul",{className:"list-unstyled navi navi-hover",children:i.map(((e,t)=>(0,u.jsx)("li",{tags:e,"data-id":e,className:"image-tags navi-item",onClick:this.onClickToSearch(e),children:(0,u.jsx)("a",{className:"navi-link",children:e})},t)))})}):null})]})}),(0,u.jsx)("div",{className:"ml-3",children:(0,u.jsx)("button",{type:"button",className:"btn-add addTagsPost btn btn-primary ".concat(String(o).length>0?"":"disabled"),onClick:this.onClickToAddTags,children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",class:"me-0",children:(0,u.jsx)("path",{d:"M11.8125 5.75C11.8125 6.24219 11.4023 6.65234 10.9375 6.65234H7V10.5898C7 11.0547 6.58984 11.4375 6.125 11.4375C5.63281 11.4375 5.25 11.0547 5.25 10.5898V6.65234H1.3125C0.820312 6.65234 0.4375 6.24219 0.4375 5.75C0.4375 5.28516 0.820312 4.90234 1.3125 4.90234H5.25V0.964844C5.25 0.472656 5.63281 0.0625 6.125 0.0625C6.58984 0.0625 7 0.472656 7 0.964844V4.90234H10.9375C11.4023 4.875 11.8125 5.28516 11.8125 5.75Z",fill:"currentColor"})})})})]}),(0,u.jsx)("div",{className:"showTagsNote",style:l&&l.length>0?{display:"none"}:{},children:(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"Add tags using keywords relevant to the content and click on the + Button."}),(0,u.jsx)("li",{children:"Tags will help you improve content filtering and ease moderation process."})]})}),(0,u.jsx)("div",{className:"tags-list",children:(0,u.jsx)("ul",{className:"postTags",children:l&&l.length>0&&l.map(((e,t)=>e&&e.length>0?(0,u.jsxs)("li",{className:t,children:[(0,u.jsx)("span",{children:e}),(0,u.jsx)("a",{className:"removeSelectedTag",href:"javascript:void(0)",alt:t,wallId:localStorage.getItem("wallId"),postId:a[t].postId,removeTag:s,onClick:this.onClickToRemoveTags(t),children:(0,u.jsx)("i",{className:"ki ki-close"})})]}):null))})})]})})})}),(0,u.jsxs)(S.A.Footer,{children:[(0,u.jsx)("button",{type:"button",className:"btn btn-secondary deleteAllPost px-5",onClick:this.onClickToDelete,children:"Delete All"}),(0,u.jsx)("button",{type:"submit",className:"btn btn-primary savePost px-5 btn btn-primary savePost px-5 ".concat(c?"spinner spinner-white spinner-right disabled":""),onClick:this.onClickToSave,children:"Save"})]})]})}}const I=D,M=e=>{let{moderation:t,onNextNavigateClick:s,onPrevNavigateClick:a,onChangePage:i}=e;const{paginateData:l}=t;return l&&Object.keys(l).length?(0,u.jsxs)("ul",{className:"pagination pagination-sm my-1 ms-3",children:[(0,u.jsx)("li",{className:"page-item",children:(0,u.jsx)("span",{className:"page-link ".concat(1==l.currentPage?" disabled":" cursor-pointer"),onClick:1==l.currentPage?null:a,children:(0,u.jsx)(p.Ah,{icon:"angle-left",height:12,width:12})})}),l.pages&&l.pages.length>0?l.pages.map(((e,t)=>parseInt(t)<1?(0,u.jsx)("li",{className:"page-item".concat(l.currentPage==e?" active":" cursor-pointer"),onClick:i(e),children:(0,u.jsx)("span",{className:"page-link",children:e})},"lIi".concat(t)):l.currentPage<=3&&(2===parseInt(t)||1===parseInt(t))||l.currentPage>=parseInt(l.pages.length)-2&&parseInt(t)>=parseInt(l.pages.length)-3?(0,u.jsxs)(u.Fragment,{children:[t===parseInt(l.pages.length)-3&&parseInt(l.pages.length)>4?(0,u.jsx)("li",{className:"page-item disabled",children:(0,u.jsx)("span",{className:"page-link",children:"..."})},"li".concat(t)):null,(0,u.jsx)("li",{className:"page-item".concat(l.currentPage==e?" active":" cursor-pointer"),onClick:i(e),children:(0,u.jsx)("span",{className:"page-link",children:e})},"li".concat(t))]}):parseInt(l.pages.length)-3==t?l.currentPage>3&&l.currentPage<l.pages.length-2?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("li",{className:"page-item disabled",children:(0,u.jsx)("span",{className:"page-link",children:"..."})},"li".concat(t)),(0,u.jsx)("li",{className:"page-item active",onClick:i(e),children:(0,u.jsx)("span",{className:"page-link",children:l.currentPage})},"li".concat(t)),(0,u.jsx)("li",{className:"page-item disabled",children:(0,u.jsx)("span",{className:"page-link",children:"..."})},"li".concat(t))]}):(0,u.jsxs)("li",{className:"page-item disabled",children:[" ",(0,u.jsx)("span",{className:"page-link",children:"..."})," "]},"li".concat(t)):parseInt(l.pages.length)-1==t?(0,u.jsx)("li",{className:"page-item ".concat(l.currentPage==e?" active":" cursor-pointer"),onClick:i(e),children:(0,u.jsx)("span",{className:"page-link",children:e})},"li".concat(t)):null)):null,(0,u.jsx)("li",{className:"page-item",children:(0,u.jsx)("span",{className:"page-link ".concat(l.currentPage==l.totalPages?" disabled":" cursor-pointer"),onClick:l.currentPage==l.totalPages?null:s,children:(0,u.jsx)(p.Ah,{icon:"angle-right",height:12,width:12})})})]}):null};var F=s(66345);const R=e=>{let{show:t,onHide:s}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(S.A,{show:t,onHide:s,children:[(0,u.jsx)(S.A.Header,{children:(0,u.jsx)("button",{className:"border-0",onClick:s,children:(0,u.jsx)("i",{"aria-hidden":"true",className:"ki ki-close"})})}),(0,u.jsx)(S.A.Body,{children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("img",{className:"img-fluid",src:"".concat(F.krE,"media/error/bulk-request.png")}),(0,u.jsx)("p",{className:"text-center my-5",children:"To send UGC Rights request in bulk, make sure you choose posts from a single user."}),(0,u.jsx)("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Close",className:"btn btn-primary btn-min-w refresh-username",onClick:s,children:"OK"})]})})]})})},B=e=>{let{show:t,onHide:s,fromSnapup:a}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(S.A,{className:"permission_error_popup",show:t,onHide:s,children:[(0,u.jsxs)(S.A.Header,{children:[(0,u.jsx)(S.A.Title,{children:"Permission Error"}),(0,u.jsx)("button",{type:"button",className:"close","aria-hidden":"true",onClick:s,children:(0,u.jsx)("i",{className:"ki ki-close-xmark"})})]}),(0,u.jsxs)(S.A.Body,{className:"text-center",children:[(0,u.jsx)("img",{src:"".concat(F.krE,"media/error/ugc-grey.svg"),height:"",width:"",alt:"ugc icon"}),(0,u.jsxs)("div",{className:"permissionMsg mt-4",children:[(0,u.jsx)("span",{className:"ErrorMsg",children:a?"You cannot send request on SnapUp post!!":"You cannot send request on approved/pending post!!"}),(0,u.jsx)("p",{className:"msgSec"})]})]}),(0,u.jsx)(S.A.Footer,{children:(0,u.jsx)("div",{className:"buttonUpgrade",children:(0,u.jsx)("a",{href:"javascript:;",className:"commanBtn btn btn-primary",onClick:"javascript:$('#PermissionError').modal('hide');$('#morePopupId').hide();showpricing(2,'Commerce','commerce');",style:{display:"none"},children:"Upgrade Now"})})})]})})},U=e=>{const[t,s]=(0,a.useState)(!1),[n,d]=(0,a.useState)([{label:"50",value:50}]),[h,g]=(0,a.useState)(!1),[x,j]=(0,a.useState)(!1),[v,f]=(0,a.useState)(!1),[b,N]=(0,a.useState)(!1),{moderation:w,activeTab:k}=e,y=(0,i.wA)();(0,a.useEffect)((()=>()=>{T()}),[w]);const T=()=>{const{check_uncheck_all:e}=w;var t=!1;e.data.map((e=>{1!=e.ugcstatus||t||(t=!0),29==e.networkId&&(t=!0),1==e.type&&(t=!0),3==e.networkId&&62==e.feedFilter||7==e.networkId||18==e.networkId&&(24==e.feedFilter||25==e.feedFilter||26==e.feedFilter)||(t=!0)})),f(!t)};return(0,u.jsxs)(l.A,{fluid:!0,children:[(0,u.jsxs)("div",{className:"f-between py-1",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center me-3",children:[(0,u.jsx)(m.A.Check,{type:"checkbox",id:"select_all_",className:"btn btn-outline-secondary btn-sm px-2 me-2",label:"Select All",onChange:e.clickToCheckAll(w.check_uncheck_all.status),checked:w.check_uncheck_all.status}),(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:"Refresh"}),children:(0,u.jsx)(r.A,{variant:"icon",size:"sm",className:"me-2 btn-active-primary",onClick:()=>{e.clickToRefresh()},children:(0,u.jsx)(p.Ah,{icon:"arrows-rotate",height:20,width:20})})}),w.check_uncheck_all&&w.check_uncheck_all.data.length>0?(0,u.jsxs)("div",{className:"d-flex align-items-center me-2",children:[(0,u.jsxs)(o.A,{className:"me-2 rounded-3 ps-2",bg:"secondary",children:[w.check_uncheck_all.data.length," Posts Selected",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 rounded-circle ms-1 border-0 h-20px w-20px",onClick:()=>e.clickToUncheckAll(),children:(0,u.jsx)(p.Ah,{icon:"close",height:12,width:12})})]}),0==k||2==k?(0,u.jsx)(r.A,{variant:"success",size:"sm",className:"me-2",onClick:e.onClickToFilterUpdateStatus(1),children:"Public"}):null,0==k||1==k?(0,u.jsx)(r.A,{variant:"danger",size:"sm",className:"me-2",onClick:e.onClickToFilterUpdateStatus(2),children:"Private"}):null,(0,u.jsxs)(r.A,{variant:"warning",size:"sm",className:"me-2",onClick:e.onClickToFilterDeleteAll,children:[(0,u.jsx)(p.Ah,{icon:"delete",height:15,width:15,iconClass:"me-1"}),"Delete"]}),(0,u.jsxs)(r.A,{variant:"primary",size:"sm",className:"me-2",onClick:()=>{s(!0)},children:[(0,u.jsx)(p.Ah,{icon:"tag",height:15,width:15,iconClass:"me-1"}),"Add Tag"]}),v?(0,u.jsxs)(r.A,{variant:"warning",size:"sm",className:"me-2",onClick:()=>(()=>{const{check_uncheck_all:e}=w;let t=null;var s=!1;if(e.data.map((e=>{1!=e.ugcstatus||s||(g(!0),s=!0),29==e.networkId&&(g(!0),N(!0),s=!0),1==e.type&&(j(!0),s=!0),3==e.networkId&&62==e.feedFilter||7==e.networkId||18==e.networkId&&(24==e.feedFilter||25==e.feedFilter||26==e.feedFilter)||(g(!0),N(!0),s=!0),null==t?t=e.username:null==t||t==e.username||s||(j(!0),s=!0)})),!s){const t=e.data.map((e=>e.id));y((0,c.Qb)({is_carausel:0,postId:t,id:t}))}})(),children:[(0,u.jsx)(p.Ah,{icon:"rights",height:15,width:15,iconClass:"me-1"}),"Get Rights"]}):null]}):null]}),(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)(_.Ay,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:[{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],value:n,onChange:t=>{return s=t,e.limitUpdate(parseInt(s.value)),void d(s);var s}}),(0,u.jsx)(M,{...e})]})]}),1==t?(0,u.jsx)(I,{tags:e.moderation.filter,...e,onUpdateTags:e.onUpdateTags,onDeleteTags:e.onDeleteTags,data:e.moderation.listData,open:t,clickToCloseAddTag:e=>{s(!1)}}):null,(0,u.jsx)(B,{show:h,fromSnapup:b,onHide:()=>g(!1)}),(0,u.jsx)(R,{show:x,onHide:()=>j(!1)})]})},O=e=>{const t=!!(e.moderation.details&&Object.keys(e.moderation.details).length>0);var{activeTab:s,totalpost:a,publicpost:i,privatepost:c}=0,r=[];return t&&(s=e.activeTab,a=e.moderation.details.totalpost,i=e.moderation.details.publicpost,c=e.moderation.details.privatepost,r=e.moderation.details.upcomingpost),(0,u.jsxs)("div",{className:"position-fixed bg-white  border-bottom dualheader subheader",children:[(0,u.jsxs)(l.A,{className:"f-between flex-wrap border-bottom",fluid:!0,children:[(0,u.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,u.jsxs)(n.A,{variant:"underline",defaultActiveKey:"allPost",children:[(0,u.jsx)(n.A.Item,{children:(0,u.jsxs)(n.A.Link,{eventKey:"allPost",onClick:t?e.clickToTab(0):null,disabled:!t,children:["All Posts",(0,u.jsx)(o.A,{className:"ms-2 rounded-3",bg:0==s?"primary":"light-primary",children:a})]})}),(0,u.jsx)(n.A.Item,{children:(0,u.jsxs)(n.A.Link,{eventKey:"public",onClick:t?e.clickToTab(1):null,disabled:!t,children:["Public",(0,u.jsx)(o.A,{className:"ms-2 rounded-3",bg:1==s?"primary":"light-primary",children:i})]})}),(0,u.jsx)(n.A.Item,{children:(0,u.jsxs)(n.A.Link,{eventKey:"private",onClick:t?e.clickToTab(2):null,disabled:!t,children:["Private",(0,u.jsx)(o.A,{className:"ms-2 rounded-3",bg:2==s?"primary":"light-primary",children:c})]})}),r&&r>0?(0,u.jsx)(n.A.Item,{children:(0,u.jsxs)(n.A.Link,{eventKey:"upcomming",children:["Upcoming",(0,u.jsx)(o.A,{className:"ms-2 rounded-3",bg:3==s?"primary":"light-primary",children:r})]})}):null]})}),(0,u.jsx)("div",{className:"d-flex align-items-center flex-wrap flex-grow-1 justify-content-end",children:(0,u.jsx)(y,{...e})})]}),(0,u.jsx)(U,{...e})]})};var L=s(54480),E=s(4695),Y=s.n(E),H=s(88749),G=s(1391),q=s(25984),z=s(17327);const W=e=>{var t="",s=e.name,a="";switch(String(s).includes("@")&&(s=String(s).replace("@"," ")),[1,2,19].includes(e.networkId)&&String(s).includes("#")&&(s=String(s).replace("#"," ")),e.networkId){case 7:4!=e.filterId&&32!=e.filterId||(a="",t+=" - Keywords");break;case 19:a="",""!=e.value3&&(s="".concat(s," (").concat(e.value3,")"));break;case 1:7==e.filterId?a="@":4==e.filterId&&(t+=" - Likes");break;case 29:s="SnapUp",a="";break;case 18:33==e.filterId&&(a="");break;case 10:0==e.value3||1==e.value3?t+=" - Company":2==e.value3&&(t+=" - Job")}switch(a=V(e.filterId),t+="".concat(a," ").concat(s&&String(s).length>0?s:e.value1),e.filterId){case 23:t+=" - Handle";break;case 24:case 62:t+=" - Mention";break;case 7:1==e.networkId&&(t+=" - Mention");break;case 25:t+=" - Tagged";break;case 34:t+=" - Story";break;case 8:t+=" - Page";break;case 66:t+=" - Videos";break;case 65:t+=" - Albums";break;case 63:t+=" - Sticker";break;case 74:t+=" - Reels";break;case 29:t+=" - My Places";break;case 55:t+=" - Page Reviews"}return t},V=e=>{switch(e){case 1:case 4:case 7:case 23:case 24:case 25:case 34:case 62:return"@";case 2:case 26:return"#";case 3:case 11:return'<i class="fa fa-list-ul"></i>';case 5:return'<i class="fa fa-cog"></i>';case 6:case 32:case 33:return'<i class="fa fa-map-marker"></i>';case 8:case 9:case 14:case 16:case 22:default:return"";case 10:return'<i class="fa fa-users"></i>';case 12:return'<i class="fa fa-th-large"></i>';case 13:return'<i class="fa fa-link"></i>';case 27:case 55:case 56:return'<i class="fa fa-star" aria-hidden="true"></i>';case 28:return;case 53:return'<i class="fa fa-users"></i> ';case 54:return'<i class="fa fa-comments-o"></i> ';case 57:return'<i class="fa fa-music" aria-hidden="true"></i>';case 58:return'<i class="fa fa-video-camera" aria-hidden="true"></i>';case 59:return'<i class="fa fa-music" aria-hidden="true"></i> ';case 61:return'<i class="fa fa-user" aria-hidden="true"></i>'}};class Z extends a.Component{constructor(){super(...arguments),this.state={searchData:[],searchPost:"",selected:[],loading:!1,selection:"",textSearch:""},this.onLoad=()=>{const{textSearch:e}=this.state;e.length>0?(0,c.nX)(e).then((e=>{const{tags:t,status:s}=e.data;s?this.setState({searchData:t,loading:!1}):this.setState({searchData:[],loading:!1})})):this.setState({searchData:[],loading:!1})},this.onSearchText=()=>{let e=document.getElementById("searchTag"),t=null;e.addEventListener("input",(s=>{clearTimeout(t),t=setTimeout((()=>{this.setState({loading:!0,textSearch:e.value},(()=>this.onLoad()))}),1e3)}))},this.onClickToSearch=(e,t)=>s=>{if(t){document.getElementById("searchTag").value="",this.setState({searchData:[],searchPost:"",textSearch:""}),this.props.removeFilterPostTags(e)}else{document.getElementById("searchTag").value=e;let{selected:t}=this.state;t.push(e),this.setState({searchPost:e,selected:t},(()=>{this.props.updateFilterPostTags(this.state.searchPost),this.isActive()}))}},this.isActive=()=>{var e="";const{filters:t}=this.props;t&&t.length>0&&t.map((t=>{"tags"==t.key&&(e=t.value)})),this.setState({selection:e})}}componentDidMount(){this.isActive(),this.onSearchText()}componentWillReceiveProps(e){const{filterBody:t}=e;0==t.postTags.length&&this.state.searchData.length>0&&this.setState({searchData:[],searchPost:"",textSearch:""})}render(){const{searchData:e,selected:t,searchPost:s,loading:a,selection:i,textSearch:l}=this.state,{imageTagList:n,filters:o,filterBody:c}=this.props;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"form-group tag_search mb-5",children:[(0,u.jsx)("div",{id:"inputSpinner",class:"p-0 spinner-gray spinner-sm input-group",children:(0,u.jsxs)("div",{id:"searchTagElements",className:"spinner-secondary spinner-right position-relarive w-100 ".concat(a?"spinner":""),children:[(0,u.jsx)("input",{type:"text",className:"form-control pe-8 form-control form-control-sm w-100",placeholder:"Search",id:"searchTag"}),(0,u.jsx)("button",{className:"btn btn-active-light border-0 position-absolute top-0 end-0",type:"button",children:(0,u.jsx)(p.Ah,{icon:"search",height:16,width:16,iconClass:"me-0"})})]})}),(0,u.jsx)("div",{className:"tags_all",children:(0,u.jsx)("ul",{className:"list-unstyled m-0",children:e&&(e.length>0||l.length>0)?(0,u.jsx)(u.Fragment,{children:e.map(((e,t)=>{const s=Object.keys(c).length>0&&c.postTags.includes(e);return(0,u.jsxs)("li",{className:"sideSearch".concat(t," ").concat(s?"img-filter-tags":""),onClick:this.onClickToSearch(e,s),children:[(0,u.jsx)("input",{type:"checkbox",value:e,className:"image-tags",tags:e,"data-id":e})," ",e," ",(0,u.jsx)("i",{className:"ki ki-close"})]},t)}))}):n&&n.map(((e,t)=>{const s=Object.keys(c).length>0&&c.postTags.includes(e);return parseInt(t)<9?(0,u.jsxs)("li",{className:"sideSearch".concat(t," ").concat(s?"img-filter-tags":""),onClick:this.onClickToSearch(e,s),children:[(0,u.jsx)("input",{type:"checkbox",value:e,className:"image-tags"})," ",e," ",(0,u.jsx)("i",{className:"ki ki-close"})]},"lI".concat(t)):null}))})})]})})}}const K=Z;var Q=s(49639),$=s(8966),J=s(51960);const X=e=>{let{value:t,onClickPostType:s,moderation:a,label:i,id:l}=e;const n=Object.keys(a.filterBody).length>0&&a.filterBody.postType.length>0?a.filterBody.postType.filter((e=>e==t)):[],o=!!(n&&n.length>0);return(0,u.jsx)(m.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:i,id:l,onChange:s(t,o),checked:o})},ee=e=>{let{value:t,onClickOther:s,moderation:a,label:i,id:l}=e;const n=Object.keys(a.filterBody).length>0&&a.filterBody.other.length>0?a.filterBody.other.filter((e=>e.key==l)):[],o=!!(n&&n.length>0);return(0,u.jsx)(m.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:i,id:l,onChange:s(l,t,o),checked:o})};class te extends a.Component{constructor(){super(...arguments),this.state={socialFeeds:[],postType:[],other:[],feeds:[],isActiveAside:!1},this.toogleFilter=()=>{this.setState({isActiveAside:!this.state.isActiveAside}),setTimeout((()=>{var e=document.querySelector(".offcanvas-backdrop");e&&e.classList.add("filter-backdrop")}),100)},this.onSelectFeeds=(e,t,s)=>a=>{s?this.props.removeFilterSocialFeeds({key:e,value:t}):this.props.updateFilterSocialFeeds({key:e,value:t})},this.onClickPostType=(e,t)=>s=>{t?this.props.removeFilterPostType(e):this.props.updateFilterPostType(e)},this.onClickOther=(e,t,s)=>a=>{s?this.props.removeFilterOthers({key:e,value:t}):this.props.updateFilterOthers({key:e,value:t})}}componentDidMount(){var e=document.getElementById("filter_aside");if(e&&e.addEventListener("click",this.toogleFilter),window.feedId&&""!=window.feedId){var t;const{moderation:e}=this.props,s=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.feeds;s&&s.map(((e,t)=>{window.feedId==e.id&&this.props.updateFilterSocialFeeds({key:e.name,value:window.feedId})}))}}render(){var e,t;const{moderation:s}=this.props,{isActiveAside:a}=this.state,i=!1,l=null===s||void 0===s||null===(e=s.details)||void 0===e?void 0:e.imageTagList,n=null===s||void 0===s||null===(t=s.details)||void 0===t?void 0:t.feeds;return(0,u.jsx)(Q.A,{show:a,placement:"end",onHide:this.toogleFilter,className:"filter_aside",children:(0,u.jsxs)(Q.A.Body,{children:[(0,u.jsxs)("div",{className:"f-between px-4 py-3 border-bottom",children:[(0,u.jsx)("span",{className:"fs-6 fw-medium",children:"Add Filter"}),(0,u.jsx)(r.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:this.toogleFilter,children:(0,u.jsx)(p.Ah,{icon:"close",height:16,width:16})})]}),(0,u.jsx)($.A,{className:"border-bottom",flush:!0,children:(0,u.jsxs)($.A.Item,{defaultactivekey:"0",children:[(0,u.jsx)($.A.Header,{children:(0,u.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Post Tags"})}),(0,u.jsxs)($.A.Body,{className:"px-5 py-1",children:[i,(0,u.jsx)("div",{id:"tag_post_btn",className:"collapse show","data-parent":"#tagspost",children:(0,u.jsx)(K,{imageTagList:l,...this.props})})]})]})}),(0,u.jsx)($.A,{className:"border-bottom",flush:!0,children:(0,u.jsxs)($.A.Item,{defaultactivekey:"0",children:[(0,u.jsx)($.A.Header,{children:(0,u.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Social Feeds"})}),(0,u.jsx)($.A.Body,{className:"px-5 py-1",children:(0,u.jsx)("div",{id:"social_feed_btn",className:"collapse show","data-parent":"#post_type_drop",children:(0,u.jsx)("div",{className:"checkbox-list",children:n&&n.map(((e,t)=>{const a=Object.keys(s.filterBody).length>0&&s.filterBody.socialFeed.length>0?s.filterBody.socialFeed.filter((t=>t.value==e.id)):[],i=!!(a&&a.length>0);return(0,u.jsxs)(m.A.Label,{className:"d-flex align-items-start mb-4",htmlFor:"moderationfeed".concat(e.id),children:[(0,u.jsx)(m.A.Check,{type:"checkbox",id:"moderationfeed".concat(e.id),value:e.id,"data-filter":e.filterId,onChange:this.onSelectFeeds(e.name,e.id,i),checked:i,style:{marginTop:2}}),(0,u.jsx)(J.A,{className:"mx-2",src:(0,p.pc)("media/icons/social-icons/".concat((0,P.EC)(e.networkId),".svg")),height:20,width:20,fluid:!0}),(0,q.Ay)(W(e))]})}))})})})]})}),(0,u.jsx)($.A,{className:"border-bottom",flush:!0,children:(0,u.jsxs)($.A.Item,{defaultactivekey:"0",children:[(0,u.jsx)($.A.Header,{children:(0,u.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Post Type"})}),(0,u.jsxs)($.A.Body,{className:"px-5 py-1",children:[(0,u.jsx)(X,{value:"1",onClickPostType:this.onClickPostType,...this.props,label:"Text Only",id:"text_only"}),(0,u.jsx)(X,{value:"2,4",onClickPostType:this.onClickPostType,moderation:s,label:"With Image",id:"image_only"}),(0,u.jsx)(X,{value:"3,5",onClickPostType:this.onClickPostType,moderation:s,label:"With Video",id:"video_only"})]})]})}),(0,u.jsx)($.A,{className:"border-bottom",flush:!0,children:(0,u.jsxs)($.A.Item,{defaultactivekey:"0",children:[(0,u.jsx)($.A.Header,{children:(0,u.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:"Other"})}),(0,u.jsxs)($.A.Body,{className:"px-5 py-1",children:[(0,u.jsx)(ee,{value:"1",onClickOther:this.onClickOther,moderation:s,label:"Highlight Post",id:"highlightFilter"}),(0,u.jsx)(ee,{value:"1",onClickOther:this.onClickOther,moderation:s,label:"Pinned to top",id:"pinFilter"}),(0,u.jsx)(ee,{value:"1",onClickOther:this.onClickOther,moderation:s,label:"Recent",id:"recentFilter"}),(0,u.jsx)(ee,{value:"1",onClickOther:this.onClickOther,moderation:s,label:"Retweets",id:"retweetsFilter"})]})]})}),(0,u.jsx)("div",{className:"d-flex flex-column mx-5 py-4",children:(0,u.jsx)(r.A,{variant:"link",onClick:this.props.removeAllFilterBody,className:"",children:"Reset Results"})})]})})}}const se=(0,i.Ng)((e=>({moderation:e.moderation})),(e=>({updateFilterPostTags:t=>e((0,c.Ln)(t)),updateFilterSocialFeeds:t=>e((0,c.g0)(t)),updateFilterPostType:t=>e((0,c.qO)(t)),updateFilterOthers:t=>e((0,c.x8)(t)),removeFilterSocialFeeds:t=>e((0,c.dA)(t)),removeFilterPostType:t=>e((0,c.J0)(t)),removeFilterOthers:t=>e((0,c.iq)(t)),removeFilterPostTags:t=>e((0,c.Sm)(t)),removeAllFilterBody:()=>e((0,c.ud)())})))(te);class ae extends a.Component{constructor(){super(...arguments),this.onSelectFeeds=e=>t=>{this.props.removeFilterSocialFeeds(e)},this.onClickPostType=e=>t=>{this.props.removeFilterPostType(e)},this.onClickOther=e=>t=>{this.props.removeFilterOthers(e)},this.onClickRemovePostTags=e=>t=>{this.props.removeFilterPostTags(e)},this.onClickToDateRangeRemove=e=>{this.props.removeDateRanges()}}render(){const{filters:e,onClickReset:t,filterBody:s}=this.props;return s.socialFeed.length>0||s.postType.length>0||s.postTags.length>0||s.other.length>0||Object.keys(s.dateRanges).length>0?(0,u.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,u.jsx)("span",{className:"text-muted fw-medium me-2 my-1 text-nowrap",children:"Filter By : "}),(0,u.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object.keys(s.dateRanges).length>0?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["".concat(s.dateRanges.startDate," - ").concat(s.dateRanges.endDate),(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickToDateRangeRemove,children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):null,s.postTags&&s.postTags.map((e=>(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:[e,(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickRemovePostTags(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}))),s.socialFeed&&s.socialFeed.map((e=>(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["onsiteupload"==e.key?"SnapUp":e.key,(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onSelectFeeds(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}))),s.postType&&s.postType.map((e=>"1"==e?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Text Only",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickPostType(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):"2,4"==e?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["With Image",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickPostType(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):"3,5"==e?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["With Video",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickPostType(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):void 0)),s.other&&s.other.map((e=>"highlightFilter"==e.key?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Highlight Post",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):"pinFilter"==e.key?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Pin Post",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):"recentFilter"==e.key?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Recent Post",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):"retweetsFilter"==e.key?(0,u.jsxs)(o.A,{bg:"gray-200",className:"me-2 mb-2 rounded-pill text-dark py-1 pe-1",children:["Retweets Post",(0,u.jsx)(r.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:this.onClickOther(e),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]}):void 0)),(0,u.jsx)(r.A,{variant:"dark",className:"rounded-pill py-1 mb-2",onClick:this.props.removeAllFilterBody,children:"Reset"})]})]}):null}}const ie=(0,i.Ng)((e=>({moderation:e.moderation})),(e=>({removeFilterSocialFeeds:t=>e((0,c.dA)(t)),removeFilterPostType:t=>e((0,c.J0)(t)),removeFilterOthers:t=>e((0,c.iq)(t)),removeFilterPostTags:t=>e((0,c.Sm)(t)),removeDateRanges:()=>e((0,c.DC)())})))(ae);var le=s(53556);s(44444);class ne extends a.Component{constructor(e){super(e),this.handleThumbs=e=>{this.mainRef.current&&this.mainRef.current.go(e)},this.mainRef=a.createRef()}render(){const{ugcData:e}=this.props,t={type:"loop",perPage:1,perMove:1,gap:"1rem",pagination:!1,height:"10rem",navigation:!1};e.data&&1==e.data.length&&(t.arrows=!1);return(0,u.jsxs)(u.Fragment,{children:[e.data&&e.data.length>1?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(le.eB,{options:{type:"slide",rewind:!0,gap:10,pagination:!1,fixedWidth:110,fixedHeight:70,cover:!0,focus:"center",isNavigation:!0},"aria-labelledby":"thumbnail-slider-example",className:"thumbnail_slider",children:(0,u.jsx)(le.v9,{children:e.data&&e.data.length?e.data.map(((e,t)=>(0,u.jsx)(le.Nn,{children:(0,u.jsx)("img",{className:"",src:e.postFile,width:"80",onClick:()=>this.handleThumbs(t),onError:e=>e.target.src=F.iL5})},"spliP".concat(t)))):null})})}):null,(0,u.jsxs)(le.eB,{hasTrack:!1,ref:this.mainRef,options:t,children:[(0,u.jsx)(le.v9,{children:e.data&&e.data.length?e.data.map(((e,t)=>(0,u.jsx)(le.Nn,{children:(0,u.jsx)("div",{id:"ugcPostSlider",className:"carousel slide","data-bs-ride":"carousel",children:(0,u.jsx)("div",{className:"carousel-inner",children:(0,u.jsx)("div",{className:"carousel-item active",children:(0,u.jsx)("div",{className:"card_slider",children:(0,u.jsx)("div",{className:"m_card_style",children:(0,u.jsx)("div",{className:"m_card_img",children:(0,u.jsxs)("div",{className:"post-content-image",children:[(0,u.jsx)("div",{className:"m_media_holder position-relative",children:(0,u.jsx)("img",{className:"img-fluid ex-coverimg",src:e.postFile,onError:e=>e.target.src=F.iL5})}),(0,u.jsxs)("div",{className:"m_card_cont",children:[(0,u.jsxs)("div",{className:"f-between mb-4",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center m_grid_author",children:[(0,u.jsx)("div",{className:"flex-shrink-0 me-4 mt-lg-0 mt-3",children:(0,u.jsx)("div",{className:"symbol symbol-circle symbol-lg-75 m_profile_img",style:{backgroundImage:"url('".concat(e.picture,"')")}})}),(0,u.jsxs)("div",{className:"d-flex flex-column m_user_content",children:[(0,u.jsx)("div",{className:"m_post_title postAuthorName",children:e.name}),(0,u.jsxs)("div",{className:"d-flex align-item-center m_grid_userinfo",children:[(0,u.jsxs)("span",{className:"m_grid_uername text-nowrap",children:["@",(0,u.jsx)("span",{children:e.username})]}),(0,u.jsx)("span",{className:"sepratedot"}),(0,u.jsx)("span",{className:"timePost text-nowrap",children:f()(new Date(1e3*e.createdAt)).fromNow()})]})]})]}),(0,u.jsx)("div",{className:"d-flex flex-column m_social_icon","data-network":"",children:(0,u.jsx)("i",{className:"fab ".concat(e.icon)})})]}),(0,u.jsx)("div",{className:"postedCon setFont font5",children:(0,u.jsx)("p",{className:"m-0",style:{lineHeight:"1.5",wordBreak:"break-all"},children:e.content})})]})]})})})})})})})},"spli".concat(t)))):null}),e.data&&1==e.data.length?null:(0,u.jsxs)("div",{className:"splide__arrows",children:[(0,u.jsx)("div",{className:" splide__arrow--prev tb_ms_slider_pre_arrow-prev",children:(0,u.jsx)("button",{className:"carousel-control-prev ugc_arrow_btn",type:"button","data-bs-target":"#ugcPostSlider","data-bs-slide":"prev",children:(0,u.jsx)("span",{className:"ugc_arrow_ico d-flex","aria-hidden":"true",children:(0,u.jsx)("i",{className:"fas fa-angle-left"})})})}),(0,u.jsx)("div",{className:" splide__arrow--next tb_ms_slider_next_arrow-next",children:(0,u.jsx)("button",{className:"carousel-control-next ugc_arrow_btn",type:"button","data-bs-target":"#ugcPostSlider","data-bs-slide":"next",children:(0,u.jsx)("span",{className:"ugc_arrow_ico d-flex","aria-hidden":"true",children:(0,u.jsx)("i",{className:"fas fa-angle-right"})})})})]})]})]})}}var oe=s(96011),ce=s.n(oe);class re extends a.Component{constructor(){super(...arguments),this.state={openSteps:!1,copied:!1,hash:"yes",accountDetails:{},postUrl:""},this.sendRequest=()=>{const{onRaiseRequest:e,setUserName:t}=this.props;e(this.state.hash)},this.copyText=()=>{const{ugcData:e,custom_msg:t,requestMode:s}=this.props,a=null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&e.data[0]?null===e||void 0===e?void 0:e.data[0].link:"";(e=>{var t=JSON.stringify({url:e}),s={method:"post",url:"".concat(F.PXB,"?api_token=").concat("YhhvoiyS1HLShf3CsiZAUsUZK2qTY1JGrJ045Z12sipRKGeEbM1FVHnQVd4f"),headers:{accept:"application/json","Content-Type":"application/json"},data:t};return ce()(s)})(a).then((e=>{const{data:t}=e.data;this.setState({postUrl:null===t||void 0===t?void 0:t.tiny_url})})).catch((e=>{this.setState({postUrl:a})})),0==s?navigator.clipboard.writeText(t+" "+e.bitlyurl):navigator.clipboard.writeText("".concat(t,". Just reply with #").concat(this.state.hash,"  if you're up for it, and you can find all the nitty-gritty details in our bio. Thanks a bunch!"))},this.raiseReq=()=>{const{ugcData:e,custom_msg:t,requestMode:s}=this.props;""!=this.state.hash&&this.state.hash?(this.sendRequest(),0==s?navigator.clipboard.writeText(t+" Post : "+this.state.postUrl+" . Form Link : "+e.bitlyurl):navigator.clipboard.writeText("".concat(t," Just reply with #").concat(this.state.hash,"  if you're up for it, and you can find all the nitty-gritty details in our bio. Thanks a bunch!")),18!=e.data[0].networkId&&2!=e.data[0].networkId||0!=s?setTimeout((()=>window.open(e.data[0].link,"_blank")),400):setTimeout((()=>window.open("https://ig.me/m/".concat(e.data[0].username),"_blank")),400),setTimeout((()=>{window.location.replace("".concat(F.btP,"content/moderation/").concat(localStorage.getItem("wallId")))}),1e3)):(0,P.r$)("Hashtag for UGC Rights is required!")}}componentDidMount(){this.copyText()}render(){const{ugcData:e,custom_msg:t,setStep:s,requestMode:a}=this.props,{openSteps:i,copied:l,hash:n}=this.state;return(0,u.jsxs)("div",{className:"",id:"contact-md",children:[(0,u.jsxs)("div",{className:"ugc_steps ugc_modal_pending_second_inner_box flex-grow-1 ugc-pending-url modal-body",children:[(0,u.jsx)("div",{className:"ugc-req-title",children:(0,u.jsx)("h2",{children:"Your UGC Request is Ready"})}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("textarea",{row:"5",cols:"7",readOnly:"",value:0==a?t:"".concat(t," Just reply with #").concat(n,"  if you're up for it, and you can find all the nitty-gritty details in our bio. Thanks a bunch!")||0})}),1==a?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{className:"mb-2 fs-7 mt-3",children:(0,u.jsxs)("span",{className:"fw-medium",children:["Enter Hashtag for UGC Rights",(0,u.jsx)("strong",{className:"text-danger",children:"*"})]})}),(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)("input",{type:"text",id:"ugc_rights_hash_value",className:"form-control form-control-lg",defaultValue:n,onChange:e=>this.setState({hash:e.target.value})})})]}):(0,u.jsx)(u.Fragment,{}),0==a?(0,u.jsxs)("div",{className:"form-group ugc_link_share_copy_box ugc_modal_pending_link my-4",children:[(0,u.jsxs)("div",{className:"input-group input-group-lg copy_txt",children:[(0,u.jsx)("div",{className:"input-group-prepend",children:(0,u.jsx)("span",{className:"input-group-text",children:(0,u.jsx)("i",{className:"fa fa-link","aria-hidden":"true"})})}),(0,u.jsx)("span",{className:"form-control ugcBityUrl",children:e.bitlyurl})]}),(0,u.jsxs)("div",{className:"my-6",children:[(0,u.jsx)("div",{className:"ugc-copryurl",children:(0,u.jsx)("input",{type:"button",className:"btn btn-primary ugc_copy_text_button w-100",onClick:()=>this.setState({copied:!0},(()=>this.copyText())),value:"Copy URL"})}),l?(0,u.jsx)("span",{id:"ugc-copy-success-alert1",className:"ugc_copy_success_alertt text-success",children:"Copied to clipboard"}):null]})]}):(0,u.jsx)(u.Fragment,{}),(0,u.jsx)("div",{className:"ugc_modal_pending_link"}),(0,u.jsxs)("div",{className:"ugc-stepstoproceed",children:[(0,u.jsxs)("a",{href:"javascript:void(0);",className:"ugc-togglesteps ",onClick:()=>this.setState({openSteps:!i}),children:["Steps to proceed",(0,u.jsx)("i",{className:"fas fa-chevron-down",style:i?{transform:"rotate(180deg)"}:{}})]}),(0,u.jsxs)("ul",{className:"list-unstyled",style:i?{display:"block"}:{},children:[(0,u.jsx)("li",{children:'You have successfully generated a "UGC Request" for this post.'}),(0,u.jsx)("li",{children:"Quickly review your Request before sending it to the owner."}),(0,u.jsx)("li",{children:'Click on the "Raise Request" button located in the right bottom corner of the screen and then you will be redirected to the user\'s original post.'}),(0,u.jsx)("li",{children:'Paste the link of "UGC Request" in the comments section of the original post.'}),(0,u.jsx)("li",{children:"You will get UGC Rights asap post owner accept your request and allow you to use their post."})]})]})]}),(0,u.jsxs)("div",{className:"ugc-peingdone modal-footer text-right",children:[(0,u.jsx)("input",{className:"btn btn-secondary mr-3",type:"button",value:"Back",onClick:()=>s(2)}),(0,u.jsx)("input",{className:"btn btn-primary",type:"button",value:"Raise Request",onClick:()=>this.raiseReq()})]})]})}}var de=s(44259),he=s(3302),me=s.n(he),pe=s(49332),ue=s(85608);class ge extends a.Component{constructor(){super(...arguments),this.uppyUploader=new pe.A,this.uppyUploaderPdf=new pe.A(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),this.state={postauthor:null,posthandle:null,authorpicture:null,postcarousel:!1,content:null,data:null,modalOpen:!1,createTemplate:!1,brandFilename:this.props.editData.client_logo,selectedBrand:this.props.editData.client_logo_name,selectedBrandFile:this.props.editData.client_logo,tncFilename:this.props.editData.custom_terms,selectedtnc:this.props.editData.custom_terms_name,selectedtncFile:this.props.editData.custom_terms,selectedTemplate:null,acceptTnc:!1,logoError:!1,tncError:!1,templateName:this.props.editData.name,custom_msg:this.props.editData.custom_message,tncerrorMsg:!1,nameerrorMsg:!1,msgerrorMsg:!1},this.onClickToOpenBrand=()=>{this.setState({brandModalOpen:!0}),me()(".uppy-Dashboard-close").click((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}))},this.onClickToCloseBrand=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},this.onClickToOpenTnc=()=>{this.setState({tncModalOpen:!0}),me()(".uppy-Dashboard-close").click((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}))},this.onClickToCloseTnc=()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},this.removeBrandLogo=()=>{this.setState({selectedBrand:"",selectedBrandFile:null,brandFilename:null})},this.removeTnc=()=>{this.setState({tncFilename:null,selectedtnc:"",selectedtncFile:null})},this.onSaveTemplate=()=>{const{createTemplate:e,selectedBrand:t,tncFilename:s,brandFilename:a,selectedtnc:i,selectedtncFile:l,selectedTemplate:n,templateName:o,selectedBrandFile:c,custom_msg:r}=this.state;if(r&&o&&s&&a){var d={owner:localStorage.getItem("ownerId"),name:o,custom_message:r,custom_terms:i,custom_terms_name:s,client_logo:t,client_logo_name:a};this.props.edit&&(d={...d,id:this.props.editData.id}),this.props.ADD_UGC_TEMPLATE(d,this.props.onAddNewTemplate)}else r||this.setState({msgerrorMsg:!0}),o||this.setState({nameerrorMsg:!0}),s||this.setState({tncerrorMsg:!0}),a||this.setState({logoError:!0})}}componentDidMount(){this.uppyUploader.uppy.on("transloadit:result",((e,t)=>{this.setState({selectedBrandFile:"".concat(ue.$r).concat(t.id,".").concat(t.ext),brandFilename:t.name,selectedBrand:"".concat(ue.$r).concat(t.id,".").concat(t.ext),logoError:!1},(()=>{setTimeout((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}),300)}))})),this.uppyUploaderPdf.uppy.on("transloadit:result",((e,t)=>{this.setState({selectedtncFile:"".concat(ue.$r).concat(t.id,".").concat(t.ext),tncFilename:t.name,selectedtnc:"".concat(ue.$r).concat(t.id,".").concat(t.ext),tncerrorMsg:!1},(()=>{setTimeout((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}),300)}))}))}render(){const{show:e,onHide:t,saveTemplate:s,edit:a}=this.props,{brandModalOpen:i,tncModalOpen:l,createTemplate:n,selectedBrand:o,tncFilename:c,logoError:r,selectedtncFile:d,selectedTemplate:h,acceptTnc:m,tncError:p,selectedBrandFile:g,templateName:x,custom_msg:j,brandFilename:v,tncerrorMsg:f,nameerrorMsg:b,msgerrorMsg:N}=this.state;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(S.A,{size:"lg",show:e,onHide:t,className:"createTemplateModal",children:[(0,u.jsx)(S.A.Header,{closeButton:!0,children:(0,u.jsxs)(S.A.Title,{children:[a?"Edit":"Create New"," Template"]})}),(0,u.jsx)(S.A.Body,{children:(0,u.jsxs)("div",{id:"TemplateCreateForm",children:[(0,u.jsx)("div",{id:"createWallBlock",children:(0,u.jsx)("div",{className:"panel-body",children:(0,u.jsx)("div",{className:"col-md-12",children:(0,u.jsxs)("div",{className:"form-body",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{htmlFor:"templatesname",children:[" Template Name ",(0,u.jsx)("span",{className:"required",children:"*"})," "]}),(0,u.jsx)("input",{placeholder:"enter your template name",autoComplete:"off",className:"form-control validate",id:"templatesname",value:x,onChange:e=>this.setState({templateName:e.target.value,nameerrorMsg:!1}),maxLength:"255",type:"text"}),(0,u.jsx)("span",{id:"templatesnameerror",className:"invalid-feedback",children:b?"Name is required":""})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{htmlFor:"templatescustom_message",className:"control-label",children:[" Custom Message ",(0,u.jsx)("span",{className:"required",children:"*"})," "]}),(0,u.jsx)("textarea",{className:"form-control validate",id:"templatescustom_message",maxLength:"255",cols:"30",rows:"6",value:j,onChange:e=>this.setState({custom_msg:e.target.value,msgerrorMsg:!1})}),(0,u.jsx)("span",{id:"templatescustom_messageerror",className:"invalid-feedback",children:N?"Custom message is required":""})]}),(0,u.jsxs)("div",{className:"form-group row",children:[(0,u.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12",children:[" ",(0,u.jsx)("label",{children:"Brand Logo"})," "]}),g?(0,u.jsx)("div",{className:"col-md-7 temp-logo-image",children:(0,u.jsxs)("div",{className:"brand_logo_file thumbnail f-between",children:[(0,u.jsxs)("div",{className:"brand_logo_file thumbnail f-between",children:[(0,u.jsx)("img",{src:null!==g&&void 0!==g&&g.includes("https://cloud.tagshop.ai/")?g:"".concat(F.QcA).concat(F.CcE,"/").concat(g),className:"brand_logo_file_img_ugcright bannerpreviewImg"}),(0,u.jsx)("span",{children:v})]}),(0,u.jsxs)("button",{type:"button",className:"btn p-0 removelogo m-2",onClick:this.removeBrandLogo,children:[" ",(0,u.jsx)("i",{className:"fa fa-times"})," "]})]})}):(0,u.jsx)("div",{className:"col-5 temp-logo-upload",children:(0,u.jsx)("span",{className:"dashed_ugc_btn ugc_upload_logo_btn_main",children:(0,u.jsxs)("span",{className:"fileinput-new ugc_upload_logo_btn d-flex align-items-center",onClick:()=>this.onClickToOpenBrand(),children:[(0,u.jsx)("p",{children:"Upload Logo"}),(0,u.jsx)("input",{type:"hidden",autoComplete:"off",className:"form-control validate",id:"brandlogoN1"}),(0,u.jsx)("input",{autoComplete:"off",className:"form-control validate",id:"brandlogo1",maxLength:"255",type:"text"})]})})}),(0,u.jsx)("span",{id:"templatescustom_termserror",className:"invalid-feedback",children:r?"Brand Logo is required":""})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Terms and Conditions"}),(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("input",{autocomplete:"off",className:"form-control validate",id:"ugcterms",type:"text"}),(0,u.jsx)("input",{type:"hidden",autocomplete:"off",className:"form-control validate",id:"ugctermsN1"}),(0,u.jsx)("input",{type:"hidden",autocomplete:"off",className:"form-control validate",id:"ugctermstype1"}),d?(0,u.jsxs)("div",{className:"clearterms clstrm",style:{},children:[" ",(0,u.jsx)("span",{children:c})," ",(0,u.jsx)("i",{className:"fa fa-times removeterms",onClick:this.removeTnc})," "]}):"",(0,u.jsx)("div",{className:"input-group-append",id:"ugctermssection1",children:(0,u.jsx)("span",{className:"input-group-text cursor-pointer",onClick:()=>this.onClickToOpenTnc(),children:" Attach File "})})]}),(0,u.jsxs)("div",{className:"f-between mt-2",children:[(0,u.jsx)("span",{id:"templatescustom_termserror",className:"invalid-feedback",children:f?"Terms & Conditions is required":""}),(0,u.jsx)("div",{className:"ugc_dummy_file_download",children:(0,u.jsxs)("a",{href:"".concat(F.krE,"media/Terms&ConditionsforuseofUGC.docx"),target:"_blank",className:"btn btn-link p-0 text-nowrap",download:"",children:["Use our predefined content",(0,u.jsxs)("span",{className:"svg-icon svg-icon-md",children:[" ",(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[" ",(0,u.jsxs)("g",{id:"Group_4422","data-name":"Group 4422",transform:"translate(10979 -4685)",children:[" ",(0,u.jsx)("rect",{id:"Rectangle_2094","data-name":"Rectangle 2094",width:"24",height:"24",transform:"translate(-10979 4685)",fill:"none",opacity:"0"})," ",(0,u.jsxs)("g",{id:"Group_4410","data-name":"Group 4410",transform:"translate(-10979 4685)",children:[" ",(0,u.jsx)("path",{id:"Path_5217","data-name":"Path 5217",d:"M11.291,15.4a.989.989,0,0,0,.7.283,1.108,1.108,0,0,0,.776-.331L15.9,12.209a1.016,1.016,0,1,0-1.436-1.437L13.02,12.217V4.057A1.016,1.016,0,0,0,12,3.036a1.027,1.027,0,0,0-1,1.02v8.172l-1.457-1.46a1.038,1.038,0,0,0-1.436,0,1.014,1.014,0,0,0,0,1.436Z",fill:"#545454"})," ",(0,u.jsx)("path",{id:"Path_5218","data-name":"Path 5218",d:"M21.083,18H2.917a.99.99,0,0,0-.984.982v.006a1,1,0,0,0,.985.981H21.083a.985.985,0,0,0,0-1.969Z",fill:"#545454"})," "]})," "]})," "]})," "]})]})})]})]})]})})})}),(0,u.jsxs)("div",{className:"modal-footer mt-8",children:[(0,u.jsx)("button",{type:"button",className:"btn btn-secondary mr-4","data-bs-dismiss":"modal",onClick:t,children:" Cancel "}),(0,u.jsx)("button",{className:"btn btn-primary",onClick:this.onSaveTemplate,children:" Save Template "})]})]})}),(0,u.jsx)(de.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:i,onRequestCloseModal:this.onClickToCloseBrand,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam"]}),(0,u.jsx)(de.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploaderPdf.uppy,open:l,onRequestCloseModal:this.onClickToCloseTnc,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Url","Webcam"]})]})})}}const xe=(0,i.Ng)((e=>({})),(e=>({ADD_UGC_TEMPLATE:(t,s)=>e((0,c.Zu)(t,s))})))(ge);class je extends a.Component{constructor(){super(...arguments),this.state={postauthor:null,posthandle:null,authorpicture:null,postcarousel:!1,content:null,data:null,modalOpen:!1,createTemplate:!1,brandFilename:null,selectedBrand:"",selectedBrandFile:null,tncFilename:null,selectedtnc:"",selectedtncFile:null,selectedTemplate:this.props.selectedTemplate,tncError:this.props.tncError,custom_message:this.props.custom_msg,isEdit:!1,editData:{}},this.uppyUploader=new pe.A,this.uppyUploaderPdf=new pe.A(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),this.onClickToOpenBrand=()=>{this.setState({brandModalOpen:!0}),me()(".uppy-Dashboard-close").click((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}))},this.onClickToCloseBrand=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},this.onClickToOpenTnc=()=>{this.setState({tncModalOpen:!0}),me()(".uppy-Dashboard-close").click((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}))},this.onClickToCloseTnc=()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},this.onCreateTemplate=()=>{this.setState({createTemplate:!0})},this.onAddNewTemplate=e=>{this.getSelectedTemplate(e)&&this.onTemplateChange(e),this.setState({createTemplate:!1,isEdit:!1,editData:{}})},this.onHideTemplate=()=>{this.setState({createTemplate:!1,isEdit:!1,editData:{}})},this.getSelectedTemplate=e=>{const{ugcData:t}=this.props,{selectedTemplate:s}=this.state,a=e||s;if(t&&t.template&&t.template.length){if(!a)return t.template[0];return t.template.filter((e=>e.id==a))[0]}return null},this.onNextStep=()=>{const{acceptTnc:e,requestMode:t}=this.props;1==t||e&&0==t?this.props.setStep(2):this.setState({tncError:!0},(()=>this.props.setTncError(!0)))},this.onTemplateChange=e=>{const t=this.getSelectedTemplate(e);t&&this.setState({selectedTemplate:e},(()=>{this.setState({custom_message:t.custom_message,tncFilename:t.custom_terms_name,selectedtnc:t.custom_terms,selectedtncFile:t.custom_terms,brandFilename:t.client_logo_name,selectedBrand:t.client_logo,selectedBrandFile:t.client_logo}),this.props.setCustom_msg(null===t||void 0===t?void 0:t.custom_message),this.props.setSelectedTemplate(e)}))},this.onTemplateRemove=e=>{this.props.deleteTemplate({owner:e.owner,id:e.id},(()=>this.onTemplateChange(1)))},this.onTemplateEdit=e=>{this.onCreateTemplate(),this.setState({isEdit:!0,editData:e})},this.removeBrandLogo=()=>{this.setState({selectedBrand:"",selectedBrandFile:null,brandFilename:null})},this.removeTnc=()=>{this.setState({tncFilename:null,selectedtnc:null,selectedtncFile:null})}}componentDidMount(){const{ugcData:e,setBrand_link:t,setTermslink:s,setTermstype:a,brand_link:i}=this.props;this.uppyUploader.uppy.on("transloadit:result",((e,s)=>{t("".concat(ue.$r).concat(s.id,".").concat(s.ext)),this.setState({selectedBrandFile:"".concat(s.id,".").concat(s.ext),brandFilename:s.name,selectedBrand:"".concat(ue.$r).concat(s.id,".").concat(s.ext)},(()=>{setTimeout((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})}),300)}))})),this.uppyUploaderPdf.uppy.on("transloadit:result",((e,t)=>{this.setState({selectedtncFile:"".concat(t.id,".").concat(t.ext),tncFilename:t.name,selectedtnc:"".concat(ue.$r).concat(t.id,".").concat(t.ext)},(()=>{setTimeout((()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})}),300)})),s("".concat(ue.$r).concat(t.id,".").concat(t.ext)),a(t.name)})),this.onTemplateChange(this.state.selectedTemplate),setTimeout((()=>{e&&e.template&&e.template.length&&!this.state.selectedTemplate&&this.setState({tncFilename:e.template[0].custom_terms_name,selectedtnc:e.template[0].custom_terms,selectedtncFile:e.template[0].custom_terms}),i&&this.setState({selectedBrandFile:i},(()=>console.log("brand_link",i,this.state.selectedBrandFile)))}),500)}render(){var e,t,s,a,i,l,n,o;const{brandModalOpen:c,tncModalOpen:r,createTemplate:h,selectedBrand:m,selectedBrandFile:p,tncFilename:g,selectedtncFile:x,selectedTemplate:j,tncError:v,custom_message:f,isEdit:b,editData:N,brandFilename:w}=this.state,{ugcData:k,setCustom_msg:y,setAcceptTnc:_,acceptTnc:C,hideUgc:A,setBrand_link:T,setTermslink:S,setTermstype:P,requestMode:D}=this.props;return(0,u.jsxs)("div",{className:"ugc_req card card-custom shadow-none",id:"myTabContentMD",children:[(0,u.jsxs)("div",{id:"home-md",children:[k&&k.template&&k.template.length?(0,u.jsxs)("div",{className:"ugc_steps ugc-flexgrow modal-body",children:[0==D?(0,u.jsxs)("div",{className:"form-group ugc_right_col",children:[(0,u.jsxs)("p",{className:"m-0 d-flex flex-wrap align-items justify-content-between",children:[(0,u.jsx)("label",{children:"Choose From Templates"}),(0,u.jsxs)("button",{type:"button",className:"btn btn-link create-temp p-0 mb-2",onClick:this.onCreateTemplate,children:[(0,u.jsx)("i",{className:"fa fa-plus"}),"Create Template"]})]}),(0,u.jsx)("div",{children:(0,u.jsxs)(d.A,{className:"ugc-templates",onSelect:e=>this.onTemplateChange(e),children:[(0,u.jsx)(d.A.Toggle,{className:"btn btn-outline-secondary dropdown-toggle w-100 text-left",children:(0,u.jsx)("span",{id:"temp-name",children:null===(e=this.getSelectedTemplate())||void 0===e?void 0:e.name})}),(0,u.jsx)(d.A.Menu,{className:"w-100",children:k.template&&k.template.map((e=>(0,u.jsxs)(d.A.Item,{eventKey:e.id,children:[(0,u.jsx)("span",{children:e.name})," ",0!=e.owner?(0,u.jsxs)("span",{className:"dropdown-option",children:[(0,u.jsx)("button",{type:"button",className:"btn p-0 edit-temp","data-id":"151",onClick:()=>this.onTemplateEdit(e),children:(0,u.jsx)("span",{className:"svg-icon svg-icon-xs",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,u.jsxs)("g",{"data-name":"Group 4328",transform:"translate(10956 -4501)",children:[(0,u.jsx)("rect",{id:"Rectangle_2068","data-name":"Rectangle 2068",width:"24",height:"24",transform:"translate(-10956 4501)",fill:"none",opacity:"0"}),(0,u.jsxs)("g",{id:"Group_3906","data-name":"Group 3906",transform:"translate(-10953.868 4503.559)",children:[(0,u.jsx)("path",{id:"Path_5042","data-name":"Path 5042",d:"M3.2,14.952,2.3,18.872a.985.985,0,0,0,.956,1.195,1.023,1.023,0,0,0,.206,0L7.4,19.158l7.571-7.543L10.746,7.4Z",transform:"translate(0 -2.914)",fill:"#545454"}),(0,u.jsx)("path",{id:"Path_5043","data-name":"Path 5043",d:"M27.5,4.926l-2.82-2.82a.989.989,0,0,0-1.4,0L21.72,3.673l4.221,4.221,1.568-1.568a.989.989,0,0,0,0-1.4Z",transform:"translate(-10.152 0)",fill:"#545454"})]})]})})})}),(0,u.jsx)("button",{type:"button",className:"btn p-0 del-temp","data-id":"151",onClick:()=>this.onTemplateRemove(e),children:(0,u.jsx)("span",{className:"svg-icon svg-icon-xs",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,u.jsxs)("g",{"data-name":"Group 4331",transform:"translate(10956 -4533)",children:[(0,u.jsx)("rect",{id:"Rectangle_2069","data-name":"Rectangle 2069",width:"24",height:"24",transform:"translate(-10956 4533)",fill:"none",opacity:"0"}),(0,u.jsx)("g",{id:"Group_4324","data-name":"Group 4324",transform:"translate(-10952 4536)",children:(0,u.jsx)("path",{id:"Path_5188","data-name":"Path 5188",d:"M2.722,16.328A2,2,0,0,0,4.694,18h6.612a2,2,0,0,0,1.972-1.672L14,6H2ZM9,9.5A.5.5,0,0,1,9.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5Zm-4,0A.5.5,0,0,1,5.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5ZM15,2H11A2,2,0,0,0,9,0H7A2,2,0,0,0,5,2H1A1,1,0,0,0,1,4H15a1,1,0,0,0,0-2Z",fill:"#545454",fillRule:"evenodd"})})]})})})})]}):null," "]},"drp_".concat(e.id))))})]})})]}):(0,u.jsx)(u.Fragment,{}),(0,u.jsxs)("div",{className:"form-group ugc_right_col",children:[(0,u.jsx)("h3",{className:"mb-2 fs-7",children:(0,u.jsxs)("span",{className:"fw-medium",children:["Message",(0,u.jsx)("strong",{className:"text-danger",children:"*"})]})}),(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)("textarea",{name:"data[custom_message]",value:f,onChange:e=>this.setState({custom_message:e.target.value},(()=>y(e.target.value))),rows:"4",cols:"3",className:"form-control form-control-solid textarea-min-row-8",id:"custom_message",children:null!==(t=this.getSelectedTemplate())&&void 0!==t&&t.custom_message?null===(s=this.getSelectedTemplate())||void 0===s?void 0:s.custom_message:"We loved your creative brilliance! Can we showcase your incredible work and give you the recognition you deserve? \u2728\ud83d\udcf8\ud83d\ude4c. \n                                    Please approve our request so we can use your content in our marketing campaign."})})]}),0==D?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"ugc_right_col clearfix",id:"bannerLogoDiv",children:[(0,u.jsx)("div",{className:"form-group",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12",children:(0,u.jsx)("label",{children:"Brand Logo"})}),(0,u.jsx)("div",{className:"col-12",children:p?(0,u.jsx)("div",{className:"logo-image-section",children:(0,u.jsxs)("div",{className:"brand_logo_file ugc-brandlogo-file thumbnail f-between w-100",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[(0,u.jsx)("img",{src:null!==(a=this.getSelectedTemplate())&&void 0!==a&&a.client_logo?null!==(i=this.getSelectedTemplate())&&void 0!==i&&null!==(l=i.client_logo)&&void 0!==l&&l.includes("https://cloud.tagshop.ai")?null===(n=this.getSelectedTemplate())||void 0===n?void 0:n.client_logo:"".concat(F.QcA).concat(F.CcE,"/").concat(null===(o=this.getSelectedTemplate())||void 0===o?void 0:o.client_logo):m,className:"brand_logo_file_img_ugcright bannerpreviewImg"}),(0,u.jsx)("span",{className:"ugc-brandimg-name",children:w})]}),(0,u.jsx)("button",{type:"button",className:"btn p-0 m-2 removelogo",onClick:()=>this.removeBrandLogo(),children:(0,u.jsx)("i",{className:"fa fa-times"})})]})}):(0,u.jsx)("div",{className:"logo-upload-section",children:(0,u.jsx)("span",{className:"dashed_ugc_btn ugc_upload_logo_btn_main",children:(0,u.jsxs)("span",{className:"fileinput-new ugc_upload_logo_btn d-flex align-items-center",onClick:()=>this.onClickToOpenBrand(),children:[(0,u.jsx)("p",{style:{textTransform:"capitalize"},children:"Upload Logo"}),(0,u.jsx)("input",{type:"hidden",name:"",autoComplete:"off",className:"form-control form-control-lg validate",id:"brandlogoN",value:""}),(0,u.jsx)("input",{name:"",autoComplete:"off",className:"form-control validate",id:"brandlogo",maxLength:"255",type:"text"})]})})})})]})}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Terms and Conditions"}),(0,u.jsxs)("div",{className:"input-group",children:[(0,u.jsx)("input",{name:"data[Template][ugcterms]",autoComplete:"off",className:"form-control form-control-lg validate",id:"ugcterms",type:"text"}),(0,u.jsx)("input",{type:"hidden",name:"data[Template][custom_terms]",autoComplete:"off",className:"form-control validate",id:"ugctermsN",value:"38a4b61b4b5c4ccf897249c2cd21c9f4"}),(0,u.jsx)("input",{type:"hidden",name:"data[Template][custom_terms_name]",autoComplete:"off",className:"form-control validate",id:"ugctermstype",value:"Terms&ConditionsforuseofUGC.pdf"}),g?(0,u.jsxs)("div",{className:"clearterms",style:{},children:[(0,u.jsx)("span",{children:g}),(0,u.jsx)("i",{className:"fa fa-times removeterms",onClick:()=>this.removeTnc()})]}):"",(0,u.jsx)("div",{className:"input-group-append",id:"ugctermssection",children:(0,u.jsx)("span",{className:"input-group-text cursor-pointer",onClick:this.onClickToOpenTnc,children:"Attach File"})})]}),(0,u.jsxs)("div",{className:"f-between mt-2",children:[(0,u.jsx)("span",{id:"terms_error",className:"invalid-feedback"}),(0,u.jsx)("div",{className:"ugc_dummy_file_download",children:(0,u.jsxs)("a",{href:"".concat(F.krE,"media/Terms&ConditionsforuseofUGC.docx"),target:"_blank",className:"btn btn-link p-0 text-nowrap",download:"",children:["Use our predefined content",(0,u.jsx)("span",{className:"svg-icon svg-icon-md",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,u.jsxs)("g",{id:"Group_4422","data-name":"Group 4422",transform:"translate(10979 -4685)",children:[(0,u.jsx)("rect",{id:"Rectangle_2094","data-name":"Rectangle 2094",width:"24",height:"24",transform:"translate(-10979 4685)",fill:"none",opacity:"0"}),(0,u.jsxs)("g",{id:"Group_4410","data-name":"Group 4410",transform:"translate(-10979 4685)",children:[(0,u.jsx)("path",{id:"Path_5217","data-name":"Path 5217",d:"M11.291,15.4a.989.989,0,0,0,.7.283,1.108,1.108,0,0,0,.776-.331L15.9,12.209a1.016,1.016,0,1,0-1.436-1.437L13.02,12.217V4.057A1.016,1.016,0,0,0,12,3.036a1.027,1.027,0,0,0-1,1.02v8.172l-1.457-1.46a1.038,1.038,0,0,0-1.436,0,1.014,1.014,0,0,0,0,1.436Z",fill:"#545454"}),(0,u.jsx)("path",{id:"Path_5218","data-name":"Path 5218",d:"M21.083,18H2.917a.99.99,0,0,0-.984.982v.006a1,1,0,0,0,.985.981H21.083a.985.985,0,0,0,0-1.969Z",fill:"#545454"})]})]})})})]})})]})]})]}),(0,u.jsxs)("div",{className:"form-group ugc_right_col",children:[(0,u.jsx)("div",{className:"checkbox-inline",children:(0,u.jsxs)("label",{className:"ugc_terms_conditions checkbox align-items-start checkbox-outline checkbox-outline-2x checkbox-primary mr-0",children:[(0,u.jsx)("input",{type:"checkbox",name:"term",id:"term",value:C,onChange:e=>_(e.target.checked),checked:!!C}),(0,u.jsx)("span",{}),(0,u.jsxs)("p",{className:"mb-1",children:["Accept our",(0,u.jsx)("b",{children:(0,u.jsx)("a",{href:"https://tagshop.ai/terms-of-service/",rel:"noreferrer",target:"_blank",children:"Terms & Conditions"})}),". Click on Generate Request to proceed to next step."]})]})}),v&&!C?(0,u.jsx)("span",{id:"term_error",className:"invalid-feedback",children:"Please Select Terms and Conditions"}):null]})]}):(0,u.jsx)(u.Fragment,{})]}):null,(0,u.jsxs)("div",{className:"ugc-peingdone modal-footer text-right",children:[(0,u.jsx)("input",{className:"btn btn-secondary",type:"button",value:"Back",onClick:()=>this.props.setStep(4)}),(0,u.jsx)("input",{className:"btn btn-primary",type:"button",value:"Next Step",onClick:()=>this.onNextStep()})]})]}),(0,u.jsx)(de.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:c,onRequestCloseModal:this.onClickToCloseBrand,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam"]}),(0,u.jsx)(de.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploaderPdf.uppy,open:r,onRequestCloseModal:this.onClickToCloseTnc,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Url","Webcam"]}),h?(0,u.jsx)(xe,{show:!0,edit:b,editData:N,onHide:this.onHideTemplate,onAddNewTemplate:this.onAddNewTemplate}):null]})}}const ve=(0,i.Ng)((e=>({})),(e=>({deleteTemplate:(t,s)=>e((0,c.fQ)(t,s))})))(je);var fe=s(80858),be=s(23317),Ne=s(59074),we=s(41225),ke=(s(85861),s(9697));s(14313);const ye={1:{networkName:"Twitter",networkCode:"twitter"},2:{networkName:"Instagram",networkCode:"instagram"},3:{networkName:"Facebook",networkCode:"facebook"},4:{networkName:"Google Reviews",networkCode:"google"},5:{networkName:"Pinterest",networkCode:"pinterest"},6:{networkName:"Flickr",networkCode:"flickr"},7:{networkName:"YouTube",networkCode:"youtube"},8:{networkName:"Vimeo",networkCode:"vimeo"},18:{networkName:"Instagram",networkCode:"instagram-business"},23:{networkName:"Airbnb Reviews",networkCode:"airbnb"},28:{networkName:"TikTok",networkCode:"tiktok"},29:{networkName:"SnapUp",networkCode:"onsiteupload"},33:{networkName:"Collab with Creators",networkCode:"collab-with-creators"}},_e=e=>ye[e];var Ce=s(28429);const Ae=new BroadcastChannel("connect");class Te extends a.Component{constructor(){super(...arguments),this.state={socialAccount:0,authorName:null,authorAvatar:null,errorMsg:!1,otherAc:!1,accountDetails:{},accountList:[],selectedPersonalAccount:null},this.handleMessage=async e=>{try{const t=JSON.parse(e.data),{code:s}=t,a=localStorage.getItem("networkId"),i=localStorage.getItem("connectionType");(e.origin.includes("tagshop.ai")||e.origin.includes("localhost"))&&"moderation-ugc"==i&&s&&(1==a?await(0,we.WC)(s,(e=>{e&&Object.keys(e).length>0&&this.filterAccountData(a,e)})):await(0,ke.CJ)(a,s,(()=>this.props.dispatch((0,Ne.xv)(null,(()=>this.filterAccountData(a,null)))))))}catch(t){}},this.filterAccountData=(e,t)=>{var s;const{socialAccountsData:a,setUserName:i}=this.props;let l=[];null===a||void 0===a||null===(s=a.accountInformations)||void 0===s||s.forEach((t=>{t.Network.id==e&&t.ConnectedAccounts&&(t.ConnectedAccounts.value2=t.ConnectedAccounts.accountName,l.push(t))})),1==e&&t&&l.unshift({ConnectedAccounts:{id:t.id_str,value2:t.name,profilePicture:t.picture},Network:{color:"#0F1419",description:"Twitter",icon:"fa-twitter",id:1,name:"Twitter",status:1}}),this.setState({accountList:l,selectedPersonalAccount:l[0]||""},(()=>{var e;return i((null===(e=l[0])||void 0===e?void 0:e.ConnectedAccounts.value2)||"")}))},this.sendRequest=()=>{const{setStep:e,setUserName:t}=this.props;this.state.accountDetails?(t(this.state.accountDetails.username),e(3)):this.setState({errorMsg:!0})},this.nextStep=()=>{const{setStep:e}=this.props;this.state.selectedPersonalAccount?e(3):this.setState({errorMsg:!0})}}componentDidMount(){var e;this.filterAccountData(2,null),document.cookie="callBackUrl=React",window.addEventListener("message",this.handleMessage),Ae.addEventListener("message",this.handleMessage),window.Application&&window.Application.reInit(),this.props.networkId==parseInt(null===(e=JSON.parse(localStorage.getItem("instagram_ugc")))||void 0===e?void 0:e.networkId)?this.setState({accountDetails:JSON.parse(localStorage.getItem("instagram_ugc"))}):this.setState({accountDetails:null})}componentWillUnmount(){localStorage.removeItem("networkId"),window.removeEventListener("message",this.handleMessage),Ae.removeEventListener("message",this.handleMessage)}render(){var e;const{setStep:t,networkId:s,setUserName:a}=this.props,{errorMsg:i,accountList:l,selectedPersonalAccount:n}=this.state;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{id:"profile-md",children:[(0,u.jsxs)("div",{className:"ugc_steps ugc-logged-ac modal-body",children:[(0,u.jsxs)(d.A,{className:"w-100 connected_acc__ nexttoinput",id:"connectedAll",children:[(0,u.jsx)(d.A.Toggle,{className:"btn w-100 border d-flex justify-content-between align-items-center mt-5",children:(0,u.jsxs)("span",{className:"navi-link f-between cursor-pointer m-0 w-100",children:[(0,u.jsxs)("div",{className:"user_id d-flex align-items-center justify-content-start conndAcc_popuphover accountProfile",children:[(0,u.jsx)("span",{className:"symbol symbol-circle symbol-30 mr-3",children:n&&n.ConnectedAccounts&&n.ConnectedAccounts.profilePicture?(0,u.jsx)("span",{className:"symbol-label",style:{backgroundImage:"url('".concat(null===n||void 0===n||null===(e=n.ConnectedAccounts)||void 0===e?void 0:e.profilePicture,"')")}}):(0,u.jsx)("span",{className:"symbol-label",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"70.06",viewBox:"0 0 70 70.06",children:(0,u.jsx)("path",{id:"Path_6644","data-name":"Path 6644",d:"M63.917,59.371a35.025,35.025,0,1,0-53.788-.006l-.045.049c.175.21.375.39.555.6.225.258.468.5.7.751.7.761,1.421,1.491,2.177,2.177.23.21.468.405.7.605.8.69,1.624,1.346,2.477,1.956.11.075.21.173.32.25v-.03a34.777,34.777,0,0,0,40.029,0v.03c.11-.078.208-.175.32-.25q1.276-.919,2.477-1.956c.233-.2.47-.4.7-.605.756-.688,1.476-1.416,2.177-2.177.233-.25.473-.493.7-.751.178-.208.38-.388.555-.6ZM37.025,17.016A11.258,11.258,0,1,1,25.767,28.274,11.258,11.258,0,0,1,37.025,17.016Zm-20,42.355A12.5,12.5,0,0,1,29.52,47.037H44.53A12.5,12.5,0,0,1,57.022,59.371,29.871,29.871,0,0,1,17.028,59.371Z",transform:"translate(-2 -1.997)",fill:"#c6c6c6"})})})}),(0,u.jsx)("div",{className:"font-weight-bold conn_user_name text-dark",children:n?n.ConnectedAccounts&&n.ConnectedAccounts.value2:"Add Another Account"})]}),(0,u.jsx)("input",{type:"radio",id:"",className:"accountOption hidden"})]})}),(0,u.jsxs)(d.A.Menu,{className:"w-100 navi flex-column navi-hover py-2 connectedAllAccounts",children:[(0,u.jsx)("div",{className:"navi flex-column navi-hover py-2 px-5 connectedAllAccounts",children:"Select Account:"}),l.map((e=>(0,u.jsx)(d.A.Item,{className:"navi-item",onClick:()=>{this.setState({selectedPersonalAccount:e},(()=>a(e.ConnectedAccounts.value2)))},children:(0,u.jsx)("span",{className:"navi-link f-between cursor-pointer connected_user m-0 w-100",children:(0,u.jsxs)("div",{className:"user_id d-flex align-items-center justify-content-start conndAcc_popuphover accountProfile",children:[(0,u.jsx)("span",{className:"symbol symbol-circle symbol-30 mr-3",children:(0,u.jsx)("span",{className:"symbol-label",style:{backgroundImage:"url('".concat(e.ConnectedAccounts.profilePicture,"')")}})}),(0,u.jsx)("div",{className:"font-weight-bold conn_user_name text-dark",children:e.ConnectedAccounts.value2})]})})},e.ConnectedAccounts.id))),(0,u.jsx)(d.A.Item,{className:"navi-item",onClick:()=>{localStorage.setItem("connectionType","moderation-ugc"),(e=>{localStorage.setItem("networkId",e);const t=_e(e),s=(null===t||void 0===t?void 0:t.networkName)||"";Y().fire({imageUrl:(0,p.pc)("media/icons/social-icons/".concat((0,P.EC)(e),".svg")),imageHeight:40,imageWidth:40,title:"".concat(s),html:"Connect to ".concat(s," to pull the content for this feed."),showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,confirmButtonText:"Continue with ".concat(s),confirmButtonAriaLabel:"Continue with ".concat(s),cancelButtonAriaLabel:"Thumbs down"}).then((t=>{if(t.value)switch(parseInt(e)){case 1:(0,we.LH)();break;case 2:const e="https://api.instagram.com/oauth/authorize?client_id=480810795949098&redirect_uri=".concat(F.C1b,"/feeds/authCallback/&scope=user_profile,user_media&response_type=code");window.open(e,"FbAuth","width=500,height=600");break;case 18:(0,we.o)(18);break;case 3:(0,we.o)(3);break;case 7:(0,we.jf)();break;case 8:(0,we.cz)()}else t.dismiss}))})(s)},children:(0,u.jsxs)("span",{className:"navi-link f-between flex-wrap cursor-pointer m-0 forAddNew accountProfile w-100",htmlFor:"otherAccount",children:[(0,u.jsxs)("div",{className:"user_id d-flex align-items-center justify-content-start conndAcc_popuphover accountProfile",children:[(0,u.jsx)("span",{className:"symbol symbol-circle symbol-30 mr-3",children:(0,u.jsx)("span",{className:"symbol-label",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"70.06",viewBox:"0 0 70 70.06",children:(0,u.jsx)("path",{id:"Path_6644","data-name":"Path 6644",d:"M63.917,59.371a35.025,35.025,0,1,0-53.788-.006l-.045.049c.175.21.375.39.555.6.225.258.468.5.7.751.7.761,1.421,1.491,2.177,2.177.23.21.468.405.7.605.8.69,1.624,1.346,2.477,1.956.11.075.21.173.32.25v-.03a34.777,34.777,0,0,0,40.029,0v.03c.11-.078.208-.175.32-.25q1.276-.919,2.477-1.956c.233-.2.47-.4.7-.605.756-.688,1.476-1.416,2.177-2.177.233-.25.473-.493.7-.751.178-.208.38-.388.555-.6ZM37.025,17.016A11.258,11.258,0,1,1,25.767,28.274,11.258,11.258,0,0,1,37.025,17.016Zm-20,42.355A12.5,12.5,0,0,1,29.52,47.037H44.53A12.5,12.5,0,0,1,57.022,59.371,29.871,29.871,0,0,1,17.028,59.371Z",transform:"translate(-2 -1.997)",fill:"#c6c6c6"})})})}),(0,u.jsx)("div",{className:"font-weight-bold conn_user_name text-dark",children:"Add Another Account"})]}),(0,u.jsx)("span",{className:"symbol symbol-circle symbol-40 mr-1",children:(0,u.jsx)("span",{className:"svg-icon svg-icon-2x svg-icon-info",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"70",viewBox:"0 0 70 70",children:(0,u.jsx)("path",{id:"Path_6645","data-name":"Path 6645",d:"M59,24A35,35,0,1,0,94,59,35,35,0,0,0,59,24Zm0,64.615A29.615,29.615,0,1,1,88.615,59,29.615,29.615,0,0,1,59,88.615ZM75.154,59a2.692,2.692,0,0,1-2.692,2.692H61.692V72.462a2.692,2.692,0,0,1-5.385,0V61.692H45.538a2.692,2.692,0,1,1,0-5.385H56.308V45.538a2.692,2.692,0,0,1,5.385,0V56.308H72.462A2.692,2.692,0,0,1,75.154,59Z",transform:"translate(-24 -24)",fill:"#c6c6c6"})})})}),(0,u.jsx)("input",{type:"radio",id:"otherAccount",className:"accountOption hidden"})]})})]})]}),i?(0,u.jsx)("span",{id:"social_account_error",className:"invalid-feedback",children:"Please connect account"}):""]}),(0,u.jsx)("span",{id:"reSearch_cookies",onClick:()=>this.getCookieData()}),(0,u.jsxs)("div",{className:"ugc-peingdone modal-footer text-right",children:[(0,u.jsx)("input",{className:"btn btn-secondary mr-3",type:"button",value:"Back",onClick:()=>t(1)}),(0,u.jsx)("input",{className:"btn btn-primary",type:"button",value:"Next Step",onClick:()=>this.nextStep()})]})]})})}}const Se=(0,be.A)((e=>{const[t,s]=(0,fe.A)([]),a=(0,Ce.Zp)(),l=(0,i.wA)(),n=(0,i.d4)((e=>e.userAccountData.socialAccounts));return(0,u.jsx)(Te,{...e,cookies:t,navigation:a,dispatch:l,socialAccountsData:n})}));class Pe extends a.Component{constructor(){super(...arguments),this.state={},this.onNextStep=()=>{const{requestMode:e}=this.props;null!=e?this.props.setStep(1):(0,P.r$)("Please select the mode for Right Request")}}componentDidMount(){}render(){const{setRequestMode:e,requestMode:t}=this.props;return(0,u.jsx)("div",{className:"ugc_req card card-custom shadow-none",id:"myTabContentMD",children:(0,u.jsxs)("div",{id:"home-md",children:[(0,u.jsxs)("div",{className:"ugc_steps ugc-flexgrow modal-body",children:[(0,u.jsx)("h4",{children:"Choose Method"}),(0,u.jsx)("div",{className:"form-group ugc_right_col",children:(0,u.jsx)("div",{children:(0,u.jsx)("div",{className:"p-lg-6 py-3",children:(0,u.jsxs)("div",{className:"m-auto generalrequest-tabContent",children:[(0,u.jsx)("h3",{className:"mb-1 fs-7 pt-1",children:"Select the mode for Right Request"}),(0,u.jsx)("p",{children:"Tagshop offers two distinct modes to request rights. Comment Request and DM Request. "}),(0,u.jsx)("div",{className:"mb-3 d-flex flex-column",children:(0,u.jsxs)("div",{role:"group",className:"flex-column btn-group",children:[(0,u.jsx)("input",{className:"btn-check",name:"options",type:"radio",autocomplete:"off",id:"rightsVia-2",value:1}),(0,u.jsxs)("label",{tabindex:"0",for:"rightsVia-2",className:"mb-2 d-flex bg-transparent justify-content-between py-4  btn btn-outline-secondary ".concat(1==t?"border-success":""),onClick:()=>e(1),children:[(0,u.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,u.jsx)("div",{className:"svg-icon",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{d:"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM5.76282 17H20V5H4V18.3851L5.76282 17ZM8 10H16V12H8V10Z"})})}),(0,u.jsxs)("span",{className:"text-start",children:[(0,u.jsx)("p",{className:"h6 mb-0 fw-medium",children:"Comment Request"}),(0,u.jsx)("span",{className:"fs-10",children:"Request rights by commenting under the post you desire the rights for! "})]})]}),(0,u.jsx)("input",{name:"rights-via",type:"radio",className:"d-none form-check-input"}),(0,u.jsx)("span",{className:"w-20px",children:(0,u.jsx)("div",{className:"ugcCheck_icon ".concat(1==t?"text-success":""),children:(0,u.jsx)("div",{className:"ts__icon ts-check"})})})]}),(0,u.jsx)("input",{className:"btn-check",name:"options",type:"radio",autocomplete:"off",id:"rightsVia-3",value:0}),(0,u.jsxs)("label",{tabindex:"0",for:"rightsVia-3",className:"mb-2 d-flex bg-transparent justify-content-between py-4  btn btn-outline-secondary ".concat(0==t?"border-success":""),onClick:()=>e(0),children:[(0,u.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,u.jsx)("div",{className:"svg-icon",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{d:"M14 22.5L11.2 19H6C5.44772 19 5 18.5523 5 18V7.10256C5 6.55028 5.44772 6.10256 6 6.10256H22C22.5523 6.10256 23 6.55028 23 7.10256V18C23 18.5523 22.5523 19 22 19H16.8L14 22.5ZM15.8387 17H21V8.10256H7V17H11.2H12.1613L14 19.2984L15.8387 17ZM2 2H19V4H3V15H1V3C1 2.44772 1.44772 2 2 2Z"})})}),(0,u.jsxs)("span",{className:"text-start",children:[(0,u.jsx)("p",{className:"h6 mb-0 fw-medium",children:"DM Request"}),(0,u.jsx)("span",{className:"fs-10",children:"Send a Rights request directly into the DM of the creators! "})]})]}),(0,u.jsx)("input",{name:"rights-via",type:"radio",className:"d-none form-check-input"}),(0,u.jsx)("span",{className:"w-20px",children:(0,u.jsx)("div",{className:"ugcCheck_icon ".concat(0==t?"text-success":""),children:(0,u.jsx)("div",{className:"ts__icon ts-check"})})})]})]})})]})})})})]}),(0,u.jsxs)("div",{className:"ugc-peingdone modal-footer text-right",children:[(0,u.jsx)("input",{className:"btn btn-secondary",type:"button",value:"Cancel",onClick:()=>this.props.hideUgc()}),(0,u.jsx)("input",{className:"btn btn-primary",type:"button",value:"Next Step",onClick:()=>this.onNextStep()})]})]})})}}const De=(0,i.Ng)((e=>({})),(e=>({})))(Pe);var Ie=s(40143);const Me=e=>{const{hideUgc:t,ugcData:s}=e,[l,n]=(0,a.useState)("general"),[o,r]=(0,a.useState)(""),[d,h]=(0,a.useState)(1),[m,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[j,v]=(0,a.useState)(4),[f,b]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[k,y]=(0,a.useState)(""),[_,C]=(0,a.useState)(""),[A,T]=(0,a.useState)(""),[S,P]=(0,a.useState)(),D=(0,i.wA)();(0,a.useEffect)((()=>{D((0,Ne.xv)())}),[]);const I=()=>{const{template:e,data:t,unique_code:a,bitlyurl:i}=s;let l=[];return t.length>0&&t.map(((e,t)=>{l.push(e.referenceId)})),l.join(",")},M=e=>{const{template:t,data:a,unique_code:i,bitlyurl:l}=s,n=t.findIndex((e=>e.id==d));var r={custom_message:o,feedId:a[0].feedId,networkId:a[0].networkId,selectedImage:a[0].postFile,selectedVideo:"",selectedUsername:a[0].username,handle:N,postId:a.length>1?I():a[0].referenceId,brand_link:k||t[n].client_logo,termslink:_||t[n].custom_terms,termstype:A||t[n].custom_terms_name,bitlylink:l,unique_code:i,rightsVia:S,hashtag:e,networkPostId:a[0].postId};(0,c.b7)(r)};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{id:"ugcstatusUGC",children:(0,u.jsx)("div",{className:"ugc-modal",id:"ugcModal",children:(0,u.jsx)("div",{className:"modal-dialog m-w-100 m-0",role:"document",children:(0,u.jsxs)("div",{className:"modal-content rounded-0",children:[(0,u.jsxs)("div",{className:"modal-header py-3",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-nowrap",children:[(0,u.jsx)("span",{className:"svg-icon-col mr-2",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",children:(0,u.jsxs)("g",{id:"Group_5456","data-name":"Group 5456",transform:"translate(9565 7108)",children:[(0,u.jsx)("rect",{id:"Rectangle_2321","data-name":"Rectangle 2321",width:"24",height:"24",transform:"translate(-9565 -7108)",fill:"none"}),(0,u.jsx)("g",{id:"Group_5455","data-name":"Group 5455",transform:"translate(-9562.424 -7106.873)",children:(0,u.jsxs)("g",{id:"Group_4836","data-name":"Group 4836",children:[(0,u.jsx)("path",{id:"Path_5298","data-name":"Path 5298",d:"M-125.457-53.668l-8.2-3.4a1.089,1.089,0,0,0-.848,0l-8.2,3.4a1.1,1.1,0,0,0-.682,1.02v4.139A14.225,14.225,0,0,0-134.5-35.284a1.112,1.112,0,0,0,.418.082,1.1,1.1,0,0,0,.417-.082,14.225,14.225,0,0,0,8.889-13.226v-4.139A1.1,1.1,0,0,0-125.457-53.668Z",transform:"translate(143.384 57.159)",fill:"#6ac259"}),"                                             ",(0,u.jsx)("path",{id:"Path_5297","data-name":"Path 5297",d:"M-136.916-48.121a1.1,1.1,0,0,0-1.414,0,1.109,1.109,0,0,0-.125,1.573l2.339,2.333a1.1,1.1,0,0,0,.778.319,1.1,1.1,0,0,0,.78-.32l4.171-4.172a1.139,1.139,0,0,0,.139-.139,1.106,1.106,0,0,0-.14-1.556,1.1,1.1,0,0,0-1.539.123l-3.408,3.407Z",transform:"translate(143.715 57.644)",fill:"#fff"})]})})]})})}),(0,u.jsx)("h5",{className:"modal-title",children:"UGC Request"})]}),(0,u.jsx)("button",{type:"button",className:"close btn ugc_close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>t(),children:(0,u.jsx)("i",{className:"ki ki-close icon-md text-muted"})})]}),(0,u.jsx)("div",{className:"modal-body p-0",children:(0,u.jsx)("form",{className:"noLoader maintainPopUp",id:"get_ugc",method:"POST",acceptCharset:"utf-8",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsx)("div",{className:"cardStyleSec",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"ugc_card_preview rights_modal_inner d-flex flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-2 mb-lg-0",children:s?(0,u.jsx)(ne,{ugcData:s}):null}),(0,u.jsx)("div",{className:"rights_modal_sidebar position-relative p-0",children:(0,u.jsx)("div",{className:"pb-0 modal_sec_right",children:(0,u.jsxs)("div",{className:"ugc_req card card-custom shadow-none",id:"myTabContentMD",children:[(0,u.jsxs)("ul",{className:"nav nav-tabs md-tabs",id:"myTabMD",role:"tablist",children:[[1,2,3].includes(j)?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)("li",{className:"nav-item waves-effect waves-light"}),4!=j?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("li",{className:"nav-item waves-effect waves-light",children:(0,u.jsxs)("span",{className:"nav-link  px-0 py-5 ".concat([1,2,3].includes(j)?"active":""),id:"home-tab-md",onClick:()=>v(1),children:[(0,u.jsx)("div",{className:"ugcCheck_icon",children:(0,u.jsx)("div",{className:"ts__icon ts-check"})}),"General Request"]})}),(0,u.jsx)("li",{className:"nav-item waves-effect waves-light",children:(0,u.jsxs)("span",{className:"nav-link  px-0 py-5 ".concat((m&&0==S||1==S)&&[2,3].includes(j)?"active":""),id:"profile-tab-md",onClick:()=>m?v(2):"",children:[(0,u.jsx)("div",{className:"ugcCheck_icon",children:(0,u.jsx)("div",{className:"ts__icon ts-check"})}),"Social Account"]})}),(0,u.jsx)("li",{className:"nav-item waves-effect waves-light",children:(0,u.jsxs)("span",{className:"nav-link  px-0 py-5 ".concat([3].includes(j)?"active":""),id:"contact-tab-md",children:[(0,u.jsx)("div",{className:"ugcCheck_icon",children:(0,u.jsx)("div",{className:"ts__icon ts-check"})}),"Preview"]})})," "]}):(0,u.jsx)(u.Fragment,{})]}),s&&4==j?(0,u.jsx)(Ie.A,{children:(0,u.jsx)(De,{ugcData:s,requestMode:S,setStep:v,setRequestMode:P,hideUgc:t})}):null,s&&1==j?(0,u.jsx)(Ie.A,{children:(0,u.jsx)(ve,{ugcData:s,requestMode:S,setStep:v,setAcceptTnc:p,acceptTnc:m,tncError:g,setTncError:x,selectedTemplate:d,setSelectedTemplate:h,setCustom_msg:r,custom_msg:o,setBrand_link:y,brand_link:k,setTermslink:C,setTermstype:T,termstype:A,hideUgc:t})}):null,(m&&0==S||1==S)&&2==j?(0,u.jsx)(Ie.A,{children:(0,u.jsx)(Se,{setStep:v,setUserName:w,setIsAccount:b,networkId:18!=s.data[0].networkId?s.data[0].networkId:2})}):"",o&&s&&3==j?(0,u.jsx)(Ie.A,{children:(0,u.jsx)(re,{requestMode:S,onRaiseRequest:M,setUserName:w,networkId:s.data[0].networkId,setUgcTabKey:n,setStep:v,ugcData:s,custom_msg:o})}):null]})})})]})})})})})]})})})})})};var Fe=s(34691),Re=s(70804);const Be=e=>{let{content:t,mediaClass:s,rating:a,fontSize:i,lineCount:l,size:n}=e;return(0,u.jsx)("div",{className:"position-relative overflow-hidden ".concat(s),style:{paddingBottom:"".concat(n||"100","%")},children:(0,u.jsxs)("div",{className:"w-100 f-center flex-column position-absolute start-0 top-0 h-100 p-3",children:[a?(0,u.jsx)("div",{className:"f-center ps-1 mb-4",children:(0,P.OZ)(a||0).map(((e,t)=>(0,u.jsx)(p.Ah,{icon:"star",height:20,width:20,iconClass:"text-warning mx-1"},t)))}):null,(0,u.jsx)("div",{className:"overflow-hidden",children:(0,u.jsx)("p",{className:"text-center line-clamp-".concat(l||4," line-clamp mb-0 ").concat(i?"":"fs-7"),style:{fontSize:i},children:(0,Re.Ay)(t)})})]})})};var Ue=s(82094),Oe=s(38092),Le=s.n(Oe);const Ee=e=>{let{item:t,mediaClass:s,size:i,height:l,width:n,url:o,poster:c,autoPlay:r,muted:d,isCover:h,controls:m,loop:p}=e;const[g,x]=(0,a.useState)(!1),[j,v]=(0,a.useState)(i||100);(0,a.useEffect)((()=>{(async()=>{if(i)v(i);else if(l&&""!=l&&n&&""!=n)v(100*l/n);else try{const{width:e,height:t}=await(0,z.A)(c);v(100*t/e)}catch(e){v(100)}})()}),[]);return(0,u.jsx)("div",{className:"".concat(s," overflow-hidden position-relative"),style:{paddingBottom:"".concat(j,"%")},children:(0,u.jsx)("div",{className:"position-absolute object-center-cover h-100 w-100",children:(0,u.jsx)(Le(),{poster:c,className:"",url:o,config:{facebook:{appId:"117029975354072"},file:{attributes:{"data-item-id":null===t||void 0===t?void 0:t.id,poster:c}}},autoPlay:r,muted:d,volume:r?1:0,playsinline:!0,onReady:e=>{x(!0)},playing:r,height:"100%",width:"100%",loop:p,controls:m,style:{backgroundImage:g?"":"url(".concat(c,")"),backgroundSize:h?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})})};class Ye extends a.Component{constructor(){super(...arguments),this.onDownloadMedia=e=>{5!=e.type&&3!=e.type?(0,Fe.saveAs)(e.postFile,"".concat(e.id)):(0,Fe.saveAs)(e.mediaUrl,"".concat(e.id))}}render(){const{ugcRequestData:e,ugcData:t,onHide:s}=this.props;return e?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"ugc-modal",children:(0,u.jsx)("div",{className:"modal-dialog m-w-100 m-0",role:"document",children:(0,u.jsxs)("div",{className:"modal-content rounded-0",children:[(0,u.jsxs)("div",{className:"modal-header py-3",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-nowrap",children:[(0,u.jsx)("span",{className:"svg-icon-col mr-3",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 24 24",children:(0,u.jsxs)("g",{id:"Group_5456","data-name":"Group 5456",transform:"translate(9565 7108)",children:[(0,u.jsx)("rect",{id:"Rectangle_2321","data-name":"Rectangle 2321",width:"34",height:"34",transform:"translate(-9565 -7108)",fill:"none"}),(0,u.jsx)("g",{id:"Group_5455","data-name":"Group 5455",transform:"translate(-9562.424 -7106.873)",children:(0,u.jsxs)("g",{id:"Group_4836","data-name":"Group 4836",children:[(0,u.jsx)("path",{id:"Path_5298","data-name":"Path 5298",d:"M-125.457-53.668l-8.2-3.4a1.089,1.089,0,0,0-.848,0l-8.2,3.4a1.1,1.1,0,0,0-.682,1.02v4.139A14.225,14.225,0,0,0-134.5-35.284a1.112,1.112,0,0,0,.418.082,1.1,1.1,0,0,0,.417-.082,14.225,14.225,0,0,0,8.889-13.226v-4.139A1.1,1.1,0,0,0-125.457-53.668Z",transform:"translate(143.384 57.159)",fill:"#6ac259"}),(0,u.jsx)("path",{id:"Path_5297","data-name":"Path 5297",d:"M-136.916-48.121a1.1,1.1,0,0,0-1.414,0,1.109,1.109,0,0,0-.125,1.573l2.339,2.333a1.1,1.1,0,0,0,.778.319,1.1,1.1,0,0,0,.78-.32l4.171-4.172a1.139,1.139,0,0,0,.139-.139,1.106,1.106,0,0,0-.14-1.556,1.1,1.1,0,0,0-1.539.123l-3.408,3.407Z",transform:"translate(143.715 57.644)",fill:"#fff"})]})})]})})}),(0,u.jsx)("h5",{className:"modal-title",children:"Access Image"})]}),(0,u.jsx)("button",{type:"button",className:"btn-close ugc_close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s})]}),(0,u.jsx)("div",{className:"modal-body p-0",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col ugc_col_left mb20 ugc_card_preview ugc_modal_pending_first_box border-right-lg",children:(0,u.jsxs)("div",{className:"my-5 ugc_card_wrap",children:[(0,u.jsx)("div",{className:"alert alert-custom alert-outline-1x alert-outline-approved fade show mb-6 text-center p-4 mx-5",role:"alert",children:(0,u.jsx)("div",{className:"alert-text",children:(0,u.jsx)("h5",{className:"m-0 text-center font-weight-bold",children:"Congratulation! Your UGC Request has been approved"})})}),(0,u.jsx)("div",{className:"card_slider",children:(0,u.jsxs)("div",{className:"m_card_style",children:[(0,u.jsx)("div",{className:"m_card_img",children:(0,u.jsx)("div",{className:"post-content-image",children:(0,u.jsx)("div",{className:"m_media_holder",children:1==e.type?(0,u.jsx)(Be,{content:e.postcontent,rating:e.rating,socialNetworkId:e.networkId}):2==e.type||4==e.type?(0,u.jsx)(Ue.A,{mediaClass:"overflow-hidden position-relative",size:120,url:e.postFile,height:e.mediaHeight,width:e.mediaWidth,icon:e.networkId,rating:e.rating,alt:""}):3==e.type||5==e.type?(0,u.jsx)(Ee,{item:e,mediaClass:"overflow-hidden position-relative",size:120,url:e.mediaClip,height:e.mediaHeight,width:e.mediaWidth,icon:e.networkId,rating:e.rating,alt:"",videoIcon:!0}):null})})}),(0,u.jsxs)("div",{className:"m_card_cont",children:[(0,u.jsxs)("div",{className:"f-between mb-4",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center m_grid_author",children:[(0,u.jsx)("div",{className:"flex-shrink-0 mr-4 mt-lg-0 mt-3",children:(0,u.jsx)("div",{className:"symbol symbol-circle symbol-lg-75 m_profile_img",style:{backgroundImage:"url(".concat(e.picture?e.picture:"",")")}})}),(0,u.jsxs)("div",{className:"d-flex flex-column post-link m_user_content",children:[(0,u.jsx)("a",{href:e.link?parseInt(e.link)?"https://twitter.com/"+e.username+"/status/"+e.link:e.link:"javascript:;",target:"_blank",className:"m_post_title ng-binding",children:e.name}),(0,u.jsxs)("div",{className:"d-flex align-item-center m_grid_userinfo",children:[(0,u.jsxs)("span",{className:"m_grid_uername text-nowrap",children:["@",(0,u.jsx)("span",{children:e.username})]}),(0,u.jsx)("span",{className:"sepratedot"}),(0,u.jsx)("span",{className:"timePost text-nowrap",children:f()(e.modified,"YYYYMMDD").fromNow()})]})]})]}),(0,u.jsx)("div",{className:"d-flex flex-column m_social_icon postNetwork","data-network":"Instagram Business",children:(0,u.jsx)("i",{className:"fab fa-instagram"})})]}),(0,u.jsx)("div",{className:"postedCon setFont font5",children:(0,u.jsx)("p",{className:"m-0",style:{lineHeight:"22px",wordBreak:"break-all"}})})]})]})})]})}),(0,u.jsx)("div",{className:"col ugc_col_right d-flex flex-column p-0",children:(0,u.jsxs)("div",{className:"modal_wrapper",children:[(0,u.jsxs)("div",{className:"modal-body ugc_approved",children:[(0,u.jsxs)("div",{className:"ugc-information",children:[(0,u.jsx)("h2",{className:"mb-5",children:"Information"}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"User handle"}),(0,u.jsx)("span",{className:"text-dark m_grid_uername",children:"@".concat(e.username)})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"User name"}),(0,u.jsx)("span",{className:"text-dark m_grid_name",children:e.name})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"Device"}),(0,u.jsx)("span",{className:"text-dark ugc-deviceupdate",children:e.userAgent?(0,q.Ay)(e.userAgent):null})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"IP Address"}),(0,u.jsxs)("span",{className:"text-dark ugc-userIP",children:[" ",e.userIP]})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"Location"}),(0,u.jsx)("span",{className:"text-dark ugc-userLocation",children:e.userLocation})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"Post Approval Date"}),(0,u.jsx)("span",{className:"text-dark ugc-actionTime",children:f()(e.actionTime).utcOffset(0).format("YYYY-MM-DD  hh:mm:ss a")})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"TimeZone"}),(0,u.jsx)("span",{className:"text-dark ugc-timezone",children:e.timezone?(0,q.Ay)(e.timezone):null})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom bg-light px-5 py-4",children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"Terms & Condition"}),(0,u.jsx)("span",{className:"text-dark ugc-tncdownload",children:(0,u.jsxs)("a",{href:e.custom_terms?"".concat(F.QcA,"test/").concat(e.custom_terms):"".concat(F.QcA,"test/").concat(e.custom_term_type),target:"_blank",children:[(0,u.jsx)("span",{className:"ugc-terms overflow-hidden text-ellipsis text-nowrap",children:e.custom_term_type}),(0,u.jsx)("span",{children:(0,u.jsx)("img",{src:"".concat(F.krE,"media/ugc-download.svg"),alt:"download",className:"img-fluid"})})]})})]}),(0,u.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-top bg-light px-5 py-3 ugc-approved-non-insta",style:18==e.networkId?{display:"none"}:{},children:[(0,u.jsx)("span",{className:"text-muted mr-2",children:"Approval Certificate"}),(0,u.jsxs)("span",{className:"text-dark ugc-download",children:["Rights Management ",(0,u.jsxs)("a",{onClick:()=>{return t=e.ugcid,void ce().get("".concat(F.V9j,"/").concat(t),{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))},responseType:"arraybuffer"}).then((function(e){const s=document.createElement("a");s.href=window.URL.createObjectURL(new Blob([e.data])),s.download="".concat(t,".pdf"),document.body.appendChild(s),s.click(),s.remove()}));var t},children:["Download",(0,u.jsx)("span",{children:(0,u.jsx)("img",{src:"".concat(F.krE,"media/ugc-download.svg"),alt:"download",className:"img-fluid"})})]})]})]})]})]}),e.comment?(0,u.jsxs)("div",{className:"ugc-user-comment mt-7",children:[(0,u.jsx)("h2",{className:"mb-5",children:"User Comment"}),(0,u.jsx)("div",{className:"user-comment-box bg-light p-5",children:(0,u.jsx)("p",{children:e.comment})})]}):null]}),(0,u.jsxs)("div",{className:"ugcAuthBtn ugc-peingdone modal-footer text-right",children:[(0,u.jsx)("button",{type:"button",className:"btn btn-secondary mr-3 btn-min-w",onClick:s,children:"Close"}),(0,u.jsx)("a",{className:"btn btn-primary download_ugc_link btn-min-w",onClick:()=>this.onDownloadMedia(e),target:"_blank",children:" Download "})]})]})})]})})})]})})})}):null}}const He=Ye;var Ge=s(39452);class qe extends a.Component{constructor(e){super(e);var t=3.33*(30-e.ago);this.state={series:[t],options:{chart:{height:320,type:"radialBar"},plotOptions:{radialBar:{hollow:{margin:0,size:"65%"},dataLabels:{showOn:"always",name:{show:!0,fontWeight:"700",name:"TEST"},value:{color:["#545454"],fontSize:"30px",fontWeight:"700",offsetY:12,show:!1}},track:{background:["#f2f6f8"],strokeWidth:"100%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:"inter",fontWeight:600,color:"#545454",offsetY:-10},value:{show:!1,fontSize:"14px",fontFamily:"inter",fontWeight:800,color:"#545454",offsetY:16},total:{show:!0,label:e.ago+"Days",color:"#373d3f",fontSize:"16px",fontFamily:"inter",fontWeight:800}}}},colors:["#ffa800"],stroke:{lineCap:"round"}}}}componentDidUpdate(e){if(e.ago!==this.props.ago){var t=3.33*(30-this.props.ago);this.setState({series:[t],options:{chart:{height:320,type:"radialBar"},plotOptions:{radialBar:{hollow:{margin:0,size:"65%"},dataLabels:{showOn:"always",name:{show:!0,fontWeight:"700",name:"TEST"},value:{color:["#545454"],fontSize:"30px",fontWeight:"700",offsetY:12,show:!1}},track:{background:["#f2f6f8"],strokeWidth:"100%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:"inter",fontWeight:600,color:"#545454",offsetY:-10},value:{show:!1,fontSize:"14px",fontFamily:"inter",fontWeight:800,color:"#545454",offsetY:16},total:{show:!0,label:this.props.ago+"Days",color:"#373d3f",fontSize:"16px",fontFamily:"inter",fontWeight:800}}}},colors:["#ffa800"],stroke:{lineCap:"round"}}})}}render(){return(0,u.jsx)(Ge.A,{options:this.state.options,series:this.state.series,type:"radialBar",height:350})}}const ze=qe;class We extends a.Component{constructor(){super(...arguments),this.state={days:0},this.getNewdata=()=>{const{ugcData:e,ugcRequestData:t,onHide:s}=this.props;var a=30-f()().diff(f()(t.ugccreated,"YYYY-MM-DD"),"days");this.setState({days:a})}}componentDidMount(){this.getNewdata()}componentDidUpdate(e){e.ugcRequestData.ugccreated!==this.props.ugcRequestData.ugccreated&&this.getNewdata()}render(){const{ugcData:e,ugcRequestData:t,onHide:s}=this.props,{days:a}=this.state;return(0,u.jsx)("div",{className:"ugc-modal",children:(0,u.jsx)("div",{className:"modal-dialog m-w-100 m-0",role:"document",children:(0,u.jsxs)("div",{className:"modal-content rounded-0",children:[(0,u.jsxs)("div",{className:"modal-header py-3",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-nowrap",children:[(0,u.jsx)("span",{className:"svg-icon-col mr-3",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",className:"me-1",children:(0,u.jsx)("g",{id:"Group_5459","data-name":"Group 5459",transform:"translate(-0.327 -2.327)",children:(0,u.jsxs)("g",{id:"Group_5314","data-name":"Group 5314",transform:"translate(0.327 2.327)",children:[(0,u.jsx)("path",{id:"Path_5337","data-name":"Path 5337",d:"M-81.977,67.249a12,12,0,0,0-12,12,12,12,0,0,0,12,12,12,12,0,0,0,12-12A12,12,0,0,0-81.977,67.249Z",transform:"translate(93.977 -67.249)",fill:"#FF8100"}),(0,u.jsx)("path",{id:"Path_5338","data-name":"Path 5338",d:"M-69.017,88.464l-3.96-3.96a1.225,1.225,0,0,1-.36-.84V77.687a1.2,1.2,0,0,1,1.2-1.2,1.2,1.2,0,0,1,1.2,1.2v5.5l3.6,3.6a1.188,1.188,0,0,1,0,1.68,1.188,1.188,0,0,1-1.68,0Z",transform:"translate(84.113 -71.664)",fill:"#fff"})]})})})}),(0,u.jsx)("h5",{className:"modal-title",children:"Pending Request"})]}),(0,u.jsx)("button",{type:"button",className:"btn-close ugc_close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s})]}),(0,u.jsx)("div",{className:"modal-body p-0",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsxs)("div",{className:"row ugcPendingRow",children:[(0,u.jsx)("div",{className:"col ugc_col_left mb20 ugc_card_preview ugc_modal_pending_first_box border-right-lg",children:(0,u.jsxs)("div",{className:"my-5 ugc_card_wrap",children:[(0,u.jsx)("div",{className:"alert alert-custom alert-outline-1x alert-outline-pending fade show mb-6 text-center p-4 mx-5",role:"alert",children:(0,u.jsx)("div",{className:"alert-text",children:(0,u.jsx)("h5",{className:"m-0 text-center font-weight-bold",children:"Oops! Your UGC Request is pending now"})})}),(0,u.jsx)("div",{className:"card_slider",children:(0,u.jsxs)("div",{className:"m_card_style",children:[(0,u.jsx)("div",{className:"m_card_img",children:(0,u.jsx)("div",{className:"post-content-image",children:(0,u.jsx)("div",{className:"m_media_holder",children:1==t.type?(0,u.jsx)(Be,{content:t.postcontent,rating:t.rating,socialNetworkId:t.networkId}):2==t.type||4==t.type?(0,u.jsx)(Ue.A,{mediaClass:"overflow-hidden position-relative",size:120,url:t.postFile,height:t.mediaHeight,width:t.mediaWidth,icon:t.networkId,rating:t.rating,alt:""}):3==t.type||5==t.type?(0,u.jsx)(Ee,{item:t,mediaClass:"overflow-hidden position-relative",size:120,url:t.mediaClip,height:t.mediaHeight,width:t.mediaWidth,icon:t.networkId,rating:t.rating,alt:"",videoIcon:!0}):null})})}),(0,u.jsxs)("div",{className:"m_card_cont",children:[(0,u.jsxs)("div",{className:"f-between mb-4",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center m_grid_author",children:[(0,u.jsx)("div",{className:"flex-shrink-0 mr-4 mt-lg-0 mt-3",children:(0,u.jsx)("div",{className:"symbol symbol-circle symbol-lg-75 m_profile_img",style:{backgroundImage:"url(".concat(t.picture,")")}})}),(0,u.jsxs)("div",{className:"d-flex flex-column post-link m_user_content",children:[(0,u.jsx)("a",{href:t.link?parseInt(t.link)?"https://twitter.com/"+t.username+"/status/"+t.link:t.link:"javascript:;",target:"_blank",className:"m_post_title ng-binding",children:t.name}),(0,u.jsxs)("div",{className:"d-flex align-item-center m_grid_userinfo",children:[(0,u.jsxs)("span",{className:"m_grid_uername text-nowrap",children:["@",(0,u.jsx)("span",{children:t.username})]}),(0,u.jsx)("span",{className:"sepratedot"}),(0,u.jsx)("span",{className:"timePost text-nowrap",children:f()(t.modified,"YYYYMMDD").fromNow()})]})]})]}),(0,u.jsx)("div",{className:"d-flex flex-column m_social_icon postNetwork","data-network":"Instagram Business",children:(0,u.jsx)("i",{className:"fa ".concat(t.icon)})})]}),(0,u.jsx)("div",{className:"postedCon setFont font5",children:(0,u.jsx)("p",{className:"m-0",style:{lineHeight:"22px",wordBreak:"break-all"},children:t.postcontent})})]})]})})]})}),(0,u.jsx)("div",{className:"col ugc_col_right d-flex flex-column p-0",children:(0,u.jsxs)("div",{className:"modal_wrapper",children:[(0,u.jsx)("div",{className:"modal-body ugc_pending",children:(0,u.jsxs)("div",{className:"ugc_modal_pending_second_inner_box flex-grow-1",children:[(0,u.jsxs)("div",{className:"ugc-daysremain",children:[(0,u.jsx)("div",{id:"kt_mixed_widget_14_chart",children:a?(0,u.jsx)(ze,{ago:a}):""}),(0,u.jsx)("span",{children:"Remaining"})]}),(0,u.jsxs)("div",{className:"form-group ugc-pending-non-insta",style:18==t.networkId?{display:"none"}:{},children:[(0,u.jsxs)("div",{className:"input-group input-group-lg input-group-gray",children:[(0,u.jsx)("div",{className:"input-group-prepend",children:(0,u.jsxs)("span",{className:"input-group-text",children:[" ",(0,u.jsx)("i",{className:"fas fa-link"})," "]})}),(0,u.jsx)("a",{href:t.bitlyurl,target:"_blank",className:"form-control openPendingStatus",children:t.bitlyurl})]}),(0,u.jsx)("span",{id:"ugc-copy-success-alert",style:{display:"none"},className:"ugc_copy_success_alertt text-success",children:"Copied to clipboard"})]}),(0,u.jsx)("span",{className:"get-temp-msg d-none",children:t.custom_message}),(0,u.jsx)("div",{className:"form-group py-3 ugc-pending-non-insta",style:18==t.networkId?{display:"none"}:{},children:(0,u.jsx)("button",{className:"btn btn-primary btn-lg ugc_copy_text_button w-100",onClick:this.copyText,children:"Copy URL"})}),(0,u.jsx)("div",{className:"form-group ugc_link_share_copy_box ugc_modal_pending_link",children:(0,u.jsxs)("div",{className:"ugc-stepstoproceed",children:[(0,u.jsx)("h3",{children:"Steps to proceed"}),(0,u.jsxs)("ul",{className:"list-unstyled ugc-pending-insta",style:18==t.networkId?{display:"block"}:{display:"none"},children:[(0,u.jsx)("li",{children:'You have sent the "UGC Rights" request by posting the hashtag and content on the user\u2019s post.'}),(0,u.jsx)("li",{children:'Now wait for the user to reply to your comment to get "UGC Rights".'}),(0,u.jsx)("li",{children:'In case the user does not approve your "UGC Rights" request, you have the option of modifying the comment and resending the UGC request. You can also offer a giveaway or incentive to make a better proposal. '})]}),(0,u.jsxs)("ul",{className:"list-unstyled ugc-pending-non-insta",style:18==t.networkId?{display:"none"}:{display:"block"},children:[(0,u.jsx)("li",{children:'You have successfully generated a "UGC Request" for this post.'}),(0,u.jsx)("li",{children:"Quick review your Request before sending it to the owner."}),(0,u.jsx)("li",{children:'Click on the "Done" button located in the right bottom corner of the screen and you will be redirected to the user\'s original post.'}),(0,u.jsx)("li",{children:'Paste the link of "UGC Request" in the comments section of the original post.'}),(0,u.jsx)("li",{children:"You will get UGC Rights asap post owner accept your request and allow you to use their post."})]})]})})]})}),(0,u.jsx)("div",{className:"ugcAuthBtn ugc-peingdone modal-footer text-right ugc_modal_pending_btn",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary btn-min-w",onClick:s,children:"Done"})})]})})]})})})]})})})}}class Ve extends a.Component{render(){const{ugcRequestData:e,ugcData:t,onHide:s,openugcModel:a}=this.props;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"ugc-modal",children:(0,u.jsx)("div",{className:"modal-dialog m-w-100 m-0",role:"document",children:(0,u.jsxs)("div",{className:"modal-content rounded-0",children:[(0,u.jsxs)("div",{className:"modal-header py-3",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-nowrap",children:[(0,u.jsx)("span",{className:"svg-icon-col mr-3",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 40 40",children:(0,u.jsxs)("g",{id:"Group_5456","data-name":"Group 5456",transform:"translate(9565 7108)",children:[(0,u.jsx)("rect",{id:"Rectangle_2321","data-name":"Rectangle 2321",width:"40",height:"40",transform:"translate(-9565 -7108)",fill:"none"}),(0,u.jsx)("g",{id:"Group_5455","data-name":"Group 5455",transform:"translate(-9560.712 -7106.113)",children:(0,u.jsxs)("g",{id:"Group_4836","data-name":"Group 4836",transform:"translate(0 0)",children:[(0,u.jsx)("path",{id:"Path_5298","data-name":"Path 5298",d:"M-113.5-51.344l-13.667-5.667a1.815,1.815,0,0,0-1.413,0l-13.667,5.667a1.833,1.833,0,0,0-1.137,1.7v6.9A23.708,23.708,0,0,0-128.575-20.7a1.853,1.853,0,0,0,.7.137,1.834,1.834,0,0,0,.7-.137,23.708,23.708,0,0,0,14.815-22.043v-6.9a1.833,1.833,0,0,0-1.135-1.7Z",transform:"translate(143.387 57.154)",fill:"#d7491f"}),(0,u.jsx)("path",{id:"Path_5630","data-name":"Path 5630",d:"M15.943,5.655a.814.814,0,0,0-1.152,0l-4,3.988-4-4A.815.815,0,0,0,5.647,6.8l4,4-4,4A.815.815,0,0,0,6.8,15.943l4-4,4,4a.815.815,0,0,0,1.152-1.152l-4-4,4-4A.819.819,0,0,0,15.943,5.655Z",transform:"translate(4.803 7.464)",fill:"#fff"})]})})]})})}),(0,u.jsx)("h5",{className:"modal-title",children:"Rejected Post"})]}),(0,u.jsx)("button",{type:"button",className:"btn-close ugc_close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s})]}),(0,u.jsx)("div",{className:"modal-body p-0",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col ugc_col_left mb20 ugc_card_preview ugc_modal_pending_first_box border-right-lg",children:(0,u.jsx)("div",{className:"my-5 ugc_card_wrap",children:(0,u.jsx)("div",{className:"card_slider",children:(0,u.jsxs)("div",{className:"m_card_style",children:[(0,u.jsx)("div",{className:"m_card_img",children:(0,u.jsx)("div",{className:"post-content-image",children:(0,u.jsxs)("div",{className:"m_media_holder",children:[(0,u.jsx)("img",{className:"img-fluid ex-coverimg",src:null===e||void 0===e?void 0:e.postFile}),3==e.type||5==e.type?(0,u.jsx)("div",{className:"play_icon_wrap",children:(0,u.jsx)("img",{className:"pay_icon",src:"".concat(F.krE,"media/play-icon.png")})}):null]})})}),(0,u.jsxs)("div",{className:"m_card_cont",children:[(0,u.jsxs)("div",{className:"f-between mb-4",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center m_grid_author",children:[(0,u.jsx)("div",{className:"flex-shrink-0 mr-4 mt-lg-0 mt-3",children:(0,u.jsx)("div",{className:"symbol symbol-circle symbol-lg-75 m_profile_img",style:{backgroundImage:"url(".concat(e.picture,")")}})}),(0,u.jsxs)("div",{className:"d-flex flex-column post-link m_user_content",children:[(0,u.jsx)("a",{href:e.link?parseInt(e.link)?"https://twitter.com/"+e.username+"/status/"+e.link:e.link:"javascript:;",target:"_blank",className:"m_post_title ng-binding",children:e.name}),(0,u.jsxs)("div",{className:"d-flex align-item-center m_grid_userinfo",children:[(0,u.jsxs)("span",{className:"m_grid_uername text-nowrap",children:["@",(0,u.jsx)("span",{children:e.username})]}),(0,u.jsx)("span",{className:"sepratedot"}),(0,u.jsx)("span",{className:"timePost text-nowrap",children:f()(e.modified,"YYYYMMDD").fromNow()})]})]})]}),(0,u.jsx)("div",{className:"d-flex flex-column m_social_icon postNetwork","data-network":"Instagram Business",children:(0,u.jsx)("i",{className:"fa ".concat(e.icon)})})]}),(0,u.jsx)("div",{className:"postedCon setFont font5",children:(0,u.jsx)("p",{className:"m-0",style:{lineHeight:"22px",wordBreak:"break-all"},children:e.postcontent})})]})]})})})}),(0,u.jsx)("div",{className:"col ugc_col_right d-flex flex-column p-0",children:(0,u.jsxs)("div",{className:"modal_wrapper",children:[(0,u.jsxs)("div",{className:"modal-body ugc_approved",children:[(0,u.jsxs)("div",{className:"ugc-user-comment mt-7",style:{display:"none"},children:[(0,u.jsx)("h2",{className:"mb-5",children:"User Comment"}),(0,u.jsx)("div",{className:"user-comment-box bg-light p-5",children:(0,u.jsx)("p",{})})]}),(0,u.jsxs)("div",{className:"ugc-user-comment1 mt-15",children:[(0,u.jsx)("h2",{className:"mb-5 expired-post",children:"Sorry! Your UGC Request has been rejected"}),(0,u.jsx)("div",{className:"mb-7",children:(0,u.jsx)("button",{type:"button",className:"btn m_grid_get_rights m_active w-100 init btn-lg",onClick:a,children:(0,u.jsxs)("span",{className:"svg-icon-col",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18.337",height:"21.9",viewBox:"0 0 18.337 21.9",children:(0,u.jsx)("path",{id:"Subtraction_13","data-name":"Subtraction 13",d:"M8.671,20.9a1.051,1.051,0,0,1-.392-.078A13.555,13.555,0,0,1,0,8.234V4.295a1.046,1.046,0,0,1,.636-.973L8.275.082a.985.985,0,0,1,.787,0l7.64,3.24a1.045,1.045,0,0,1,.635.973V8.234a13.547,13.547,0,0,1-8.28,12.588A1.049,1.049,0,0,1,8.671,20.9ZM5.873,8.822a.936.936,0,0,0-.621.244,1.1,1.1,0,0,0-.11,1.5L7.2,12.781a.929.929,0,0,0,1.372,0l3.677-3.973a1.084,1.084,0,0,0,0-1.609.946.946,0,0,0-.631-.246.9.9,0,0,0-.727.361l-3,3.244L6.494,9.066A.934.934,0,0,0,5.873,8.822Z",transform:"translate(0.5 0.5)",fill:"#ffffff",stroke:"rgba(0,0,0,0)",strokeMiterlimit:"10",strokeWidth:"1"})}),(0,u.jsx)("span",{className:"ml-2",children:"Get Rights"})]})})}),(0,u.jsxs)("div",{className:"ugc-stepstoproceed",children:[(0,u.jsxs)("button",{className:"btn p-0 ugc-togglesteps",children:["Here are some pro tips to get approval on your next UGC Rights request: ",(0,u.jsx)("i",{className:"fa fa-chevron-down"})]}),(0,u.jsxs)("ul",{className:"list-unstyled",style:{display:"block"},children:[(0,u.jsx)("li",{children:"Keep the request personalized"}),(0,u.jsx)("li",{children:"Be clear about your intentions with the post"}),(0,u.jsx)("li",{children:"Appreciate the post owner's efforts"}),(0,u.jsx)("li",{children:"Offer rewards to users"}),(0,u.jsx)("li",{children:"Add T&C with your request"})]})]})]})]}),(0,u.jsx)("div",{className:"ugc-peingdone modal-footer text-right",children:(0,u.jsx)("button",{className:"btn btn-secondary mr-3",onClick:s,children:"Close"})})]})})]})})})]})})})})}}const Ze=Ve,Ke=e=>{const{ugcData:t,statusPopup:s,ugcRequestData:a,onHide:i}=e;return(0,u.jsxs)(u.Fragment,{children:[1==s&&a&&a.username?(0,u.jsx)(We,{ugcData:t,ugcRequestData:a,onHide:i}):null,3==s&&a&&a.username?(0,u.jsx)(Ze,{ugcRequestData:a,ugcData:t,onHide:i,openugcModel:(void 0).openugcModel}):null,2==s&&a&&a.username?(0,u.jsx)(He,{ugcRequestData:a,onHide:i}):null]})};var Qe=s(5216);const $e=()=>(0,u.jsx)("div",{className:"row gx-2",children:(0,P.OZ)(20).map(((e,t)=>(0,u.jsx)("div",{className:"assetsItem",children:(0,u.jsx)(Qe.A,{className:"border-0",children:(0,u.jsxs)(Qe.A.Body,{className:"p-0",children:[(0,u.jsxs)("div",{className:"f-between flex-wrap flex-sm-nowrap border-bottom p-2",children:[(0,u.jsxs)("span",{className:"d-flex",children:[(0,u.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,u.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,u.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,u.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"})]}),(0,u.jsx)("span",{className:"sk_line h-10px w-20px"})]}),(0,u.jsx)("div",{className:"sk_img rounded-0 w-100 flex-shrink-0 overflow-hidden",style:{paddingBottom:"100%"}}),(0,u.jsxs)("div",{className:"d-flex align-items-center p-3",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center me-2 flex-grow-1 overflow-hidden",children:[(0,u.jsx)("div",{className:"sk_img symbol symbol-36 rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,u.jsxs)("div",{className:"overflow-hidden w-100",style:{maxWidth:"130px"},children:[(0,u.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_10 mb-2"}),(0,u.jsx)("span",{className:"sk_line sk_line_50 sk_line_height_8 mb-0 d-block"})]})]}),(0,u.jsx)("span",{className:"d-flex align-items-end flex-column flex-shrink-0",style:{width:"100px"},children:(0,u.jsx)("div",{className:"sk_img symbol symbol-28 rounded-1 flex-shrink-0 me-2 overflow-hidden"})})]}),(0,u.jsxs)("div",{className:"d-flex align-items-center p-3 border-top",children:[(0,u.jsx)("div",{className:"w-50 me-1",children:(0,u.jsx)("div",{className:"sk_line sk_line_100 h-34px rounded-1"})}),(0,u.jsx)("div",{className:"w-50 ms-1",children:(0,u.jsx)("div",{className:"sk_line sk_line_100 h-34px rounded-1"})})]})]})})},t)))});var Je=s(86781),Xe=s(68459);class et extends a.Component{constructor(){super(...arguments),this.removeTaggProduct=(e,t,s)=>{this.props.REMOVE_TAGGED_PRODUCT_ACTION(e,t,s)}}render(){const{item:e,listView:t}=this.props;return e.postproduct&&e.postproduct.length>0?(0,u.jsxs)(Je.A,{className:"d-flex gx-2 flex-nowrap product-scroll",children:[e.postproduct.map(((e,t)=>{var s;return(0,u.jsx)(Xe.A,{xs:2,style:{width:"20%"},children:(0,u.jsxs)("div",{className:"w-100 position-relative",children:[(0,u.jsx)(Ue.A,{mediaClass:"rounded-1 overflow-hidden position-relative bg-light",size:100,url:null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.product_image,height:50,width:50,alt:""}),(0,u.jsx)("span",{className:"h-16px w-16px rounded-circle bg-danger cursor-pointer position-absolute f-center text-light",style:{top:-6,right:-6},onClick:()=>this.removeTaggProduct(e.product.product_sku,e.product.id,e.post_id),children:(0,u.jsx)(p.Ah,{icon:"close",height:10,width:10})})]})},t)})),(0,u.jsx)(Xe.A,{xs:2,style:{width:"20%"},children:(0,u.jsx)(r.A,{variant:"light",className:"f-center flex-shrink-0 p-0 h-100 w-100",children:(0,u.jsx)(p.Ah,{icon:"plus",height:18,width:18,iconClass:"me-0"})})})]}):(0,u.jsxs)(r.A,{variant:"light",className:"w-100",onClick:this.OpenTagPopup,children:[(0,u.jsx)(p.Ah,{icon:"tag",height:12,width:12}),"Tag Products"]})}}const tt=(0,i.Ng)((e=>({moderation:e.moderation})),(e=>({REMOVE_TAGGED_PRODUCT_ACTION:(t,s,a)=>e((0,c.PB)(t,s,a))})))(et);a.Component;a.Component;class st extends a.Component{constructor(e){super(e),this.handleShowMore=()=>{this.setState((e=>({visibleCount:e.items.length})))},this.handleShowLess=()=>{this.setState({visibleCount:5})},this.state={items:this.props.item.tags?String(this.props.item.tags).split(","):[],visibleCount:5}}render(){const{items:e,visibleCount:t}=this.state,s=e.slice(0,t);return(0,u.jsx)(u.Fragment,{children:s&&s.length>0?(0,u.jsx)("div",{className:"d-flex align-items-center flex-wrap mb-2 w-100 overflow-hidden",children:(0,u.jsxs)("div",{className:"w-100 d-flex flex-wrap",children:[s.map(((e,t)=>e&&String(e).length>0?(0,u.jsx)(o.A,{className:"me-1 mb-1 px-3 py-1 d-inlin-block ".concat(99999==t?"border-gradient":"border bg-transparent"),style:{maxWidth:"100%"},children:(0,u.jsx)("span",{className:"text-dark text-ellipsis d-block",children:e})},t):null)),e.length>5?t<e.length?(0,u.jsx)(r.A,{variant:"secondary",onClick:this.handleShowMore,className:"rounded-pill px-3 py-0 h-26px fs-10 fst-italic",children:"Show More"}):(0,u.jsx)(r.A,{variant:"secondary",onClick:this.handleShowLess,className:"rounded-pill px-3 py-0 h-26px fs-10 fst-italic",children:"Show Less"}):null]})}):null})}}const at=st;var it=s(31355),lt=s(42074),nt=s(36431),ot=s(18633);class ct extends a.Component{constructor(e){super(e),this.reArrangePosts=()=>{const{newArray:e}=this.state,t=e.map((e=>e.id)),s=e.map(((e,t)=>t+1));this.props.GET_REORDER_PIN_TO_TOP(t,s)},this.onLoadData=e=>{const{pinToTop:t}=e;this.setState({items:t,newArray:t})},this.state={items:[],newArray:[]},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){this.onLoadData(this.props)}componentDidUpdate(e){e.openpinToTopModal!==this.props.openpinToTopModal&&this.props.openpinToTopModal&&this.props.GET_PIN_TO_TOP_LIST(),e.pinToTop!==this.props.pinToTop&&this.onLoadData(this.props)}onDragEnd(e){if(!e.destination)return;const t=((e,t,s)=>{const a=Array.from(e),[i]=a.splice(t,1);return a.splice(s,0,i),a})(this.state.items,e.source.index,e.destination.index);this.setState({items:t,newArray:t})}render(){var e;const{openpinToTopModal:t,closeModalPop:s}=this.props;return(0,u.jsxs)(S.A,{className:"pintotop_modal",size:"lg",show:t,onHide:s,centered:!0,children:[(0,u.jsx)(S.A.Header,{closeButton:!0,children:(0,u.jsx)(S.A.Title,{children:"Change Order"})}),(0,u.jsx)(S.A.Body,{children:(0,u.jsx)("div",{className:"mx-xl-4 px-lg-4 py-lg-2 mx-0 overflow-auto",style:{height:500},children:this.state.items&&(null===(e=this.state.items)||void 0===e?void 0:e.length)>0?(0,u.jsx)(it.JY,{onDragEnd:this.onDragEnd,children:(0,u.jsx)(it.gL,{droppableId:"droppable",children:(e,t)=>(0,u.jsx)("div",{...e.droppableProps,ref:e.innerRef,style:(t.isDraggingOver,{}),children:this.state.items&&this.state.items.length&&this.state.items.map(((e,t)=>(0,u.jsx)(it.sx,{draggableId:"item-".concat(t),index:t,children:(s,a)=>{return(0,u.jsx)("div",{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,style:(a.isDragging,i=s.draggableProps.style,{...i}),children:(0,u.jsx)(Qe.A,{"data-id":e.id,className:"mb-4",children:(0,u.jsxs)(Qe.A.Body,{className:"p-2",children:[(0,u.jsx)("span",{className:"position-absolute start-0 translate-middle h-18px w-18px rounded-circle f-center bg-dark text-light top-50 fs-10 fw-medium",style:{zIndex:1},children:t+1}),(0,u.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,u.jsx)("div",{className:"f-center h-100 text-gray-300 me-2",children:(0,u.jsx)(p.Ah,{icon:"grip-vertical",height:14,width:14})}),(0,u.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer pe-lg-4 mx-auto mb-lg-0 mb-5",style:{width:120},children:(0,u.jsx)(Ue.A,{mediaClass:"position-relative rounded-1 bg-light overflow-hidden w-100",size:100,height:120,width:120,url:e.newMedia,alt:""})}),(0,u.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 w-100 overflow-hidden",children:[(0,u.jsxs)("div",{className:"d-flex align-items-start mb-1",children:[(0,u.jsxs)(lt.N_,{href:e.link,target:"_blank",className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,u.jsx)(nt.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",name:e.postname,profileUrl:e.picture,networkId:e.networkId}),(0,u.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,u.jsx)("p",{className:"text-dark mb-0",children:(0,u.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.postname})}),(0,u.jsxs)("p",{className:"mb-1 text-gray-500 text-break",children:["@",e.postname]})]})]}),(0,u.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:(0,P.Oi)(e.networkId)}),children:(0,u.jsx)(J.A,{className:"h-100",src:(0,p.pc)("media/icons/social-icons/".concat((0,P.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,P.Oi)(e.networkId),"icon-data":(0,P.Oi)(e.networkId),fluid:!0})})})]}),(0,u.jsx)("p",{className:"line-clamp line-clamp-3 mb-1",children:e.postcontent})]})]})]})})});var i}},"item-".concat(t))))})})}):(0,u.jsx)(ot.a,{})})}),(0,u.jsxs)(S.A.Footer,{children:[(0,u.jsx)(r.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:s,children:"Cancel"}),(0,u.jsx)(r.A,{className:"ms-3 btn-min-w",onClick:this.reArrangePosts,children:"Done"})]})]})}}const rt=(0,i.Ng)((e=>{var t;return{pinToTop:null===(t=e.moderation)||void 0===t?void 0:t.pinToTop}}),(e=>({GET_LIST_ALL_PIN_TO_TOP_POST:()=>e((0,L.vKj)()),GET_PIN_TO_TOP_LIST:()=>e((0,c.qz)()),GET_REORDER_PIN_TO_TOP:(t,s)=>e((0,c.Z4)(t,s))})))(ct);var dt=s(1480),ht=s(59516);const mt=new pe.A;class pt extends a.Component{constructor(e){super(e),this.getTagsArray=()=>{var e;let t=((null===(e=this.props)||void 0===e?void 0:e.tags)||"").split(",").filter((e=>e.trim().length>0));this.setState({tagString:t})},this.onLoad=()=>{const{searchPost:e}=this.state;(null===e||void 0===e?void 0:e.length)>0?(this.setState({isLoading:!0}),(0,c.nX)(e).then((e=>{const{tags:t,status:s}=e.data;if(s){const e=t.map((e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)})));this.setState({selectedOption:e,isLoading:!1})}else this.setState({selectedOption:[],isLoading:!1})})).catch((()=>{this.setState({isLoading:!1})}))):this.setState({selectedOption:[],isLoading:!1})},this.onSearchText=e=>{this.setState({searchPost:e},(()=>this.onLoad()))},this.handleSelectChange=e=>{var t;const{tagString:s}=this.state;if(null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.length)if(s.includes(e.value))(0,P.r$)("Tag already exists");else{e.value;this.setState({tagString:[...s,e.value]},(()=>this.props.onChangeTag(this.state.tagString.join(","))))}},this.onClickToRemoveTag=e=>t=>{let{tagString:s}=this.state;s.splice(e,1),this.setState({tagString:s},(()=>this.props.onChangeTag(s.join(","))))},this.handleOpen=e=>{this.setState({uppyProfileOpen:!0}),me()(".uppy-Dashboard-close").click((()=>{mt.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})}))},this.state={tagString:[],searchPost:"",selectedOption:[],isLoading:!1,uppyProfileOpen:!1,profile:""}}componentDidMount(){mt&&mt.uppy.on("transloadit:result",((e,t)=>{this.props.onChangeAuthorImg("".concat(F.OZF,"tmp/").concat(t.id,".").concat(t.ext)),setTimeout((()=>{mt.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})}),300)})),this.getTagsArray()}componentDidUpdate(e){e.tags!==this.props.tags&&this.getTagsArray()}render(){const{onChangeAuthor:e,onChangeHandle:t,onChangeContent:s,onClickRemoveAuthorImg:a,author:i,handle:l,authorImage:n,onSavePost:c,content:d,handleClose:h,loading:g}=this.props,{tagString:x,isLoading:j,selectedOption:v}=this.state;return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"p-4 m_sidebar_scroll_",children:[(0,u.jsxs)(m.A.Group,{className:"mb-3",children:[(0,u.jsx)(m.A.Label,{className:"mb-2",htmlFor:"author_p_",children:"Author Profile"}),(0,u.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,u.jsx)("div",{className:"me-3 me-xxl-4",children:(0,u.jsx)("div",{className:"symbol h-70px w-70px position-relative rounded-circle bg-light overflow-hidden",children:n&&""!=n?(0,u.jsx)(J.A,{src:n,alt:i,height:70,width:70,className:"iobject-center-cover",load:"lazy",fluid:!0}):(0,u.jsx)("span",{className:"symbol-label bg-primary text-light-alt fw-bold display-1 text-uppercase",children:(0,P.t$)(i)})})}),(0,u.jsxs)("div",{className:"d-flex align-items-start flex-column",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:"Edit"}),children:(0,u.jsx)(r.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",onClick:this.handleOpen,children:(0,u.jsx)(p.Ah,{icon:"edit",height:20,width:20})})}),(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:"Remove"}),children:(0,u.jsx)(r.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",onClick:a,children:(0,u.jsx)(p.Ah,{icon:"delete",height:20,width:20})})})]}),(0,u.jsx)("div",{className:"form-text mt-2",children:"Allowed file types: png, jpg, jpeg."})]})]})]}),(0,u.jsxs)(m.A.Group,{className:"mb-3",children:[(0,u.jsxs)(m.A.Label,{className:"mb-2",htmlFor:"author_n_",children:["Author Name ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(m.A.Control,{id:"author_n_",name:"author_n_",className:i.length?"":"is-invalid",placeholder:"Enter Author Name",value:i,onChange:e}),i.length?null:(0,u.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),(0,u.jsxs)(m.A.Group,{className:"mb-3",children:[(0,u.jsxs)(m.A.Label,{className:"mb-2",htmlFor:"author_h_",children:["Author Handle ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsx)(m.A.Control,{id:"author_h_",name:"author_h_",className:l.length?"":"is-invalid",placeholder:"Enter Author Handle",value:l,onChange:t}),l.length?null:(0,u.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),(0,u.jsxs)(m.A.Group,{className:"mb-3",children:[(0,u.jsx)(m.A.Label,{className:"mb-2",htmlFor:"tags__",children:"Add Tag"}),(0,u.jsx)("div",{className:"mb-3",children:(0,u.jsx)(ht.A,{className:"selectpicker",placeholder:"Enter your Tag",classNamePrefix:"selectpicker",isClearable:!0,isLoading:j,options:v,onChange:this.handleSelectChange,onInputChange:this.onSearchText,value:v})}),(0,u.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,u.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:(()=>x.map(((e,t)=>(0,u.jsxs)(o.A,{className:"me-1 mb-1 px-3 py-2 f-center bg-secondary",children:[(0,u.jsx)("span",{className:"text-dark text-ellipsis d-block",children:e}),(0,u.jsx)(r.A,{variant:"link",size:"sm",className:"p-0 ms-1 text-dark",onClick:this.onClickToRemoveTag(t),children:(0,u.jsx)(p.Ah,{icon:"close",height:14,width:14})})]},e.toString()))))()})})]}),(0,u.jsxs)(m.A.Group,{className:"mb-3",children:[(0,u.jsx)(m.A.Label,{className:"mb-2",htmlFor:"post_cont_",children:"Content"}),(0,u.jsx)(m.A.Control,{as:"textarea",className:"".concat(d.length?"":"is-invalid"," textarea-min-row-7"),id:"post_cont_",placeholder:"Enter Content",value:d,onChange:s}),d.length?null:(0,u.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]})]}),(0,u.jsxs)("div",{className:"assets_btn_wrapper bg-white p-4 f-center flex-column",children:[(0,u.jsx)(r.A,{className:"w-100 mb-2 ".concat(g?"spinner":""),disabled:g,onClick:c,children:"Save Changes"}),(0,u.jsx)(r.A,{variant:"link",className:"text-muted",onClick:h,children:"Cancel"})]}),(0,u.jsx)(de.KG,{id:"background-image",closeModalOnClickOutside:!0,closeAfterFinish:!0,open:this.state.uppyProfileOpen,onRequestClose:this.handleClose,uppy:mt.uppy,hideUploadButton:!1,autoOpenFileEditor:!1,plugins:["Instagram","GoogleDrive","Url","Webcam"],animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1})]})}}const ut=pt;var gt=s(75794),xt=s(35131),jt=s(21784),vt=s(67972);const ft={uppyKey:"0701d3d7f8d94e92a65a9cba388b1d96",uppyBucket:"cloud.tagshop.ai",uppyAwsKey:"47ABVORKG52UYE1KB28S",uppyAwsSecret:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v",companionUrl:F.KO0?"https://app.taggbox.com":"https://test.taggbox.com"};class bt extends a.Component{constructor(e){super(e),this.state={backgroundModal:!1,type:null},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},(()=>{me()(".uppy-Dashboard-close").click((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}))}))},this.uppy=new gt.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e6,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["image/*","video/*"]}}).use(xt.Ay,{target:"#a",params:{auth:{key:ft.uppyKey},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:ft.uppyBucket,key:ft.uppyAwsKey,secret:ft.uppyAwsSecret,path:"tmp/${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(jt.A,{target:gt.A.Dashboard,companionUrl:ft.companionUrl}).use(vt.A,{target:gt.A.Dashboard,companionUrl:ft.companionUrl})}componentDidMount(){var e=this;this.uppy.on("transloadit:result",((t,s)=>{e.props.onClickTouploadImage("".concat(ue.$r).concat(s.id,".").concat(s.ext),(()=>{e.props.UpdateType(s.type),setTimeout((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1,type:s.type})}),300)}))}))}render(){const{imageStyle:e,backgroundImage:t,id:s}=this.props,{backgroundModal:a,type:i}=this.state;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"position-relative h-100 w-100",children:[t?(0,u.jsxs)("div",{className:"p-3 mb-2",children:[(0,u.jsx)(J.A,{id:"product_img",className:"w-100 mb-10",fluid:!0,src:t}),(0,u.jsxs)("div",{className:"f-center position-absolute bottom-0 start-0 w-100 bg-light p-2",children:[(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{id:"button-tooltip-2",children:"Edit"}),children:(0,u.jsx)(r.A,{id:"product_edit",variant:"icon",className:"btn-active-primary mx-1",onClick:()=>this.setState({backgroundModal:!0}),children:(0,u.jsx)("span",{className:"svg-icon svg-icon-sm me-0",children:(0,u.jsx)(p.Ah,{icon:"edit",height:12,width:12})})})}),(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{id:"button-tooltip-2",children:"Remove"}),children:(0,u.jsx)(r.A,{id:"product_remove",variant:"icon",className:"btn-active-primary mx-1",children:(0,u.jsx)("span",{className:"svg-icon svg-icon-sm me-0",onClick:()=>this.props.onClickTouploadImage("",(()=>{})),children:(0,u.jsx)(p.Ah,{icon:"delete",height:12,width:12})})})})]})]}):(0,u.jsxs)("div",{className:"f-center flex-column cursor-pointer border border-dashed border-2 p-3 rounded-3 h-100",children:[(0,u.jsx)("span",{className:"text-gray-300 mb-2",children:(0,u.jsx)(p.Ah,{icon:"shop-bag-plus",height:100,width:100})}),(0,u.jsx)("strong",{className:"text-center text-muted mb-2",children:"Drag and Drop Image/Video (Optional)"}),(0,u.jsx)("span",{children:"Video size: Max 100MB | Image size: Max 50 MB"})]}),a?(0,u.jsx)(de.KG,{animateOpenClose:!0,open:a,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})})}}s(68047);class Nt extends a.Component{constructor(e){super(e),this.onChangeAuthor=e=>this.setState({author:e.target.value}),this.onChangeHandle=e=>this.setState({handle:e.target.value}),this.onChangeAuthorImg=e=>this.setState({authorImage:e}),this.onClickRemoveAuthorImg=e=>this.setState({authorImage:""}),this.onChangePostImg=e=>this.setState({postImage:e}),this.onChangeContent=e=>this.setState({content:e.target.value}),this.onChangeTag=e=>this.setState({tags:e}),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onClickTouploadImage=(e,t)=>this.setState({postImage:e},(()=>t())),this.onSavePost=e=>{const{modalData:t,handleClose:s,filter:a}=this.props,{authorImage:i,postImage:l,author:n,content:o,handle:c,tags:r}=this.state;this.setState({loading:!0});const d=null!==t&&void 0!==t&&t.is_carausel?{postcarousel:"on"}:{},h={datapostFileN:l,userPhoto:"",content:o,newTable:2,spostId:t.postId,wallId:localStorage.getItem("wallId"),postId:t.id,postauthor:n,posthandle:c,authorpicture:i,...d};this.props.editpost(h,s);const m={selectedTags:r,postId:t.id,wallId:String(localStorage.getItem("wallId")),tags:r,db_table:a.db_table};this.props.onUpdateTags(m)},this.state={author:"",handle:"",authorImage:"",postImage:"",content:"",tags:""}}componentDidMount(){window.addEventListener("resize",this.handleResize);const{modalData:e}=this.props;this.setState({author:e.name,handle:e.postname,authorImage:e.picture,postImage:e.postFile,content:e.postcontent,tags:e.tags,loading:!1})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{modalData:e,handleClose:t}=this.props,{postImage:s,tags:a,loading:i}=this.state;return(0,u.jsxs)(S.A,{size:"full",show:!0,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,u.jsxs)(S.A.Header,{className:"justify-content-between py-0",children:[(0,u.jsx)("span",{className:"text-muted fw-medium",children:"Edit Post"}),(0,u.jsx)("div",{className:"d-flex align-items-center h-100",children:(0,u.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,u.jsx)(r.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:t})})})]}),(0,u.jsxs)(S.A.Body,{className:"p-0 d-flex border-0 flex-wrap",children:[(0,u.jsx)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:(0,u.jsx)("div",{className:"mx-auto",style:{maxWidth:500},children:(0,u.jsx)(bt,{id:"su_logo",imageStyle:{paddingBottom:"50%"},backgroundImage:s||e.postFile,onClickTouploadImage:this.onChangePostImg})})}),(0,u.jsx)("div",{className:"full_modal_sidebar position-relative",children:(0,u.jsx)(ut,{modalData:e,onChangeAuthor:this.onChangeAuthor,onChangeHandle:this.onChangeHandle,onChangeAuthorImg:this.onChangeAuthorImg,onChangePostImg:this.onChangePostImg,onChangeContent:this.onChangeContent,onChangeTag:this.onChangeTag,onClickRemoveAuthorImg:this.onClickRemoveAuthorImg,handleClose:t,onSavePost:this.onSavePost,...this.state})})]})]})}}const wt=(0,i.Ng)((e=>{var t;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,authorized:e.authorized}}),(e=>({editpost:(t,s)=>e((0,c.L2)(t,s)),onUpdateTags:t=>e((0,c.K)(t))})))(Nt),kt=a.lazy((()=>Promise.all([s.e(1628),s.e(6891)]).then(s.bind(s,86891)))),yt=a.lazy((()=>s.e(6139).then(s.bind(s,96139))));class _t extends a.Component{constructor(e){var t;super(e),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.setLastSearchTag=()=>{var e,t;const{authorized:s,modalData:a}=this.props;var i=null!==s&&void 0!==s&&null!==(e=s.userData)&&void 0!==e&&e.user_data.user.extra_data?JSON.parse(null===s||void 0===s||null===(t=s.userData)||void 0===t?void 0:t.user_data.user.extra_data):{},l=null===i||void 0===i?void 0:i.LAST_SEARCH_TAG,n="";n=Array.isArray(l)?l:l?[l]:[],this.setState({selectedTag:n},(()=>{this.props.fetchProductList(1,10,this.state.selectedTag,"",(()=>{}),null===a||void 0===a?void 0:a.referenceId,null===a||void 0===a?void 0:a.newMedia)}))},this.onSaveCallBack=()=>{var e;this.setState({enableHotspot:null===(e=this.props.modalData)||void 0===e?void 0:e.hotspot})},this.onControlledDrag=(e,t)=>{const{x:s,y:a}=t;console.log(" x, y",s,a);const{spotWidth:i,spotHeight:l,productId:n}=this.state,{modalData:o}=this.props;let c=100*s/i,r=100*a/l;const d={left:"".concat(c,"%"),top:"".concat(r,"%")},h="left:".concat(c,"%;top:").concat(r,"%;");this.props.UPDATE_HOTSPOT_ACTION(n,null===o||void 0===o?void 0:o.referenceId,d,h)},this.changeHotspotStatus=(e,t)=>{let s=1==e?0:1;this.setState({enableHotspot:s}),this.props.ENABLE_HOTSPOT_ACTION(s,t,this.onSaveCallBack)},this.changePrdId=e=>{console.log("changePrdId",e),this.setState({productId:e})},this.onSaveCallBack=()=>{this.setState({enableHotspot:this.props.modalData.hotspot})},this.responceApi=()=>{this.setState({loading:!1})},this.handleClose=()=>this.props.modalCallback(!1),this.onMediaLoad=async e=>{if(e.mediaHeight&&e.mediaWidth)this.setState({mediaSize:{height:e.mediaHeight,width:e.mediaWidth}});else try{const{width:t,height:s}=await(0,z.A)(e.newMedia);this.setState({mediaSize:{height:s,width:t}})}catch(t){this.setState({mediaSize:{height:100,width:100}})}},this.editPostFun=()=>this.setState({editPost:!this.state.editPost}),this.state={spotWidth:0,spotHeight:0,searchTag:"",selectedTag:[],productId:0,enableHotspot:null===(t=this.props.modalData)||void 0===t?void 0:t.hotspot,loading:!1,winWidth:window.innerWidth,winHeight:window.innerHeight,paddingBottom:100,mediaSize:{height:400,width:400},editPost:!1},this.hotspotRef=a.createRef()}componentDidMount(){setTimeout((()=>{const e=this.hotspotRef.current;e&&this.setState({spotWidth:e.clientWidth,spotHeight:e.clientHeight})}),100),this.setLastSearchTag(),window.addEventListener("resize",this.handleResize),this.onMediaLoad(this.props.modalData)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;this.props.modalData!==e.modalData&&(this.onMediaLoad(this.props.modalData),this.setState({enableHotspot:null===(t=this.props.modalData)||void 0===t?void 0:t.hotspot}))}render(){const{modalToggle:e,modalData:t,exportDonwloadMedia:s,filter:i,rightsHandleModalShow:l,addTagModalShow:n,ctaData:o,isTrash:c,onClickPutBack:h,onClickDeletePermanently:m,postPostUpdate:g,currentIndex:x,clickToPin:j,clickToGetUgc:v,clickToOpenAddTag:f,clickToOpenEditPost:b,clickToDeletePost:N,clickToBlockUser:w}=this.props,{spotWidth:k,spotHeight:y,enableHotspot:_,winWidth:C,winHeight:A,mediaSize:T,editPost:P}=this.state,D=Math.min((C-450)/T.width,(A-130)/T.height),I=T.height*D,M=T.width*D,F=100*I/M;return(0,u.jsxs)(S.A,{size:"full",show:e,className:"assets_modal p-0 bg-white",backdrop:!1,children:[(0,u.jsxs)(S.A.Header,{className:"justify-content-between py-0",children:[(0,u.jsx)("span",{className:"text-muted fw-medium",children:P?"Edit Post":"General Info"}),(0,u.jsxs)("div",{className:"d-flex align-items-center h-100",children:[P?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"d-none d-lg-flex h-100",children:(0,u.jsxs)(u.Fragment,{children:[(3==t.networkId&&62==t.feedFilter||7==t.networkId||18==t.networkId&&(24==t.feedFilter||25==t.feedFilter||26==t.feedFilter))&&null==t.ugcstatus&&1!=t.type?(0,u.jsxs)(r.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:v(t),children:[(0,u.jsx)(p.Ah,{icon:"user-check",height:16,width:16}),"Get Rights"]}):null,(0,u.jsxs)(r.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:j(x,t.spostId,t.id,"grid",t.pin),children:[(0,u.jsx)(p.Ah,{icon:"pin",height:16,width:16}),"Pin to top"]}),(0,u.jsxs)(r.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:this.editPostFun,children:[(0,u.jsx)(p.Ah,{icon:"tag",height:16,width:16}),"Tags"]}),(0,u.jsxs)(r.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:this.editPostFun,children:[(0,u.jsx)(p.Ah,{icon:"edit",height:16,width:16}),"Edit Post"]})]})}),(0,u.jsxs)(d.A,{align:"end",className:"f-center position-relative ms-4 h-100",children:[(0,u.jsxs)(d.A.Toggle,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary arrow_disabled h-100",children:[(0,u.jsx)(p.Ah,{icon:"ellipsis",height:16,width:16})," More"]}),(0,u.jsxs)(d.A.Menu,{children:[(0,u.jsxs)(d.A.Item,{className:"d-flex d-lg-none",onClick:v(t),children:[(0,u.jsx)(p.Ah,{icon:"user-check",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"Get Rights"})]}),(0,u.jsxs)(d.A.Item,{className:"d-flex d-lg-none",onClick:j(x,t.spostId,t.id,"grid",t.pin),children:[(0,u.jsx)(p.Ah,{icon:"pin",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"Pin to top"})]}),(0,u.jsxs)(d.A.Item,{className:"d-flex d-lg-none",onClick:this.editPostFun,children:[(0,u.jsx)(p.Ah,{icon:"tag",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"Tags"})]}),(0,u.jsxs)(d.A.Item,{className:"d-flex d-lg-none",onClick:this.editPostFun,children:[(0,u.jsx)(p.Ah,{icon:"edit",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"Edit Post"})]}),1==t.ugcstatus||2==t.ugcstatus?(0,u.jsxs)(d.A.Item,{onClick:N(t.ptPost,t.id,t.status,x,t.feedId,t.feedFilter),children:[(0,u.jsx)(p.Ah,{icon:"delete",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"Delete Post"})]}):null,(0,u.jsxs)(d.A.Item,{onClick:b(t.spostId,t.id,x),children:[(0,u.jsx)(p.Ah,{icon:"delete",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"Delete Post"})]}),(0,u.jsxs)(d.A.Item,{onClick:w(x,t.id,t.username,"grid",localStorage.getItem("wallId")),children:[(0,u.jsx)(p.Ah,{icon:"ban",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"Block User"})]}),""!=t.newlink&&null!=t.newlink?(0,u.jsxs)(d.A.Item,{href:t.newlink,target:"_blank",children:[(0,u.jsx)(p.Ah,{icon:"paper-plane",height:13,width:13,iconClass:"me-2"}),(0,u.jsx)("span",{className:"navi-text",children:"View Post"})]}):(0,u.jsx)(u.Fragment,{})]})]})]}),(0,u.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,u.jsx)(r.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:this.handleClose})})]})]}),(0,u.jsxs)(S.A.Body,{className:"p-0 d-flex border-0 flex-wrap",children:[(0,u.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:[(0,u.jsx)(r.A,{variant:"secondary",className:"assets_modal_arrow_left rounded-circle position-absolute box-shadow p-0",onClick:this.props.slideAssets(x-1),children:(0,u.jsx)(p.Ah,{icon:"arrow-left",width:"30",height:"30",iconClass:"ms-1"})}),1==t.type?(0,u.jsx)("div",{className:"mx-auto w-100 p-4",children:(0,u.jsx)(Be,{mediaClass:"bg-white",size:120,content:t.postcontent,rating:t.rating,socialNetworkId:t.networkId,fontSize:"calc(14px + .3vw + .3vh)",lineCount:10})}):(0,u.jsx)("div",{className:"w-100",style:{maxWidth:M},children:(0,u.jsx)("div",{className:"position-relative",style:{paddingBottom:"".concat(F,"%")},children:(0,u.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",children:2==t.type||4==t.type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ue.A,{mediaClass:"content_img_",size:F,url:t.postFile,height:I,width:M,icon:t.networkId,rating:t.rating,alt:""}),(0,u.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{zIndex:1},ref:this.hotspotRef,children:(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(kt,{ImageClass:"hotspot-section",ImageUrl:null===t||void 0===t?void 0:t.newMedia,spotWidth:k,spotHeight:y,enableHotspot:_,item:t,width:M,height:I,onControlledDrag:this.onControlledDrag,changePrdId:this.changePrdId,imgHeight:null===t||void 0===t?void 0:t.mediaHeight,imgWidth:null===t||void 0===t?void 0:t.mediaWidth,ctaData:o})})})]}):3==t.type||5==t.type?(0,u.jsx)(Ee,{item:t,mediaClass:"content_video",size:F,url:t.mediaUrl?t.mediaUrl:t.mediaClip?t.mediaClip:t.postFile,poster:t.postFile,height:I,width:M,autoPlay:!0,muted:!1,isCover:!0,controls:!0,loop:!1}):null})})}),(0,u.jsx)(r.A,{variant:"secondary",className:"assets_modal_arrow_right rounded-circle position-absolute box-shadow p-0",onClick:this.props.slideAssets(x+1),children:(0,u.jsx)(p.Ah,{icon:"arrow-right",width:"30",height:"30",iconClass:"ms-1"})})]}),(0,u.jsx)("div",{className:"full_modal_sidebar position-relative",children:P?(0,u.jsx)(wt,{handleClose:this.editPostFun,modalData:t,filter:i}):(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:t?(0,u.jsx)(yt,{modalData:t,changeHotspotStatus:this.changeHotspotStatus,enableHotspot:_,clickToOpenEditPost:b,postPostUpdate:g,modalCallback:this.props.modalCallback},null===t||void 0===t?void 0:t.id):null})})]})]})}}const Ct=(0,i.Ng)((e=>{var t;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,authorized:e.authorized}}),(e=>({TAG_PRODUCT_ACTION:(t,s,a,i,l,n)=>e((0,c.gw)(t,s,a,i,l,n)),UPDATE_HOTSPOT_ACTION:(t,s,a,i,l)=>e((0,c.Zl)(t,s,a,i,l)),REMOVE_TAGGED_PRODUCT_ACTION:(t,s,a)=>e((0,c.PB)(t,s,a)),ENABLE_HOTSPOT_ACTION:(t,s,a)=>e((0,c.Vi)(t,s,a)),getUserInfo_afterChanges:()=>e((0,H.AW)()),fetchProductList:(t,s,a,i,l)=>e((0,dt.EU)(t,s,a,i,l))})))(_t);var At=s(74378),Tt=s.n(At);class St extends a.Component{constructor(){super(...arguments),this.imageQueue=[],this.state={editPost:!1,addTag:!1,postID:null,id:null,data:null,itemIndex:null,modalData:null,ugcPending:!1,ugcReject:!1,ugcApproved:!1,firstRequest:!1,openpinToTopModal:!1,refreshPostLoading:!1,showModal:!1,currentIndex:null},this.clickToPin=(e,t,s,a,i)=>l=>this.props.clickToPostPin(e,t,s,a,i),this.clickToHighlight=(e,t,s,a)=>i=>this.props.clickToPostHighlight(e,t,s,a),this.clickToGetUgc=e=>t=>{this.props.getUgcDetails(e),this.openUgcModal()},this.clickToDeletePost=(e,t,s,a,i,l)=>n=>this.props.clickToDeletePost(e,t,s,a,i,l),this.clickToRefreshPost=(e,t,s,a)=>s=>this.props.refreshPostByNetwork(e,t),this.clickToBlockUser=(e,t,s,a,i)=>l=>this.props.clickToBlockUser(e,t,s,a,i),this.clickToPostStatus=(e,t,s,a)=>i=>this.props.clickToPostStatus(e,t,s,a),this.clickToOpenEditPost=(e,t,s)=>a=>{this.setState({editPost:!0,postID:e,id:t,itemIndex:s})},this.clickToCloseEditPost=e=>{this.setState({editPost:!1,postID:null,id:null,itemIndex:null})},this.clickToOpenAddTag=(e,t)=>s=>{this.setState({addTag:!0,data:e,itemIndex:t})},this.clickToCloseAddTag=e=>{this.setState({addTag:!1,data:null,itemIndex:null})},this.onClickToPostTags=e=>t=>{this.props.searchTagsFilter(e)},this.openUgcModal=e=>{this.props.ugcModal(!0)},this.clickToGetLink=(e,t,s,a,i)=>e=>{this.props.getUgcDetails(i),this.props.GET_UGC_REQUEST(i),this.props.onShow(a,i.ugcmodified)},this.handleImageError=e=>{const t=e.target.getAttribute("data-id");this.imageQueue.includes(t)||(this.imageQueue.push(t),this.state.firstRequest||this.processImageQueue())},this.processImageQueue=async()=>{this.setState({firstRequest:!0});const e=this.imageQueue[0],t=document.getElementById("imgID".concat(e));e&&(0,P.Cw)(e).then((e=>{let{data:s}=e;(0,c.Ti)(),this.imageQueue.shift(),t&&(t.src=s.media),this.processImageQueue()})).catch((e=>{this.imageQueue.shift(),t&&(t.src=F.iL5),this.processImageQueue()}))},this.onRefreshPost=async e=>{const{UPDATE_INSTA_POST_ACTION:t}=this.props;await t(e)},this.handleModalShow=(e,t)=>s=>{this.setState({showModal:!0,modalData:e,currentIndex:t})},this.handleCallback=e=>{this.setState({showModal:e,modalData:e?this.state.modalData:null,currentIndex:null})},this.slideAssets=e=>t=>{const{listData:s}=this.props;if(-1===e){let e=s.length-1;this.setState({currentIndex:e,modalData:s[e]})}else{let t=s.length==e?0:e;this.setState({currentIndex:t,modalData:s[t]})}}}componentDidUpdate(e){this.props.listData!==e.listData&&this.setState({modalData:this.props.listData[this.state.currentIndex]})}render(){const{listData:e,total:t,activeTab:s,filter:a,isEditing:i,onUpdateTags:l,details:n,getUgcDetails:o,ugcData:c,ugcPopup:h,ugcRequestData:g,onShow:x,handleAllImageError:j}=this.props,{editPost:v,addTag:b,ugcPending:N,ugcReject:w,ugcApproved:k,openpinToTopModal:y,refreshPostLoading:_,showModal:T,modalData:S}=this.state;let D=a.tags.join();return(0,u.jsxs)("div",{className:"w-100",children:[(0,u.jsxs)(Tt(),{className:"row gx-2",elementType:"div",disableImagesLoaded:!1,updateOnEachImageLoad:!0,enableResizableChildren:!0,children:[" ",e&&e.length>0?e.map(((e,a)=>e.status==s||0==s?(0,u.jsx)("div",{"total-items":t,className:"assetsItem",id:"content_id-".concat(e.id),"data-post-id":e.id,"data-highlight":e.highlight,"data-pinned":e.pin,"data-created":e.createdAt,children:(0,u.jsx)(Ie.A,{children:(0,u.jsx)(Qe.A,{className:"border-0",children:(0,u.jsxs)(Qe.A.Body,{className:"p-0",children:[(0,u.jsxs)("div",{className:"f-between p-2",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center list-inline mb-0",id:"post-actions-".concat(e.id),children:[(0,u.jsx)(m.A.Check,{className:"me-2",checked:e.isChecked,value:e.isChecked,onChange:this.props.clickPostChecked(a)}),(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:"Pin to Top"}),children:(0,u.jsx)("span",{className:"svg-icon svg-icon-6 me-2 cursor-pointer ".concat(e.pin?"text-primary":""),onClick:this.clickToPin(a,e.spostId,e.id,"grid",e.pin),"data-value":e.pin,children:(0,u.jsx)(p.Ah,{icon:"pin",height:15,width:15})})}),(3==e.networkId&&62==e.feedFilter||7==e.networkId||18==e.networkId&&(24==e.feedFilter||25==e.feedFilter||26==e.feedFilter))&&null==e.ugcstatus&&1!=e.type?(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:"UGC Rights"}),children:(0,u.jsx)("span",{className:"svg-icon svg-icon-6 me-2 cursor-pointer ".concat(e.ugcstatus),onClick:()=>{this.props.getUgcDetails(e),this.openUgcModal()},children:(0,u.jsx)(p.Ah,{icon:"user-check",height:15,width:15})})}):null,18==e.networkId?(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:"Refresh Post"}),children:(0,u.jsx)("span",{className:"svg-icon svg-icon-6 me-2 cursor-pointer ".concat(_?"disabled":""),onClick:()=>this.onRefreshPost(e),children:(0,u.jsx)(p.Ah,{icon:"arrow-rotate",height:15,width:15})})}):null]}),(0,u.jsxs)(d.A,{children:[(0,u.jsx)(C.A,{placement:"top",overlay:(0,u.jsx)(A.A,{children:"More Actions"}),children:(0,u.jsx)(d.A.Toggle,{variant:"secondary",className:"arrow_disabled dropdown-toggle border-0 p-0",children:(0,u.jsx)(p.Ah,{icon:"ellipsis",height:16,width:16,iconClass:"me-0"})})}),(0,u.jsxs)(d.A.Menu,{children:[1!=e.ugcstatus||2!=e.ugcstatus?(0,u.jsxs)(d.A.Item,{onClick:this.clickToDeletePost(e.ptPost,e.id,e.status,a,e.feedId,e.feedFilter),children:[(0,u.jsx)("span",{className:"me-2",children:(0,u.jsx)(p.Ah,{icon:"delete",height:12,width:12})}),"Delete Post"]}):null,(0,u.jsxs)(d.A.Item,{onClick:this.clickToBlockUser(a,e.id,e.username,"grid",localStorage.getItem("wallId")),children:[(0,u.jsx)("span",{className:"me-2",children:(0,u.jsx)(p.Ah,{icon:"ban",height:12,width:12})}),"Block User"]}),""!=e.newlink&&null!=e.newlink?(0,u.jsxs)(d.A.Item,{href:e.newlink,target:"_blank",children:[(0,u.jsx)("span",{className:"me-2",children:(0,u.jsx)(p.Ah,{icon:"paper-plane",height:12,width:12})}),"View Post"]}):null,e.pin?(0,u.jsxs)(d.A.Item,{onClick:()=>this.setState({openpinToTopModal:!0}),children:[(0,u.jsx)("span",{className:"me-2",children:(0,u.jsx)(p.Ah,{icon:"arrow-right-left",height:12,width:12})}),"Change Order"]}):""]})]})]}),(0,u.jsxs)("div",{className:"d-flex align-items-center cursor-pointer flex-column",children:[(0,u.jsxs)("div",{className:"position-relative w-100",onClick:this.handleModalShow(e,a),children:[1==e.type?(0,u.jsx)(Be,{mediaClass:"bg-light",content:e.postcontent,rating:e.rating,socialNetworkId:e.networkId}):2==e.type||4==e.type?(0,u.jsx)(Ue.A,{mediaClass:"content_img_",size:!1,url:e.postFile,height:e.mediaHeight,width:e.mediaWidth,icon:e.networkId,rating:e.rating,alt:""}):3==e.type||5==e.type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ee,{item:e,mediaClass:"content_video",size:!1,url:e.mediaClip?e.mediaClip:e.postFile,poster:e.postFile,height:e.mediaHeight,width:e.mediaWidth,autoPlay:!0,muted:!0,isCover:!0,controls:!1,loop:!0}),(0,u.jsx)("div",{className:"position-absolute f-center h-100 w-100 start-0 top-0 text-light",children:(0,u.jsx)(p.Ah,{icon:"video-circle",height:45,width:45})})]}):null,(0,u.jsx)("div",{className:"position-absolute w-100 start-0 bottom-0 p-3 w-100",style:{overflowX:"auto"},children:(0,u.jsx)(tt,{item:e})})]}),1==e.ugcstatus||2==e.ugcstatus||3==e.ugcstatus||4==e.ugcstatus?(0,u.jsxs)("div",{className:"m_ugc_post",children:[1==e.ugcstatus?(0,u.jsxs)("a",{onClick:this.clickToGetLink(e.id,e.ugccreated,e.bitlyurl,1,e),className:"init ugc_status_moderation_panel_pending bg-warning d-flex align-items-center justify-content-center text-white p-1",children:[(0,u.jsxs)("span",{className:"m_status d-flex align-items-center svg-icon text-light svg-icon-7",children:[(0,u.jsx)(p.Ah,{icon:"timer",height:16,width:16}),"Pending"]}),e.ugccreated?(0,u.jsxs)("span",{className:"ugcCreated ugc_status_moderation_panel_time ms-1 fs-10",children:["(",e.ugccreated?f()(f()(e.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null,2==e.ugcstatus?(0,u.jsxs)("a",{onClick:this.clickToGetLink(e.id,e.ugccreated,e.bitlyurl,2,e),className:"init ugc_status_moderation_panel_approved bg-success",children:[(0,u.jsxs)("span",{className:"m_status d-flex align-items-center svg-icon text-light svg-icon-7",children:[(0,u.jsx)(p.Ah,{icon:"shield-check",height:16,width:16}),"Approved"]}),e.ugccreated?(0,u.jsxs)("span",{className:"ugcCreated ugc_status_moderation_panel_time ms-1 fs-10",children:["(",e.ugccreated?f()(f()(e.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null,3==e.ugcstatus?(0,u.jsxs)("a",{onClick:this.clickToGetLink(e.id,e.ugccreated,e.bitlyurl,3,e),className:"".concat(e.id," init ugc_status_moderation_panel_rejected bg-danger"),children:[(0,u.jsxs)("span",{className:"m_status d-flex align-items-center svg-icon text-light svg-icon-7",children:[(0,u.jsx)(p.Ah,{icon:"shield-cross",height:16,width:16}),"Rejected"]}),e.ugccreated?(0,u.jsxs)("span",{className:"ugcCreated ugc_status_moderation_panel_time ms-1 fs-10",children:["(",e.ugccreated?f()(f()(e.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null,4==e.ugcstatus?(0,u.jsx)("a",{onClick:this.clickToGetLink(e.id,e.ugccreated,e.bitlyurl,4),className:"".concat(e.id," init m_getugc_post ugc_status_moderation_panel_expired"),children:(0,u.jsxs)("span",{className:"init cursor-pointer m_getugc_post ugc_status_moderation_panel_expired",children:[(0,u.jsxs)("span",{className:"m_status d-flex align-items-center svg-icon text-light svg-icon-7",children:[(0,u.jsx)(p.Ah,{icon:"shield-cross",height:16,width:16}),"Expired"]}),e.ugccreated?(0,u.jsxs)("span",{className:"ugcCreated ugc_status_moderation_panel_time ms-1 fs-10",children:["(",e.ugccreated?f()(f()(e.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]})}):null]}):null,1==e.ctastatus&&""!=e.buttonText?(0,u.jsx)("div",{className:"d-flex m_grid_cta grid-cta-status-".concat(e.id),children:(0,u.jsx)("a",{className:"btn font-weight-bold text-nowrap",title:e.buttonText,target:"_blank",href:"".concat(e.buttonUrl&&e.buttonUrl.includes("http")?e.buttonUrl:"//".concat(e.buttonUrl)),style:{backgroundColor:e.ctaButtonColor,color:e.ctaTextColor},children:(0,u.jsx)("span",{children:e.buttonText})})}):null]}),(0,u.jsxs)("div",{className:"p-3",children:[(0,u.jsx)(at,{item:e,onClickToPostTags:this.onClickToPostTags,selection:D}),(0,u.jsxs)("div",{className:"f-between",children:[(0,u.jsx)("div",{className:"d-flex align-items-center pe-2",style:{maxWidth:"calc(100% - 25px)"},children:(0,u.jsxs)("div",{className:"d-flex align-items-center overflow-hidden",style:{maxWidth:"100%"},children:[(0,u.jsx)(nt.A,{imageSize:36,symbolClass:"symbol-label text-light-alt fw-bolder text-uppercase fs-5",className:"symbol symbol-36 rounded-circle bg-light flex-shrink-0 me-2 overflow-hidden",name:(0,q.Ay)(e.username),profileUrl:e.picture,networkId:1}),(0,u.jsxs)("div",{className:"d-flex flex-column flex-grow-1 overflow-hidden",children:[(0,u.jsx)("p",{className:"text-dark mb-0 text-ellipsis fw-bold",children:e.name}),(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:["@",(0,q.Ay)(e.username)]}),(0,u.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1",style:{backgroundColor:"var(--bs-gray-600)"}}),(0,u.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:[" ",f()(new Date(1e3*e.createdAt)).fromNow()]})]})]})]})}),(0,u.jsx)("span",{className:"d-flex align-items-center h-24px w-24px flex-shrink-0",children:(0,u.jsx)(J.A,{src:(0,p.pc)("media/icons/social-icons/".concat((0,P.EC)(e.networkId),".svg")),height:24,width:24,alt:(0,P.Oi)(e.networkId),fluid:!0})})]})]}),(0,u.jsxs)("div",{className:"d-flex align-items-center p-3 border-top",children:[3!=e.status?(0,u.jsx)("div",{className:"w-50 me-1",children:(0,u.jsx)(r.A,{variant:"success",size:"sm",onClick:this.clickToPostStatus(a,e.spostId,e.id,1),className:"".concat(1==e.status?"m_active disabled":""," w-100"),children:"Public"})}):null,3!=e.status?(0,u.jsx)("div",{className:"w-50 ms-1",children:(0,u.jsx)(r.A,{variant:"danger",size:"sm",onClick:this.clickToPostStatus(a,e.spostId,e.id,2),className:"".concat(2==e.status?"m_active disabled":""," w-100"),children:"Private"})}):null]})]})})})},"post".concat(a,"_").concat(e.id)):null)):null]}),S?(0,u.jsx)(Ct,{clickToPin:this.clickToPin,clickToGetUgc:this.clickToGetUgc,clickToOpenAddTag:this.clickToOpenAddTag,clickToOpenEditPost:this.clickToOpenEditPost,clickToDeletePost:this.clickToDeletePost,clickToBlockUser:this.clickToBlockUser,modalCallback:this.handleCallback,modalToggle:T,modalData:S,exportDonwloadMedia:this.exportDonwloadMedia,slideAssets:this.slideAssets,currentIndex:this.state.currentIndex,filter:a}):null,(0,u.jsx)(rt,{openpinToTopModal:y,closeModalPop:()=>this.setState({openpinToTopModal:!1})})]})}}const Pt=(0,i.Ng)((e=>{var t,s,a,i;return{isEditing:null===(t=e.moderation)||void 0===t?void 0:t.isEditing,ugcData:null===(s=e.moderation)||void 0===s?void 0:s.ugcData,ugcPopup:null===(a=e.moderation)||void 0===a?void 0:a.ugcPopup,ugcRequestData:null===(i=e.moderation)||void 0===i?void 0:i.ugcRequestData}}),(e=>({clickToPostStatus:(t,s,a,i)=>e((0,c.QK)(t,s,a,i)),clickToPostPin:(t,s,a,i,l)=>e((0,c.b4)(t,s,a,i,l)),clickToPostHighlight:(t,s,a,i)=>e((0,c._m)(t,s,a,i)),clickToDeletePost:(t,s,a,i,l,n)=>e((0,c.xL)(t,s,a,i,l,n)),clickToBlockUser:(t,s,a,i,l)=>e((0,c.C8)(t,s,a,i,l)),onUpdateTags:(t,s)=>e((0,c.K)(t,s)),refreshPostByNetwork:(t,s)=>e((0,c.XA)(t,s)),getUgcDetails:t=>e((0,c.Qb)(t)),ugcModal:t=>e((0,c.$k)(t)),UPDATE_INSTA_POST_ACTION:t=>e((0,c.KH)(t)),GET_UGC_REQUEST:t=>e((0,c.rA)(t))})))(St);var Dt=s(26806);class It extends a.Component{constructor(){super(...arguments),this.allImageQueue=[],this.state={listData:[],total:0,isCheckAll:!1,isCheckedPostCount:0,perPageCount:10,activePage:1,activeTab:0,filters:[],allFirstImage:!1,statusPopup:0},this.onBoardingSuccess=()=>{setTimeout((()=>{Y().fire({icon:"success",title:"<strong>You are almost there!</strong>",html:"Tag products to curate a Shoppable Gallery & publish it on your pages.",showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,confirmButtonText:"Got it!",confirmButtonAriaLabel:"Got it!",cancelButtonText:'<i class="fa fa-thumbs-down"></i>',cancelButtonAriaLabel:"Thumbs down"}).then((e=>{e.isConfirmed&&(this.props.getUserInfo_afterChanges(),this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")))}))}),1e3)},this.clickToCheckAll=e=>{const{isCheckAll:t}=this.state;this.setState({isCheckAll:!t},(()=>{this.onActionUpdateOpcity(),this.props.updateCheckAll(this.state.isCheckAll)}))},this.clickToCheckStatusAll=e=>t=>{this.onActionUpdateOpcity(),this.props.updateCheckStatusAll(e)},this.clickToUncheckAll=e=>{this.setState({isCheckAll:!1},(()=>{this.onActionUpdateOpcity(),this.props.removeCheckAll(!1)}))},this.clickPostChecked=e=>t=>this.props.selectPostUpdate(e,this.onActionUpdateOpcity()),this.onActionUpdateOpcity=()=>{const{isCheckAll:e,isCheckedPostCount:t}=this.state;(e||t>0)&&(document.getElementsByClassName("modSelectNo")&&document.getElementsByClassName("modSelectNo")[0]&&(0,P.UD)(document.getElementsByClassName("modSelectNo")[0]),document.getElementsByClassName("filter-bar")&&document.getElementsByClassName("filter-bar")[0]&&(0,P.UD)(document.getElementsByClassName("filter-bar")[0]))},this.clickToTab=e=>t=>{const{activeTabActionFilter:s}=this.props;this.setState({activeTab:e}),s(e)},this.onDateRangeFilter=(e,t)=>this.props.dateRangeFilter(e,t),this.onClickToFilterUpdateStatus=e=>t=>this.props.clickToPostStatusALL(e),this.onClickToFilterDeleteAll=e=>this.props.clickToPostDeleteALL(),this.onClickNextPage=e=>this.props.onNextNavigateClick(),this.onClickPrevPage=e=>this.props.onPrevNavigateClick(),this.onChangePage=e=>t=>{this.props.onUpdatePage(e)},this.onClickReset=e=>{let t=this.state.filters.filter((t=>t.key===e.key));t=t.filter((t=>{if(["postType","socialFeed","other"].includes(t.key))return t.value.filter((t=>!e.value.includes(t)))})),this.setState({filters:t},(()=>this.props.clickToRefresh()))},this.onClickAllReset=e=>{this.setState({filters:[]},(()=>this.props.getModeration()))},this.handleAllImageError=e=>{try{const t=e.target.getAttribute("data-id");this.allImageQueue.some((e=>e.src===t))||this.allImageQueue.push({src:t,e:e}),this.state.allFirstImage||this.processAllImageQueue()}catch(t){console.log("error",t)}},this.processAllImageQueue=async()=>{this.allImageQueue.length&&!this.state.allFirstImage&&(this.setState({allFirstImage:!0}),this.processNextImage())},this.processNextImage=()=>{try{const{src:e,e:t}=this.allImageQueue[0];e&&(0,P.jN)(t,this.nextProcessAllImageQueue)}catch(e){console.log("error",e)}},this.nextProcessAllImageQueue=()=>{try{this.allImageQueue.shift(),this.allImageQueue.length?this.processNextImage():this.setState({allFirstImage:!1})}catch(e){console.log("error",e)}},this.openugcModel=()=>this.props.ugcModal(!0),this.onShow=e=>this.setState({statusPopup:e})}componentDidUpdate(e,t){var s,a,i;(e.moderation.changeModeration_wall!==this.props.moderation.changeModeration_wall&&this.props.moderation.changeModeration_wall&&this.setState({activeTab:0},this.clickToUncheckAll),e.wallsLoader!==this.props.wallsLoader)&&(this.props.wallsLoader||null!==(s=this.props.moderation)&&void 0!==s&&null!==(a=s.listData)&&void 0!==a&&a.length||null===(i=this.props.moderation)||void 0===i||!i.loding||this.props.getModeration())}componentWillMount(){const{params:e}=this.props,t=window.location.href.replace(null===e||void 0===e?void 0:e.id,localStorage.getItem("wallId"));window.history.pushState(null,"",t),window.feedId=e.feedId}componentDidMount(){const{moderation:e}=this.props;window.location.href.includes("ob_success")&&this.onBoardingSuccess(),document.cookie="callBackUrl=React",localStorage.removeItem("createFeedObj"),!e.listData.length&&e.loding&&this.props.getModeration(),this.props.ctaData||this.props.GET_CTA_ACTION()}render(){const{isCheckAll:e,perPageCount:t,activePage:s,activeTab:a,filters:i}=this.state,{moderation:n,searchTagsFilter:o,limitUpdate:c,loader:r,editpost:d,clickToRefresh:h,ugcModal:m,clearUgcData:p,removeAllFilterBody:g,searchPostFilter:x,onUpdateTags:j,onDeleteTags:v,allFont:f,feeds:b,ugcData:N,ugcPopup:w,ugcRequestData:k,CLEAR_UGC_REQUEST_DATA:y}=this.props;return(0,u.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content moderation__",children:[(0,u.jsx)(O,{onUpdateTags:j,onDeleteTags:v,clickToCheckAll:this.clickToCheckStatusAll,clickToUncheckAll:this.clickToUncheckAll,isCheckAll:e,isCheckedPostCount:null===n||void 0===n?void 0:n.isCheckedPostCount,searchPostFilter:x,onClickToViewFilter:this.onClickToViewFilter,total:null===n||void 0===n?void 0:n.total,perPageCount:t,activePage:s,moderation:n,clickToTab:this.clickToTab,onDateRangeFilter:this.onDateRangeFilter,onClickToFilterUpdateStatus:this.onClickToFilterUpdateStatus,onClickToFilterDeleteAll:this.onClickToFilterDeleteAll,searchTagsFilter:o,limitUpdate:c,onNextNavigateClick:this.onClickNextPage,onPrevNavigateClick:this.onClickPrevPage,onChangePage:this.onChangePage,onAppliedFilter:this.onAppliedFilter,clickToRefresh:h,activeTab:a}),(0,u.jsxs)(l.A,{fluid:!0,className:"position-relative pt-10",children:[(0,u.jsx)(se,{...this.props,filterBody:n.filterBody}),(0,u.jsx)(ie,{...this.props,filterBody:n.filterBody}),(0,u.jsx)(Ke,{...this.props,statusPopup:this.state.statusPopup,onHide:()=>{this.setState({statusPopup:0}),y()}}),0!=(null===n||void 0===n?void 0:n.total)||null!==n&&void 0!==n&&n.loding?(0,u.jsx)("div",{className:"moderation_card tab-content moderationPostsX h-100",id:"moderationPostsX",children:r.filterLoader?(0,u.jsx)($e,{...this.props}):(0,u.jsx)(Pt,{clickPostChecked:this.clickPostChecked,...n,removeAllFilterBody:g,activeTab:a,searchTagsFilter:o,onAppliedFilter:this.onAppliedFilter,handleAllImageError:this.handleAllImageError,filters:i,onClickAllReset:this.onClickAllReset,onClickReset:this.onClickReset,editpost:d,onShow:this.onShow})}):(0,u.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,u.jsx)(Dt.A,{title:b&&b.length?"No Posts!":"Create a Gallery, to add feed! \u231b",desc:"Oops! Looks like you have deleted your gallery, create one by simply clicking on the button below.",icon:"media",button:{action:()=>this.props.TOGGLE_ADD_GALLERY(!0),text:"Create feed"},isFullScreen:!1})}),w&&N&&N.template&&N.template.length?(0,u.jsx)(Me,{ugcData:N,hideUgc:()=>{m(!1),p()}}):""]})]})}}const Mt=(0,i.Ng)((e=>{var t,s,a,i,l,n,o,c,r,d,h;return{moderation:e.moderation,loader:e.loader,ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,allFont:e.allFont,showAddFeed:null===(s=e.modalReducer)||void 0===s?void 0:s.showAddFeed,showManageFeed:null===(a=e.modalReducer)||void 0===a?void 0:a.showManageFeed,showCta:null===(i=e.modalReducer)||void 0===i?void 0:i.showCta,wallsLoader:null===(l=e.dashboardData)||void 0===l?void 0:l.wallsLoader,addGalleryNow:null===(n=e.dashboardData)||void 0===n?void 0:n.addGalleryNow,ctaData:null===(o=e.ctaData)||void 0===o?void 0:o.data,ugcData:null===(c=e.moderation)||void 0===c?void 0:c.ugcData,ugcPopup:null===(r=e.moderation)||void 0===r?void 0:r.ugcPopup,ugcRequestData:null===(d=e.moderation)||void 0===d?void 0:d.ugcRequestData,feeds:null===(h=e.manageFeeds)||void 0===h?void 0:h.feeds}}),(e=>({getModeration:t=>e((0,c.zI)(t)),activeTabActionFilter:t=>e((0,c.ww)(t)),updateCheckAll:t=>e((0,c.$)(t)),selectPostUpdate:(t,s)=>e((0,c.ax)(t,s)),dateRangeFilter:(t,s)=>e((0,c.AX)(t,s)),clickToPostStatusALL:t=>e((0,c.lg)(t)),clickToPostDeleteALL:()=>e((0,c.wi)()),searchTagsFilter:t=>e((0,c.cO)(t)),searchPostFilter:t=>e((0,c.HD)(t)),limitUpdate:t=>e((0,c.PH)(t)),onNextNavigateClick:()=>e((0,c.yH)()),onPrevNavigateClick:()=>e((0,c.Ec)()),onUpdatePage:t=>e((0,c.eJ)(t)),editpost:(t,s,a)=>e((0,c.L2)(t,s,a)),clickToRefresh:()=>e((0,c.LT)()),removeAllFilterBody:()=>e((0,c.ud)()),onUpdateTags:(t,s)=>e((0,c.K)(t,s)),onDeleteTags:(t,s)=>e((0,c.gM)(t,s)),removeCheckAll:t=>e((0,c.KN)(t)),updateCheckStatusAll:t=>e((0,c.$3)(t)),TOGGLE_ADD_GALLERY:t=>e({type:L.GSH,payload:t}),getUserInfo_afterChanges:()=>e((0,H.AW)()),GET_CTA_ACTION:()=>e((0,c.lU)()),ugcModal:t=>e((0,c.$k)(t)),clearUgcData:()=>e((0,c.nh)()),CLEAR_UGC_REQUEST_DATA:()=>e((0,c.Ao)())})))(a.memo((0,G.A)(It)))}}]);