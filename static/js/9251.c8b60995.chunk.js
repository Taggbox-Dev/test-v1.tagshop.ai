"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9251],{91600:(e,t,a)=>{a.d(t,{jL:()=>o});var s=a(66345),l=a(14313);localStorage.getItem("token");const o=e=>(new l.A).post("".concat(s.O2A),{htmlCode:e.htmlCode,type:e.type,email:e.email})},18038:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(9950),l=a(97937),o=a(45276),i=a(54810),n=a(44414);class r extends s.Component{constructor(e){super(e),this.handleClose=()=>{this.props.filterToggleCallback(!1)},this.state={width:window.innerWidth,isSavedList:!1},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){this.setState({width:window.innerWidth})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{filterToggle:e,heading:t,redirectUrl:a,isHide:s,closeAside:r}=this.props,{width:d}=this.state;return(0,n.jsxs)("div",{className:"aside__ border-end ".concat(d<1280?"offcanvas offcanvas-start ".concat(e?"show":""):""),id:"aside__toggle",children:[(0,n.jsx)("div",{className:"d-flex justify-content-end d-xl-none p-3 border-bottom",children:(0,n.jsx)(l.A,{variant:"secondary",id:"toggle_aside",size:"sm",className:"d-flex border-0 p-0",onClick:()=>r(),children:(0,n.jsx)("span",{className:"svg-icon",children:(0,n.jsx)(o.A,{className:"me-0",height:12,width:12,src:(0,i.pc)("/media/icons/fontAwesome/close.svg")})})})}),(0,n.jsx)("div",{className:"aside__body w-100",children:this.props.children})]})}}const d=r},68849:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(9950),l=a(47264),o=a(44414);class i extends s.Component{constructor(){super(...arguments),this.getMinicolrData=()=>{const{id:e,defaultColor:t}=this.props;var a=this;setTimeout((()=>{window.$("#".concat(e)).minicolors({control:"hue",defaultValue:t,letterCase:"lowercase",position:"bottom left",change:a.onChangeColor,theme:"bootstrap",value:t})}),100)},this.resetMiniColor=()=>{const{id:e,defaultColor:t}=this.props;var a=this;setTimeout((()=>{window.$("#".concat(e)).minicolors("settings",{control:"hue",defaultValue:t,letterCase:"lowercase",position:"bottom left",change:a.onChangeColor,theme:"bootstrap",value:t})}),100)},this.onChangeColor=(e,t)=>{e&&this.props.changeColor(e)}}componentDidMount(){this.getMinicolrData()}componentDidUpdate(e){1==e.colorChanged&&0==this.props.colorChanged&&this.resetMiniColor()}render(){const{id:e,defaultColor:t,isDisabled:a}=this.props;return(0,o.jsx)(l.A.Control,{size:"sm",className:"minicolors-input","data-control":"hue",id:e,value:t,disabled:a})}}},26806:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(51960),l=a(97937),o=a(54810),i=a(44414);const n=e=>{let{title:t,desc:a,button:n,icon:r,isFullScreen:d}=e;const c=d?86:66;return(0,i.jsx)("div",{className:"create_page_ rounded-0 mx-auto f-center w-100 h-100",children:(0,i.jsx)("div",{className:"py-5 text-center w-100 justify-content-center",children:(0,i.jsxs)("div",{className:"mx-auto px-4",style:{maxWidth:520},children:[(0,i.jsx)(s.A,{className:"mb-4",src:(0,o.pc)("/media/icons/color-icons/".concat(r,".svg")),height:c,width:c,alt:"",fluid:!0}),(0,i.jsx)("h2",{className:"text-center h3",children:t}),(0,i.jsx)("p",{className:"fs-8 text-muted fw-medium",children:a}),(0,i.jsx)(l.A,{onClick:()=>n.action(),size:d?"lg":"md",className:"my-3",children:n.text})]})})})}},18633:(e,t,a)=>{a.d(t,{a:()=>o});var s=a(54810),l=a(44414);const o=e=>{let{bg:t}=e;return(0,l.jsx)("div",{className:"loader__ position-absolute h-100 w-100 f-center top-0 start-0 bg-".concat(t," rounded-3"),children:(0,l.jsx)("img",{src:(0,s.pc)("media/images/spinner.gif"),height:70,width:70,alt:"Tagshop Spinner",className:"img-fluid"})})}},66261:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(9950),l=a(47264),o=a(44414);class i extends s.Component{render(){const{id:e,min:t,max:a,step:s,value:i,inheritStyle:n}=this.props;return(0,o.jsxs)("div",{className:"d-flex flex-column",children:[(0,o.jsx)(l.A.Range,{id:e,min:t,max:a,step:s,value:i,name:"range",onChange:e=>this.props.onChange(e.target.value),disabled:n}),(0,o.jsxs)("p",{className:"d-flex justify-content-between mb-0 fs-10 text-muted fw-medium",children:[(0,o.jsx)("span",{"data-min":e,children:t}),(0,o.jsx)("span",{"data-value":e,children:i})]})]})}}const n=i},58101:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(44268),l=a(47264),o=a(97937),i=a(9950),n=a(49157),r=a(52867),d=a(91600),c=a(44414);const h=e=>{let{from:t,text:a,heading:h,btnSendText:p,onClose:u,codeId:m}=e;const[g,v]=(0,i.useState)(!1),[x,_]=(0,i.useState)(!1),[b,y]=(0,i.useState)(""),[j,f]=(0,i.useState)([]),C=()=>{b.length>0&&!j.includes(b)&&(0,r.DT)(b)?(j.push(b),f(j),y(""),_(!1)):_(!0)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(s.A,{show:!0,onHide:u,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,c.jsx)(s.A.Header,{closeButton:!0,children:(0,c.jsx)(s.A.Title,{children:h})}),(0,c.jsx)(s.A.Body,{children:(0,c.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0 pt-4",style:{minHeight:320},children:[(0,c.jsx)("p",{className:"text-center mb-4",children:a}),(0,c.jsxs)("div",{className:"mb-3 mb-xl-4 d-flex align-items-start",children:[(0,c.jsxs)("div",{className:"d-flex flex-column w-100 pe-2",children:[(0,c.jsx)(l.A.Control,{className:"position-relative d-flex flex-grow-1 flex-column ".concat(x?"is-invalid":""),placeholder:"example@example.com",type:"text",value:b,onKeyDown:e=>"Enter"==e.key?C():null,onChange:e=>y(e.target.value)}),x&&(0,c.jsx)("div",{className:"invalid-feedback d-block",children:"Enter valid email."})]}),(0,c.jsx)(o.A,{variant:"primary",onClick:C,children:"Add"})]}),(0,c.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,c.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:j.length>0?j.map(((e,t)=>(0,c.jsxs)("div",{className:"badge bg-secondary text-gray-800 px-3 py-2  border me-2 mb-2",children:[(0,c.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,c.jsx)("button",{className:"btn btn-sm p-0 ms-1",onClick:()=>(e=>{const t=j.filter(((t,a)=>a!==e));f(t)})(t),children:(0,c.jsx)("i",{className:"btn-close"})})]},e.toString()))):null})})]})}),(0,c.jsx)(s.A.Footer,{className:"p-3",children:(0,c.jsxs)("div",{className:"mx-xl-4 px-2 px-lg-4 mx-0",children:[(0,c.jsx)(o.A,{type:"button",className:"btn btn-secondary btn-sm btn-min-w me-3",onClick:u,children:"Cancel"}),(0,c.jsx)(o.A,{disabled:!(j.length>0),type:"button",className:"btn btn-primary btn-sm btn-min-w ".concat(g?"spinner":""),onClick:()=>(()=>{if(v(!0),j.length>0){const e={email:j.toString(),type:"snapUp"==t?6:3,htmlCode:document.querySelector(m).innerText};(0,d.jL)(e).then((e=>{e.data.status?(v(!0),setTimeout((()=>{(0,n.Ti)(),"snapUp"==t?(0,r.k1)("Successfully shared."):(0,r.k1)("Code successfully shared."),v(!1),u()}),1e3)):(v(!1),(0,r.r$)(e.data.message))}))}else v(!1),(0,r.r$)("Please fill Email Id")})(j.toString()),children:p||"Share Code"})]})})]})})}},9676:(e,t,a)=>{a.d(t,{A:()=>b});var s=a(9950),l=a(34483),o=a(97937),i=a(54810),n=a(44268),r=a(47264),d=a(44414);const c=e=>{let{show:t,title:a,onCreate:l,onUpdate:i,editContent:c,handleClose:h,isStatus:p,contentList:u,spinner:m,onDelete:g}=e;const[v,x]=(0,s.useState)(null===c||void 0===c?void 0:c.name),[_,b]=(0,s.useState)(!1),[y,j]=(0,s.useState)(null===c||void 0===c?void 0:c.autoUpdate),[f,C]=(0,s.useState)(null===c||void 0===c?void 0:c.status),[A,w]=(0,s.useState)(!1),N=()=>{if(v&&v.length>0)if(u&&u.length>0){T(v).length>0?b(!0):l(v)}else l(v);else w(!0)},T=e=>u.filter((t=>String("Website"==a?t.wall.Wall.name:t.name).toLowerCase().trim()==String(e).toLowerCase().trim())),S=e=>{if(v&&v.length>0)if(u&&u.length>0){T(v).length>0?b(!0):i(e,v,f,y)}else i(e,v,f,y);else w(!0)};return(0,s.useEffect)((()=>{x(null===c||void 0===c?void 0:c.name),j(null===c||void 0===c?void 0:c.autoUpdate),C(null===c||void 0===c?void 0:c.status),w(!1),b(!1)}),[c]),(0,d.jsxs)(n.A,{show:t,size:"sm",onHide:h,id:"gallery_modal",centered:!0,children:[(0,d.jsx)(n.A.Header,{closeButton:!0,children:(0,d.jsxs)(n.A.Title,{children:[c&&Object.keys(c).length>0?"Edit":"Create"," ",a]})}),(0,d.jsxs)(n.A.Body,{children:[(0,d.jsxs)(r.A.Group,{className:"mb-4",children:[(0,d.jsx)(r.A.Control,{id:"g_name",className:"fw-semibold text-dark ".concat(A||_?"is-invalid":""),placeholder:"Enter Gallery Name",value:v,onChange:e=>x(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(c&&Object.keys(c).length>0?S(c.id):N())}}),A||_?(0,d.jsx)("span",{className:"invalid-feedback",children:_?"Name already exists.":"".concat(a," name is required")}):""]}),p&&c&&Object.keys(c).length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r.A.Group,{className:"f-between mb-4",children:[(0,d.jsx)(r.A.Label,{htmlFor:"gallery_a_u",children:"Auto Update"}),(0,d.jsx)(r.A.Check,{type:"switch",id:"gallery_a_u",defaultChecked:y,onChange:()=>j(!y)})]}),(0,d.jsxs)(r.A.Group,{className:"f-between mb-4",children:[(0,d.jsx)(r.A.Label,{htmlFor:"gallery_s",children:"Status"}),(0,d.jsx)(r.A.Check,{type:"switch",id:"gallery_s",defaultChecked:f,onClick:()=>C(!f)})]})]}):null]}),(0,d.jsx)(n.A.Footer,{children:c&&Object.keys(c).length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.A,{variant:"outline-danger",size:"sm",id:"web_close_btn",className:"me-3",onClick:()=>g(c.id),children:"Delete"}),(0,d.jsx)(o.A,{size:"sm",id:"web_update_btn",className:m?"spinner":"",onClick:()=>S(c.id),children:"Update"})]}):(0,d.jsx)(o.A,{size:"sm",id:"web_save_btn",className:m?"spinner":"",onClick:N,children:"Save"})})]})};var h=a(73878),p=a(28429),u=a(4695),m=a.n(u),g=a(22662),v=a(32417),x=a(25537),_=a(54480);const b=e=>{let{contentList:t,changeWebsite:a,selectedContent:n,title:r,isWebsite:u,method:b,addNew:y,noList:j}=e;const[f,C]=(0,s.useState)(!1),[A,w]=(0,s.useState)([]),[N,T]=(0,s.useState)(!1),S=(0,h.wA)(),P=(0,p.Zp)();(0,s.useEffect)((()=>{y&&C(!0)}),[y]);const D=(e,t,a)=>{C(!1),w([]),(r.includes("ShopOn")||r.includes("Email")||r.includes("Website"))&&(b&&b(a||""),E(),T(!1))},E=()=>{w([]),C(!1),r.includes("ShopOn")&&S({type:_.NBv,payload:!1}),r.includes("Email")&&S({type:_.uZc,payload:!1}),r.includes("Website")&&S({type:_.VtD,payload:!1})};return(0,d.jsxs)(d.Fragment,{children:[j?null:(0,d.jsxs)(l.A,{className:"w-100",children:[n?(0,d.jsx)(l.A.Toggle,{id:"web_switcher_btn",variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between bg-white p-1",children:(0,d.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,d.jsx)("div",{className:"symbol symbol-24 radius-2 flex-shrink-0 me-2",children:(0,d.jsx)(i.Ah,{icon:"website",height:20,width:20})}),(0,d.jsxs)("div",{className:"overflow-hidden",style:{maxWidth:130},children:[(0,d.jsx)("p",{className:"text-gray-800 fw-semibold mb-0 text-ellipsis fs-9 text-start",children:null===n||void 0===n?void 0:n.name}),(null===n||void 0===n?void 0:n.totalPost)&&(0,d.jsxs)("p",{className:"mb-0 fs-10 text-muted",children:[null===n||void 0===n?void 0:n.totalPost," Posts"]})]})]})}):(0,d.jsx)("div",{className:"w-100 sk_rect rounded-1 h-34px"}),(0,d.jsxs)(l.A.Menu,{className:"w-100",children:[null===t||void 0===t?void 0:t.map(((e,t)=>{var s;const r=u?null===e||void 0===e||null===(s=e.wall)||void 0===s?void 0:s.Wall:e;return(0,d.jsxs)("div",{className:"position-relative mb-1",children:[(0,d.jsx)(l.A.Item,{eventKey:null===r||void 0===r?void 0:r.id,onClick:()=>a(r),className:(null===r||void 0===r?void 0:r.id)==(null===n||void 0===n?void 0:n.id)?"active":"",children:(0,d.jsx)("div",{className:"menu-title",children:null===r||void 0===r?void 0:r.name})}),(0,d.jsx)("div",{className:"dropdown-action",children:(0,d.jsx)(o.A,{variant:"dropdown-icon",className:"web_edit",onClick:()=>{var t;return(e=>{w(e),C(!0)})(u?null===e||void 0===e||null===(t=e.wall)||void 0===t?void 0:t.Wall:e)},children:(0,d.jsx)(i.Ah,{icon:"ellipsis-vertical",height:20,width:20})})})]},t)})),(0,d.jsx)("div",{className:"mt-2 pt-2 border-top",children:(0,d.jsxs)(l.A.Item,{id:"add_web_btn",onClick:()=>C(!0),className:"f-center",children:[(0,d.jsx)("span",{className:"svg-icon svg-icon-9",children:(0,d.jsx)(i.Ah,{icon:"plus",height:10,width:10})}),(0,d.jsxs)("span",{className:"menu-title flex-grow-0",children:["New ",r]})]})})]})]}),(0,d.jsx)(c,{show:f,title:r,onCreate:e=>{T(!0),r.includes("Website")&&S((0,g.nE)(e,D,P)),r.includes("ShopOn")&&S((0,v.Lw)(e,D,P)),r.includes("Email")&&S((0,x.Gz)(e,D,P))},onUpdate:(e,t)=>{T(!0),r.includes("Website")&&S((0,g.G$)(e,t,D)),r.includes("ShopOn")&&S((0,v.wR)({id:e,name:t},D)),r.includes("Email")&&S((0,x.rK)(e,t,D))},editContent:A,handleClose:E,contentList:t,spinner:N,onDelete:e=>{m().fire({title:"Are You Sure?",text:"Are you sure you want to permanenetly delete this ".concat(r.toLowerCase()," template?"),icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((t=>{t.value&&(r.includes("Website")&&S((0,g.Q7)(e,D,P)),r.includes("ShopOn")&&S((0,v.IS)(e,D,P)),r.includes("Email")&&S((0,x.vt)(e,D,P)))}))}})]})}},17087:(e,t,a)=>{a.r(t),a.d(t,{default:()=>nt});var s=a(9950),l=a(45358),o=a(5216),i=a(80409),n=a(98361),r=a(97937),d=a(51960),c=a(54810),h=a(73878),p=a(93291),u=a(42074),m=a(66345),g=a(45276),v=a(86781),x=a(68459),_=a(75623),b=a(47264),y=a(21432),j=a(95942),f=a(98401),C=a(58101),A=a(52867),w=a(44414);const N=e=>{let{count:t}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-primary text-light fs-9 flex-shrink-0",style:{lineHeight:"20px"},children:t})};class T extends s.Component{constructor(){super(...arguments),this.state={width:100,height:100,widthPr:"%",heightPr:"%",copied:!1,wUnit:{value:"percent",label:"%"},hUnit:{value:"percent",label:"%"},searchData:[],isLoading:!1,searchPost:null,openDropdwn:!1,isPreview:!1,copied:!1},this.copyText=e=>{var t=document.getElementById("wallembedareaLiteCode03").value;navigator.clipboard.writeText(t),this.setState({copied:!0}),setTimeout((()=>{this.setState({copied:!1})}),1e3)},this.changeSizeUnit=(e,t,a,s)=>{this.setState({[e]:t,[a]:"%"==t.label&&Number(s)>100?100:s})},this.changeSize=(e,t,a)=>{const{hUnit:s,wUnit:l}=this.state,o=Math.max(0,"%"===a.label?Math.min(100,e.target.value):e.target.value);this.setState({[t]:o})},this.setOpenPopup=e=>{this.setState({openPopup:!1})},this.copyText=e=>{(0,A.x_)(e),this.setState({copied:!0}),setTimeout((()=>{this.setState({copied:!1})}),1e3)}}render(){const{width:e,height:t,widthPr:a,heightPr:s,wUnit:l,openPopup:o,searchData:i,openDropdwn:n,isPreview:d,copied:h,hUnit:p}=this.state,{platform:u,galleryType:A,allTags:T,count:S,dataTag:P}=this.props;var D=S;const E=[{value:"percent",label:"%"},{value:"pixel",label:"PX"}];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(N,{count:D}),"Adjust the width and height of the Gallery as per your requirement"]}),(0,w.jsxs)(v.A,{className:"embed_size_ mb-5",style:{maxWidth:991},children:[(0,w.jsx)(x.A,{children:(0,w.jsxs)(_.A,{className:"mb-3",children:[(0,w.jsx)(_.A.Text,{id:"width_",children:"Width"}),(0,w.jsx)(b.A.Control,{type:"number",max:"%"==l.label?"100":"",min:0,value:e,onChange:e=>this.changeSize(e,"width",l)}),(0,w.jsx)(_.A.Text,{className:"p-0",children:(0,w.jsx)(f.Ay,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",value:l,isSearchable:!1,options:E,onChange:t=>this.changeSizeUnit("wUnit",t,"width",e)})})]})}),(0,w.jsx)(x.A,{children:(0,w.jsxs)(_.A,{className:"mb-3",children:[(0,w.jsx)(_.A.Text,{id:"height_",children:"Height"}),(0,w.jsx)(b.A.Control,{type:"number",max:"%"==p.label?"100":"",min:0,value:t,onChange:e=>this.changeSize(e,"height",p)}),(0,w.jsx)(_.A.Text,{className:"p-0",children:(0,w.jsx)(f.Ay,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",value:p,isSearchable:!1,options:E,onChange:e=>this.changeSizeUnit("hUnit",e,"height",t)})})]})})]}),2==A?(0,w.jsxs)("div",{className:"mb-7",children:[(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(N,{count:D+1}),"Add your Product ID identifier variable after the Data Filter ID section in the publish code in Step 3"]}),(0,w.jsx)("div",{className:"ps-8",children:(0,w.jsxs)("p",{children:["For Example: ",(0,w.jsx)("span",{className:"text-muted",children:'data-filter-id="{{product-id}}"'})]})})]}):null,(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(N,{count:D+(2==A?2:1)}),1==u?"Copy the generated Publish Code for your HTML gallery":2==u?"Copy the below given Publish Code for your Shopify gallery":3==u?"Copy the generated Publish Code for your WordPress gallery":4==u?"Copy the generated Publish Code for your Prestashop gallery":5==u?"Copy the generated Publish Code for your Bigcommerce gallery":6==u?"Copy the generated Publish Code for your Magento gallery":7==u?"Copy the generated Publish Code for your gallery":""]}),(0,w.jsxs)("div",{className:"position-relative mb-7 embed_code embed_code_box iframe_embcode_box rounded-3",children:[(0,w.jsx)("div",{className:"embed-border bg-light p-2",children:(0,w.jsx)("code",{className:"form-control textarea-min-row-4 p-lg-4 fs-10",id:"embed_code_",onClick:()=>{this.copyText("embed_code_")},children:1==A?'<div class="tagshop" style="width:'.concat(e).concat(l.label,";height:").concat(t).concat(p.label,';overflow: auto;"><div class="tagshop-socialwall" data-wall-id="').concat(localStorage.getItem("website_id"),'" data-source="website"></div><script src="').concat(m.gEI).concat("139294"==localStorage.getItem("ownerId")?"khaadi/":"",'embed-lite.min.js" type="text/javascript"><\/script></div>'):2==A?'<div class="tagshop" style="width:'.concat(e).concat(l.label,";height:").concat(t).concat(p.label,';overflow: auto;"><div class="tagshop-socialwall" data-wall-id="').concat(localStorage.getItem("website_id"),'" data-filter-type="product" data-filter-id="').concat("HTML"==this.props.source?"0":"{{product.id}}",'"  data-source="website"></div><script src="').concat(m.gEI).concat("139294"==localStorage.getItem("ownerId")?"khaadi/":"",'embed-lite.min.js" type="text/javascript"><\/script></div>'):3==A?'<div class="tagshop" style="width:'.concat(e).concat(l.label,";height:").concat(t).concat(p.label,';overflow: auto;"><div class="tagshop-socialwall" data-wall-id="').concat(localStorage.getItem("website_id"),'"  data-tags="').concat(P?"true":"false",'" data-keywords="').concat(T&&T.length&&P?T.join(","):"",'" data-source="website" ></div><script src="').concat(m.gEI).concat("139294"==localStorage.getItem("ownerId")?"khaadi/":"",'embed-lite.min.js" type="text/javascript"><\/script></div>'):null})}),(0,w.jsxs)("div",{className:"position-absolute end-0 bottom-0 pe-5 pb-5",children:[(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:h?"Code Copied":"Copy Code"}),children:(0,w.jsx)(r.A,{variant:"link",className:"text-gray-300 p-0 me-4",onClick:()=>this.copyText("embed_code_"),children:h?(0,w.jsx)(g.A,{className:"mx-0 h-14px w-14px text-success",src:(0,c.pc)("media/icons/fontAwesome/check.svg"),height:14,width:14}):(0,w.jsx)(g.A,{className:"mx-0 h-14px w-14px",src:(0,c.pc)("media/icons/fontAwesome/copy.svg"),height:14,width:14})})}),(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:"Share Code"}),children:(0,w.jsx)(r.A,{variant:"link",className:"text-gray-300 p-0 GetShareCode",onClick:e=>this.setState({openPopup:!0}),children:(0,w.jsx)(g.A,{className:"mx-0 h-14px w-14px",src:(0,c.pc)("media/icons/fontAwesome/envelope.svg"),height:14,width:14})})})]})]}),o?(0,w.jsx)(C.A,{text:"Share this embed code with your team. Enter the email Id to send the code directly to them",heading:"Send code by email",onClose:e=>this.setState({openPopup:!1}),codeId:"#embed_code_"}):null]})}}var S=a(49157);const P=e=>{let{count:t}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-primary text-light fs-9 flex-shrink-0",style:{lineHeight:"20px"},children:t})};class D extends s.Component{constructor(){super(...arguments),this.state={searchData:[],isLoading:!1,searchPost:null,isPreview:!1,dataTag:!1,copied:!1},this.copyText=e=>{var t=document.getElementById("wallembedareaLiteCode03").value;navigator.clipboard.writeText(t),this.setState({copied:!0}),setTimeout((()=>{this.setState({copied:!1})}),1e3)},this.onLoad=(0,A.sg)((e=>{var t=e;t.length>0?(this.setState({isLoading:!0}),(0,S.JT)(t).then((e=>{const{tags:t,status:a}=e.data;let s=[];a?(t.length>0&&(s=t.map(((e,t)=>({label:e,value:t})))),this.setState({searchData:s,isLoading:!1})):this.setState({searchData:[],isLoading:!0})}))):this.setState({searchData:[],isLoading:!1})}),500),this.onClickToAddTags=e=>{const{allTags:t}=this.props;t.includes(e.label)||this.props.ADD_SELECTED_TAGS(e.label)},this.removeTags=e=>{this.props.REMOVE_SELECTED_TAGS(e),setTimeout((()=>{this.onTagsEmbedSave(3)}),500)},this.onTagsEmbedSave=e=>{const{allTags:t}=this.props;1==e&&(this.setState({isPreview:!1}),t.length>0&&this.setState({dataTag:!0},(()=>this.props.updateData(!0))),(0,A.k1)("Embed code generated successfully.")),2==e&&(t.length>0?this.setState({isPreview:!0,dataTag:!0},(()=>this.props.updateData(!0))):(0,A.r$)("Please select tag.")),3==e&&(t.length>0||this.setState({isPreview:!1,dataTag:!1},(()=>this.props.updateData(!1)))),(0,S.q4)(t).then((e=>{const{tags:t,status:a}=e.data;a?this.setState({searchData:t,isLoading:!1}):this.setState({searchData:[],isLoading:!0})}))}}componentDidMount(){this.props.allTags.length>0&&this.setState({dataTag:!0})}render(){const{searchData:e,isPreview:t,dataTag:a,isLoading:s}=this.state,{allTags:l,count:o}=this.props;(null===l||void 0===l?void 0:l.length)>0&&l.map(((e,t)=>({label:e,value:t})));return(0,w.jsxs)("div",{style:{maxWidth:991},children:[(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(P,{count:o}),"Select your tags"]}),(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsx)(f.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",options:e,onInputChange:(e,t)=>{let{action:a}=t;return this.onLoad(e,a)},onChange:e=>this.onClickToAddTags(e),isLoading:s,placeholder:"Search for options...",noOptionsMessage:()=>s?"Loading...":"No options found",value:""})}),(0,w.jsx)("div",{className:"mb-1",children:(0,w.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:l.length>0?l.map(((e,t)=>(0,w.jsxs)("div",{"data-id":"tag",className:"badge bg-secondary text-gray-800 px-3 py-2 border me-2 mb-2",children:[(0,w.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,w.jsx)("button",{"data-id":"remove-tag",className:"btn btn-sm p-0 ms-1",onClick:()=>this.removeTags(e),children:(0,w.jsx)("i",{className:"btn-close"})})]},t))):null})})]}),(0,w.jsxs)("div",{className:"px-lg-3 mb-5",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-5",children:[(0,w.jsxs)(r.A,{id:"generate_code_",className:"me-2",disabled:!(l.length>0),onClick:()=>this.onTagsEmbedSave(1),children:[(0,w.jsx)(c.Ah,{icon:"fleshlight",height:14,width:14}),"Generate Code"]}),(0,w.jsx)(r.A,{id:"preview_btn_",variant:"secondary",disabled:!(l.length>0),onClick:()=>this.onTagsEmbedSave(2),children:"Preview"})]}),t?(0,w.jsx)("div",{className:"tag_iframe_preview mb-5 border p-1 rounded-1",children:(0,w.jsx)("iframe",{id:"tag_preview",src:"".concat(m.gEI).concat(localStorage.getItem("website_id"),"/editor?tags=true&keywords=").concat(a&&l.length>0?l.join(","):"","&website=true")})}):""]})]})}}const E=(0,h.Ng)((e=>{const{allTags:t}=e;return{allTags:null===t||void 0===t?void 0:t.selectedTags}}),(e=>({ADD_SELECTED_TAGS:t=>e((0,S.wR)(t)),REMOVE_SELECTED_TAGS:t=>e((0,S.fX)(t))})))(D);var k=a(4695),I=a.n(k),L=a(83045),O=a(59051),R=a.n(O),F=a(19360),z=a(1093);const H=e=>{let{toolTip:t,clickAction:a,iconImg:s}=e;return(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:t}),children:(0,w.jsx)(r.A,{id:"action-".concat(s),variant:"icon",className:"btn-active-primary ms-2",onClick:e=>a(),children:(0,w.jsx)(c.Ah,{icon:s,height:12,width:12})})})},B=e=>{let{ShopifyData:t,themeoption:a,showSection:l,themepageoption:o,galleryoptions:i,positionoption:n,publishGallery:d,onChangePages:c,onThemeChange:h,onSectionChange:p,deleteGallery:u,publishOption:m,onPositionChange:g,requestShopify:_,galleryType:b,pageData:y,page:j,themeSection:C,section:A,positions:N,position:T}=e;const[S,P]=(0,s.useState)(!(t&&t.embedData&&t.embedData.length>0)),[D,E]=(0,s.useState)(!1),k=()=>{E(!1),P(!1)};return(0,s.useEffect)((()=>{P(!(t&&t.embedData&&t.embedData.length>0))}),[t]),t&&t.storThemes&&t.pages?(0,w.jsx)(w.Fragment,{children:S?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h5",{className:"mb-3",children:"Automatic Publishing"}),(0,w.jsx)("p",{children:"Just select your shopify page, theme, position of gallery, and then click on Publish Gallery."}),(0,w.jsxs)(v.A,{children:[(0,w.jsxs)(x.A,{sm:6,children:[(0,w.jsx)("label",{className:"text-dark font-weight-bold",children:"Select Your Shopify Landing Page"}),t.pages?t.pages?(0,w.jsx)(f.Ay,{options:y,value:j,onChange:c},"".concat(b,"_").concat(m)):(0,w.jsx)("select",{name:"",className:"form-control kt-selectpicker change-theme",children:(0,w.jsx)("option",{value:"",disabled:"",children:"Select Page"})}):(0,w.jsx)("p",{className:"sk_line sk_line_height_30 rounded sk_line_40 m-0 mb-3 sk_line_100"})]}),(0,w.jsxs)(x.A,{sm:6,children:[(0,w.jsxs)("label",{className:"text-dark font-weight-bold",children:["Select Dawn Theme ",2==m?"Product Page":"Home Page","  Section"]}),_?(0,w.jsx)("p",{className:"sk_line sk_line_height_30 rounded sk_line_40 m-0 mb-3 sk_line_100"}):C&&C.length?(0,w.jsx)(f.Ay,{id:"themepageoption".concat(m),options:C,defaultValue:A,onChange:p},"".concat(o,"_").concat(m)):(0,w.jsx)("select",{name:"",className:"form-control kt-selectpicker change-theme",children:(0,w.jsx)("option",{value:"",disabled:"",children:"Select Page"})})]}),(0,w.jsxs)(x.A,{sm:6,children:[(0,w.jsxs)("label",{className:"text-dark font-weight-bold",htmlFor:"position-bottom",children:["Position of Gallery on ",2==m?"Product ":""," Page"]}),(0,w.jsx)(f.Ay,{id:"Position".concat(m),options:N,onChange:g,defaultValue:T},"".concat(n,"_").concat(m))]})]}),(0,w.jsx)(r.A,{className:D?"spinner":"",onClick:()=>{E(!0),d(k)},children:"Publish Gallery"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(v.A,{children:[(0,w.jsxs)(x.A,{sm:8,children:[(0,w.jsx)("h5",{className:"mb-3",children:"Manage Published Galleries"}),(0,w.jsx)(F.A,{variant:"warning",style:{maxWidth:991},children:"Please Note: Manually installed plugins will not appear in this list"})]}),(0,w.jsx)(x.A,{sm:4,children:(0,w.jsx)("div",{className:"d-flex justify-content-center justify-content-lg-end",children:(0,w.jsx)(r.A,{onClick:()=>P(!0),children:"Add Automatic Publishing"})})})]}),(0,w.jsxs)(z.A,{responsive:!0,children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{children:"Page"}),(0,w.jsx)("th",{children:"Position"}),(0,w.jsx)("th",{children:"Date Installed"})]})}),(0,w.jsx)("tbody",{children:t&&t.embedData&&t.embedData.length?t.embedData.map(((e,t)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:e.pageTitle}),(0,w.jsx)("td",{children:e.position}),(0,w.jsxs)("td",{className:"text-nowrap",children:[R()(e.createdAt).format("MMMM DD, YYYY, hh:mm:ss A")," "]}),(0,w.jsx)("td",{className:"text-right",children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,w.jsx)(H,{toolTip:"View",clickAction:()=>window.open("//".concat(e.domain)),iconImg:"eye-solid"}),(0,w.jsx)(H,{toolTip:"Remove",clickAction:()=>u(e.id),iconImg:"delete"})]})})]},t))):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colspan:"3",className:"text-center text-muted py-5 mt-4 border-bottom w-100",style:{display:"table-cell"},children:"Data Not Found"})})})]})]})}):(0,w.jsx)("h1",{children:"Loading...."})};var U=a(5933);const W=e=>{let{count:t}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-primary text-light fs-9 flex-shrink-0 flex-shrink-0",style:{lineHeight:"20px"},children:t})};class G extends s.Component{constructor(){super(...arguments),this.state={theme:"",page:"",section:"",position:{label:"Top",value:"0"},pageData:[],themeSection:!1,copied:!1,defaultActiveKey:"automatic_publishing",positions:[{label:"Top",value:"0"},{label:"Bottom",value:"1"}],dataTag:!1},this.copyText=e=>{(0,A.x_)(e),this.setState({copied:!0}),setTimeout((()=>{this.setState({copied:!1})}),1e3)},this.setShopifyData=()=>{var e,t;const{ShopifyData:a,publishOption:s}=this.props;let l=[],o=[],i=[];null===(e=Object.entries(a.storThemes.length?a.storThemes[0]:""))||void 0===e||e.map((e=>{let[t,a]=e;return l.push({label:t,value:"".concat(a.dawn,",").concat(a.id)})})),a.themeSection.length&&a.themeSection.map((e=>i.push({value:e.section,label:e.title}))),null===(t=Object.entries(a.pages))||void 0===t||t.map((e=>{let[t,a]=e;return o.push({label:t,value:"".concat(t,",").concat(a)})})),this.setState({pageData:o,theme:l&&l.length?l[0].value:"",page:o&&o.length?o[0]:"",section:i&&i.length?i[0]:"",themeSection:i,position:this.state.positions[0]})},this.onThemeChange=e=>this.setState({theme:e.value}),this.onSectionChange=e=>this.setState({section:e}),this.onPositionChange=e=>this.setState({position:e}),this.onChangePages=e=>{e.value.includes("HomePage"),this.setState({page:e})},this.publishGallery=e=>{const{theme:t,page:a,section:s,position:l}=this.state,{publishOption:o}=this.props;var i={wallId:localStorage.getItem("website_id"),theme:t,page:a.value,section:s.value,position:String(l.label).toLowerCase()};this.props.PUBLISH_SHOPIFY_GALLERY(i,e,o)},this.deleteGallery=e=>{const{publishOption:t}=this.props;I().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then((a=>{a.value?((new FormData).append("id",e),this.props.DELETE_SHOPIFY_PUBLISHED(e,t)):a.dismiss}))}}componentDidMount(){const{ShopifyData:e,publishOption:t}=this.props;e&&e.storThemes&&e.pages?this.setShopifyData():this.props.GET_SHOPIFY_PUBLISH_DATA()}componentDidUpdate(e,t){if(this.props.ShopifyData!==e.ShopifyData){const{ShopifyData:e,publishOption:t}=this.props;e&&e.storThemes&&e.pages&&this.setShopifyData()}this.props.galleryType!=e.galleryType&&this.setState({defaultActiveKey:"automatic_publishing"})}render(){const{ShopifyData:e,galleryType:t,allTags:a}=this.props,{pageData:s,themeSection:l,copied:o,page:n,section:d,positions:h,position:p,dataTag:u,defaultActiveKey:m}=this.state;return(0,w.jsxs)("div",{className:"afterPublish_screen",children:[3!=t?(0,w.jsxs)(L.A,{activeKey:m,onSelect:e=>this.setState({defaultActiveKey:e}),id:"justify-tab-example",className:"mb-3",children:[(0,w.jsx)(i.A,{eventKey:"automatic_publishing",title:"Automatic Publishing",children:(0,w.jsx)(B,{galleryType:t,ShopifyData:e,pageData:s,page:n,onChangePages:this.onChangePages,onSectionChange:this.onSectionChange,section:d,themeSection:l,positions:h,position:p,publishGallery:this.publishGallery,deleteGallery:this.deleteGallery})}),console.log(t,"GALLErY"),1==t?(0,w.jsx)(i.A,{eventKey:"theme_ex",title:"Theme App Extension",children:(0,w.jsxs)(v.A,{children:[(0,w.jsxs)(x.A,{children:[(0,w.jsx)("h5",{className:"mb-3",children:"Theme App Extension"}),(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(W,{count:1})," Go to your Shopify admin account."]}),(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(W,{count:2})," Click on Online store from the side menu & and then click on Customize button on the right side."]}),(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(W,{count:3}),' Now, where ever you want to add your Gallery, click on Add section from the left side menu Select the second tab "App", you will see the Tagshop Gallery, click on it.']}),(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(W,{count:4})," You will see the new section has been added, click on it."]}),(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(W,{count:5})," Copy the website ID mentioned below & it will start reflecting."]}),(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-start ps-8 mb-5",children:[(0,w.jsx)("span",{className:"fw-bold",children:"Website ID:"}),(0,w.jsxs)("div",{className:"position-relative embed_code embed_code_box iframe_embcode_box rounded-3 ms-2",children:[(0,w.jsx)("code",{className:"form-control fs-9 pe-10 fw-bold",id:"web_id_",onClick:()=>{this.copyText("web_id_")},children:localStorage.getItem("website_id")}),(0,w.jsx)("div",{className:"position-absolute end-0 top-0 me-2 h-100 f-center",children:(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:o?"Code Copied":"Copy Code"}),children:(0,w.jsx)(r.A,{variant:"link",className:"text-gray-300",onClick:()=>this.copyText("web_id_"),children:o?(0,w.jsx)(c.Ah,{icon:"check",height:16,width:16,iconClass:"mx-0 h-16px w-16px text-success"}):(0,w.jsx)(c.Ah,{icon:"copy",height:16,width:16,iconClass:"mx-0 h-16px w-16px"})})})})]})]}),(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(W,{count:6})," You can also edit the Title & Sub-title of your Shoppable gallery."]})]})]}),(0,w.jsx)(x.A,{children:(0,w.jsx)("div",{className:"d-flex justify-content-end",children:(0,w.jsx)("video",{className:"w-100",width:"320",height:"500",poster:(0,c.pc)("media/video/shopify-extension.png"),controls:!1,autoPlay:!0,loop:!0,children:(0,w.jsx)("source",{src:(0,c.pc)("media/video/shopify-extension.mp4"),type:"video/mp4"})})})})]})}):null,(0,w.jsxs)(i.A,{eventKey:"manual_publish",title:"Manual Publishing",children:[3==t?(0,w.jsx)(E,{allTags:a,count:1,updateData:e=>this.setState({dataTag:e})}):null,(0,w.jsx)("div",{className:"px-lg-3",children:(0,w.jsx)(T,{platform:2,galleryType:t,dataTag:u,allTags:a,count:3==t?2:1})})]})]}):null,3==t?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(E,{allTags:a,count:1,updateData:e=>this.setState({dataTag:e})}),(0,w.jsx)("div",{className:"px-lg-3",children:(0,w.jsx)(T,{platform:2,galleryType:t,dataTag:u,allTags:a,count:3==t?2:1})})]}):null]})}}const Y=(0,h.Ng)((e=>{var t,a,s;return{ShopifyData:null===(t=e.ShopifyData)||void 0===t?void 0:t.ShopifyData,activeWebsite:null===(a=e.websiteList)||void 0===a?void 0:a.activeWebsite_id,allTags:null===(s=e.allTags)||void 0===s?void 0:s.selectedTags}}),(e=>({PUBLISH_SHOPIFY_GALLERY:(t,a)=>e((0,U.aQ)(t,a)),DELETE_SHOPIFY_PUBLISHED:t=>e((0,U.gc)(t)),GET_SHOPIFY_PUBLISH_DATA:()=>e((0,U.Pg)())})))(G),V=e=>{let{count:t}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-primary text-light fs-9 flex-shrink-0",style:{lineHeight:"20px"},children:t})};class M extends s.Component{constructor(){super(...arguments),this.state={searchData:[],isLoading:!1,searchPost:null,openDropdwn:!1,isPreview:!1,dataTag:!1,copied:!1}}render(){const{platform:e,galleryType:t,allTags:a,isShopify:s}=this.props,{dataTag:l}=this.state,o=3==t?"Using Tags":"";return(0,w.jsx)("div",{className:"mb-10 pb-10",children:s?(0,w.jsx)(Y,{galleryType:t,allTags:a}):(0,w.jsxs)("div",{children:[1==e?(0,w.jsxs)("h5",{className:"mb-5",children:["Publish On HTML Website ",o]}):2==e?(0,w.jsxs)("h5",{className:"mb-5",children:["Publish Shoppable Gallery on Shopify ",o]}):3==e?(0,w.jsxs)("h5",{className:"mb-5",children:["Publish On WordPress Website ",o]}):4==e?(0,w.jsxs)("h5",{className:"mb-5",children:["Publish On Prestashop Website ",o]}):5==e?(0,w.jsxs)("h5",{className:"mb-5",children:["Publish Shoppable Gallery on Bigcommerce ",o]}):6==e?(0,w.jsxs)("h5",{className:"mb-5",children:["Publish On Magento Website ",o]}):7==e?(0,w.jsxs)("h5",{className:"mb-5",children:["Publish On Your Website ",o]}):"",2==e||5==e?(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsxs)("div",{className:"rounded-1 border d-flex p-lg-5 p-4 align-items-center mb-5",children:[(0,w.jsxs)("div",{className:"d-flex flex-grow-1 align-items-center",children:[(0,w.jsx)(d.A,{className:"me-2",src:(0,c.pc)("/media/logo/tagshop-icon.svg"),height:50,width:50,fluid:!0}),(0,w.jsxs)("div",{className:"d-flex flex-column",children:[(0,w.jsx)("p",{className:"h3 mb-1",children:"Tagshop App"}),(0,w.jsx)("p",{className:"mb-0",children:(0,w.jsx)(u.N_,{id:"instruction_link",target:"_blank",to:2==e?"https://tagshop.ai/support/taggbox-shopify-app/":"https://tagshop.ai/support/how-to-use-tagshop-bigcommerce-app/",className:"fw-medium",children:"Installation Instructions"})})]})]}),(0,w.jsx)("div",{children:(0,w.jsx)(u.N_,{id:"install_app",target:"_blank",to:2==e?"https://apps.shopify.com/instagram-shop?utm_source=Commerce&utm_medium=Editor&utm_campaign=Shopify-app":"https://www.bigcommerce.com/apps/taggshop/",className:"btn btn-primary",children:"Install App"})})]}),(0,w.jsx)("div",{className:"f-center border-top my-10",children:(0,w.jsx)("span",{className:"h-40px w-40px bg-white text-dark fs-7 f-center fw-semibold rounded-circle border",style:{marginTop:-20},children:"OR"})})]}):null,2==e?(0,w.jsx)("h5",{className:"mb-5",children:"Publish Gallery On Shopify Using HTML Code"}):5==e?(0,w.jsx)("h5",{className:"mb-5",children:"Publish Gallery On Bigcommerce Using HTML Code"}):"",3==t?(0,w.jsx)(E,{allTags:a,count:1,updateData:e=>this.setState({dataTag:e})}):null,(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsx)(T,{platform:e,galleryType:t,allTags:a,count:0+t==3?2:1,dataTag:l}),1==e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(V,{count:0+t!=1?4:3})," Paste the publish code into the backend of the page"]}),(0,w.jsxs)("div",{className:"ps-8",children:[(0,w.jsxs)("p",{children:["Simply log in to your ",(0,w.jsx)("strong",{children:"HTML website"})," and select the landing page where you wish to publish your gallery"]}),(0,w.jsx)("p",{children:"Paste the publish code into the backend of the page"}),(0,w.jsx)("p",{children:"Apply the required changes and Voila! You will have successfully published the shoppable gallery on your website"})]})]}):2==e?(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(V,{count:0+t!=1?4:3})," Paste the Publish code into the HTML of your shopify webpage"]}):3==e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(V,{count:0+t!=1?4:3})," Paste the publish code into the backend of the page"]}),(0,w.jsxs)("div",{className:"ps-8",children:[(0,w.jsx)("p",{children:"Log in to your WordPress"}),(0,w.jsx)("p",{children:"Select and edit the page where you want to publish the gallery and apply changes to display it on your website"}),(0,w.jsx)("p",{children:"Click on (+) to add new block and choose custom HTML"}),(0,w.jsx)("p",{children:"Paste the copied code"}),(0,w.jsx)("p",{children:"Click on Publish/Update post and You're Done!"})]})]}):4==e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(V,{count:0+t!=1?4:3})," Paste the publish code into the backend of the page"]}),(0,w.jsxs)("div",{className:"ps-8",children:[(0,w.jsxs)("p",{children:["Simply log in to your ",(0,w.jsx)("strong",{children:"HTML website"})," and select the landing page where you wish to publish your gallery"]}),(0,w.jsx)("p",{children:"Paste the publish code into the backend of the page"}),(0,w.jsx)("p",{children:"Apply the required changes and Voila! You will have successfully published the shoppable gallery on your website"})]})]}):5==e?(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(V,{count:0+t!=1?4:3})," Paste the Publish code into the HTML of your Bigcommerce webpage"]}):6==e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(V,{count:0+t!=1?4:3})," Paste the publish code into the backend of the page"]}),(0,w.jsxs)("div",{className:"ps-8",children:[(0,w.jsxs)("p",{children:["Log into your ",(0,w.jsx)("strong",{children:"Magento account"})]}),(0,w.jsx)("p",{children:"Navigate on the webpage in your Magento website where you want to showcase the Shoppable Gallery."}),(0,w.jsx)("p",{children:"Paste the copied publish code and click on Apply to complete the process"}),(0,w.jsx)("p",{children:"Tadaa! you have now published the Shoppable gallery on Magento website."})]})]}):7==e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(V,{count:0+t!=1?4:3})," Paste the publish code into the backend of the page"]}),(0,w.jsxs)("div",{className:"ps-8",children:[(0,w.jsx)("p",{children:"Here you can publish a Gallery on your website using either Javascript code or Iframe."}),(0,w.jsx)("p",{children:"Copy the Generated code from tagshop Code Generator"}),(0,w.jsx)("p",{children:"You can also adjust the height and width of your Shoppable Gallery before Generating a code"}),(0,w.jsx)("p",{children:"Paste the Code on the backend of your website and save it."}),(0,w.jsx)("p",{children:"You\u2019re Done!"})]})]}):(0,w.jsx)(w.Fragment,{})]})]})})}}class K extends s.Component{constructor(){super(...arguments),this.state={homePopup:!1,productPopup:!1,tagPopup:!1,mainContainer:!0,emailPopup:!1}}componentDidMount(){this.props.GET_SELECTED_TAGS()}render(){const{allTags:e,platform:t,clickToClosePublish:a,closePopup:s,isShopify:l,isBigCommerce:i,galleryType:n}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(M,{platform:t,galleryType:n,allTags:e,closePopup:s,isShopify:l,isBigCommerce:i}),(0,w.jsx)(o.A.Footer,{className:"f-center justify-content-start position-absolute bottom-0 start-0 w-100 bg-white",style:{height:67},children:(0,w.jsxs)("div",{className:"",children:[(0,w.jsx)("p",{className:"my-2 text-muted d-inline",children:"Don\u2019t know how to install code? Reach out to our support team at"}),(0,w.jsx)(g.A,{className:"mx-2",src:(0,c.pc)("media/icons/fontAwesome/angle-right.svg"),height:12,width:12}),(0,w.jsx)(u.N_,{className:"fw-bold text-priamry",to:"mailto:support@tagshop.ai",children:"support@tagshop.ai"})]})})]})}}const J=(0,h.Ng)((e=>{const{allTags:t}=e;return{allTags:null===t||void 0===t?void 0:t.selectedTags}}),(e=>({GET_SELECTED_TAGS:()=>e((0,S.B9)())})))(K);class q extends s.Component{constructor(){super(...arguments),this.embedCode=()=>{window.isTagShop=!0,window.preview=!0;var e="".concat(m.gEI).concat("139294"==localStorage.getItem("ownerId")?"khaadi/":"","embed.json");fetch(e).then((e=>e.json())).then((e=>{const{css:t,id:a,script:s}=e;let l=document.createElement("link");l.setAttribute("type","text/css"),l.setAttribute("rel","stylesheet"),l.setAttribute("href",t),document.head.appendChild(l);let o=document.createElement("script");o.setAttribute("src",s),document.body.appendChild(o)}))},this.onLoadRemoveCss=()=>{try{const e=document.querySelectorAll("link[type='text/css']"),t=Array.from(e).find((e=>"preview_embed_css"===e.id));t.parentNode.removeChild(t)}catch(e){}},this.onLoadRemoveScript=()=>{try{const e=document.querySelectorAll("script[type='text/javascript']"),t=Array.from(e).find((e=>"preview_embed_js"===e.id));t.parentNode.removeChild(t)}catch(e){}}}componentDidMount(){this.embedCode()}componentWillUnmount(){this.onLoadRemoveScript(),this.onLoadRemoveCss()}render(){const e="root_taggShopRoot";return(0,w.jsx)("div",{className:"tagshop",children:(0,w.jsx)("div",{className:"tagshop-socialwall","data-wall-id":localStorage.getItem("website_id"),"data-source":"website","data-is-load":"0","data-render-id":e,id:"co_".concat(e),children:(0,w.jsx)("div",{id:e})})})}}const Z=(0,s.memo)(q);var $=a(79163),X=a(22281),Q=a(34483);class ee extends s.Component{render(){const{galleryType:e,changeGalleryType:t,changePlatform:a,platform:s,isShopify:l}=this.props,o=[{title:"Homepage & Landing Page",desc:"To publish your shoppable gallery on your online store\u2019s homepage, category page, inspiration page, lookbooks, or any other pages.",icon:"page",color:"#9496C8",value:1},{title:"Product Page Galleries",desc:"To publish the shoppable gallery on your online store\u2019s product pages where posts will be filtered based on each Product ID.",icon:"gallery",color:"#7DC0AE",value:2},{title:"Tag-based Shoppable Gallery",desc:"Filter your gallery by Tags and publish the tag-based gallery anywhere on your online store.",icon:"image",color:"#FF9E9E",value:3}];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"p-4",children:[(0,w.jsx)("h5",{children:"Gallery Type"}),l?(0,w.jsx)($.A,{type:"radio",name:"galleryType",defaultValue:e,className:"mb-2 flex-column",onChange:t,children:o.map(((t,a)=>(0,w.jsxs)(X.A,{variant:"outline-secondary",id:"gt-".concat(t.value),className:"p-4 text-start flex-column align-items-start w-100 mb-3 bg-white ".concat(t.value==e?"border-primary":""),value:t.value,style:{minHeight:130},children:[(0,w.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,w.jsx)("span",{className:"f-center me-2",style:{color:t.color},children:(0,w.jsx)(g.A,{src:(0,c.pc)("media/icons/color-icons/".concat(t.icon,".svg")),height:20,width:20})}),(0,w.jsx)("span",{className:"h5 mb-0",children:t.title})]}),(0,w.jsx)("p",{className:"mb-0 fs-8 text-wrap text-muted fw-noraml",children:t.desc})]})))}):(0,w.jsxs)(Q.A,{className:"w-100",onSelect:t,children:[(0,w.jsx)(Q.A.Toggle,{variant:"secondary",className:"w-100 d-flex justify-content-between align-items-center text-dark p-2",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"f-center me-2 p-1 rounded-1 text-light",style:{backgroundColor:o[e-1].color},children:(0,w.jsx)(g.A,{src:(0,c.pc)("media/icons/color-icons/".concat(o[e-1].icon,".svg")),height:18,width:18})}),o[e-1].title]})}),(0,w.jsx)(Q.A.Menu,{children:o.map(((t,a)=>(0,w.jsxs)(Q.A.Item,{eventKey:t.value,className:"flex-column align-items-start w-100 mb-1 ".concat(t.value==e?"active":""),children:[(0,w.jsxs)("div",{className:"d-flex align-items-center mb-2 text-dark",children:[(0,w.jsx)("span",{className:"f-center me-2",style:{color:t.color},children:(0,w.jsx)(g.A,{src:(0,c.pc)("media/icons/color-icons/".concat(t.icon,".svg")),height:20,width:20})}),t.title]}),(0,w.jsx)("p",{className:"mb-0 fs-10 text-wrap text-dark",children:t.desc})]},a)))})]})]}),l?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("hr",{className:"my-2"}),(0,w.jsxs)("div",{className:"p-4",children:[(0,w.jsx)("h5",{children:"Select Platforms"}),(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsx)($.A,{className:"flex-column",type:"radio",name:"platform",defaultValue:1,onChange:a,children:[{name:"html",value:1},{name:"shopify",value:2},{name:"wordpress",value:3},{name:"pretashop",value:4},{name:"big-commerce",value:5},{name:"magento",value:6},{name:"other",value:7}].map(((e,t)=>(0,w.jsx)(X.A,{id:"s_platform-".concat(e.value),value:e.value,variant:"outline-secondary",className:"w-100 mb-3 py-3 me-0 ".concat(e.value==s?"bg-white":""),children:(0,w.jsx)(d.A,{className:"h-26px",src:(0,c.pc)("media/icons/cms-platform/".concat(e.name,".svg")),height:26,width:280,fluid:!0})},t)))})})]})]})]})}}var te=a(8966),ae=a(40143),se=a(66261),le=a(54480);class oe extends s.Component{render(){const{inheritStyle:e}=this.props;return(0,w.jsxs)("div",{className:"f-between w-100",children:[(0,w.jsxs)(b.A.Label,{className:"",htmlFor:"inherit_",children:[(0,w.jsx)("span",{className:"me-2",children:"Use Your Website Settings (Recommended)"}),(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:"Properties of your websites will be automatically applied on the widget once you embed."}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.Ah,{icon:"info",height:14,width:14})})})]}),(0,w.jsx)(b.A.Check,{type:"switch",id:"inherit_",className:"",defaultValue:e,checked:1==e,onChange:e=>{this.props.CARD_STYLE_INHERIT(Number(e.target.checked))}})]})}}const ie=(0,h.Ng)((e=>{var t,a,s;return{inheritStyle:null===(t=e.appData)||void 0===t||null===(a=t.wall)||void 0===a||null===(s=a.ThemeRule)||void 0===s?void 0:s.inheritStyles}}),(e=>({CARD_STYLE_INHERIT:t=>{e({type:le.rL7,payload:t}),e({type:le.F7A,payload:!0})}})))(oe);var ne=a(68849);const re=(e,t)=>{var a=[];return e&&e.map(((e,s)=>{a.push({label:(0,w.jsxs)("span",{style:{fontFamily:"".concat(t||e.family)},className:"sGFfonte-".concat(t?e:e.family),children:[" ",t?e:e.family," "]},t?e:e.family),value:t?s:e.id})})),a};class de extends s.Component{constructor(e){super(e),this.handleVarient=()=>{const{fontval:e,vrntVal:t,allFont:a}=this.props;let s=[];if(e&&""!=e&&"0"!=e){s=a.find((t=>t.family==e)),s=re(JSON.parse(s.variants),e);const l=s.find((e=>e.label.key==t));this.setState({variantList:s,selectedVariant:l||s[0]})}else s=re(JSON.parse(a[0].variants),"Default"),this.setState({variantList:s,selectedVariant:s[0]})},this.handleFont=()=>{const{fontval:e}=this.props,{fontList:t}=this.state;if(e&&""!=e&&"0"!=e){let a=t.find((t=>t.label.key==e));this.setState({selectedFont:a})}else this.setState({selectedFont:t[0]})},this.state={selectedFont:{},selectedVariant:{},variantList:[],fontList:re(this.props.allFont)}}componentDidMount(){this.handleVarient(),this.handleFont()}componentDidUpdate(e){e.vrntVal==this.props.vrntVal&&e.fontval==this.props.fontval||(e.fontval!=this.props.fontval&&this.handleFont(),this.handleVarient())}render(){const{inheritStyle:e,fontChange:t,variantChange:a,fontOptn:s,varaiants:l,fontval:o,vrntVal:i,styles:n}=this.props,{selectedFont:r,selectedVariant:d,variantList:c,fontList:h}=this.state;return(0,w.jsxs)(v.A,{className:"gx-2",children:[(0,w.jsxs)(x.A,{xs:7,children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"font_family",children:"Font Family"}),(0,w.jsx)(f.Ay,{className:"selectpicker selectpicker-sm ".concat(e?"disabled":""),classNamePrefix:"selectpicker",isDisabled:e,onChange:t,options:h,isSearchable:!1,value:r,styles:n||""})]}),(0,w.jsxs)(x.A,{xs:5,children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"font_weight",children:"Weight"}),(0,w.jsx)(f.Ay,{className:"selectpicker selectpicker-sm ".concat(e?"disabled":""),classNamePrefix:"selectpicker",isDisabled:e,value:d,options:c,onChange:a,isSearchable:!1,styles:n||""})]})]})}}const ce=(0,h.Ng)((e=>{var t;return{allFont:null===(t=e.allFont)||void 0===t?void 0:t.allFonts}}))(de);class he extends s.Component{render(){const{CatalogueTitle:e,onChangeCatelogFont:t,onChangeCatelogVeriant:a,onChangeFeature_font_size:s,onChangeFeature_text:l,inheritStyle:o,is_cta_setting_change:i}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ae.A,{children:(0,w.jsx)(ie,{})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"cta_title",children:"Text"}),(0,w.jsx)(b.A.Control,{size:"sm",placeholder:"Featured Product",id:"cta_title",defaultValue:null===e||void 0===e?void 0:e.text,onChange:l})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ce,{inheritStyle:o,fontChange:t,fontval:null===e||void 0===e?void 0:e.font,variantChange:a,vrntVal:null===e||void 0===e?void 0:e.varient})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"cate_font_color",children:"Font Color"}),(0,w.jsx)(ne.A,{id:"cate_font_color",defaultColor:null===e||void 0===e?void 0:e.color,changeColor:this.props.ChangeFeature_text_color,isDisabled:o,colorChanged:i})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"radius_range",children:"Font Size"}),(0,w.jsx)(se.A,{id:"radius_range",min:10,max:25,step:1,value:null===e||void 0===e?void 0:e.size,onChange:s})]})]})}}const pe=he;class ue extends s.Component{render(){const{onChangeProduct_font:e,onChangeProduct_verient:t,onChangeProduct_fontSize:a,onChangePrice_font:s,onChangePrice_verient:l,onChangePrice_fontSize:o,inheritStyle:i,onChangeProduct_color:n,onChangePrice_color:r,ProductTitle:d,is_cta_setting_change:c,Price:h}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ae.A,{children:(0,w.jsx)(ie,{})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"h5",children:"Title"}),(0,w.jsx)(ce,{inheritStyle:i,fontChange:e,fontval:null===d||void 0===d?void 0:d.font,variantChange:t,vrntVal:null===d||void 0===d?void 0:d.varient})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"pro_title_col",children:"Color"}),(0,w.jsx)(ne.A,{id:"pro_title_col",defaultColor:null===d||void 0===d?void 0:d.color,isDisabled:i,changeColor:n,colorChanged:c})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"radius_range",children:"Font Size"}),(0,w.jsx)(se.A,{id:"radius_range",min:10,max:25,step:1,value:null===d||void 0===d?void 0:d.size,onChange:a})]}),(0,w.jsx)("hr",{className:""}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"h5",children:"Price"}),(0,w.jsx)(ce,{inheritStyle:i,fontChange:s,fontval:null===h||void 0===h?void 0:h.font,variantChange:l,vrntVal:null===h||void 0===h?void 0:h.varient})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"price_color",children:"Color"}),(0,w.jsx)(ne.A,{id:"price_color",defaultColor:null===h||void 0===h?void 0:h.color,isDisabled:i,changeColor:r,colorChanged:c})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"radius_range",children:"Font Size"}),(0,w.jsx)(se.A,{id:"radius_range",min:10,max:25,step:1,value:null===h||void 0===h?void 0:h.size,onChange:o,isDisabled:i})]})]})}}const me=ue,ge=[{value:1,label:"Open New Tab"},{value:2,label:"Continue Same Tab"}];class ve extends s.Component{constructor(){super(...arguments),this.styles={option:(e,t)=>({...e,fontFamily:t.data.font}),singleValue:(e,t)=>({...e,fontFamily:t.data.font})}}render(){const{buy_now_text:e,buy_now_color:t,buy_now_background:a,button_css_font:s,button_font_varient:l,buy_font_size:o,onChangeButton_text:i,onChangeButton_font:n,onChangeButton_verient:r,onChangeButton_fontSize:d,allFont:c,onChange_tab_target:h,tab_target:p,onChange_pdp_target:u,pdp_target:m,inheritStyle:g,onChangeButton_color:v,onChangeButton_background:x,ProdButton:_,is_cta_setting_change:y}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ae.A,{children:(0,w.jsx)(ie,{})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"btn_text",children:"Text"}),(0,w.jsx)(b.A.Control,{size:"sm",placeholder:"Featured Product",id:"btn_text",defaultValue:null===_||void 0===_?void 0:_.text,onChange:i})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ce,{inheritStyle:g,fontChange:n,fontval:null===_||void 0===_?void 0:_.font,variantChange:r,vrntVal:null===_||void 0===_?void 0:_.varient})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"shop_btn_color",children:"Font Color"}),(0,w.jsx)(ne.A,{id:"shop_btn_color",defaultColor:null===_||void 0===_?void 0:_.color,changeColor:v,colorChanged:y})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"shop_btn_bg",children:"Background Color"}),(0,w.jsx)(ne.A,{id:"shop_btn_bg",defaultColor:null===_||void 0===_?void 0:_.background,changeColor:x,colorChanged:y})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"shop_btn_size",children:"Font Size"}),(0,w.jsx)(se.A,{id:"shop_btn_size",min:10,max:25,step:1,value:null===_||void 0===_?void 0:_.size,onChange:d})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"on_btn_click",children:"On Click"}),(0,w.jsx)(f.Ay,{className:"selectpicker selectpicker-sm ".concat(g?"disabled":""),classNamePrefix:"selectpicker",options:ge,onChange:h,value:ge[ge.findIndex((e=>parseInt(e.value)==parseInt(null===_||void 0===_?void 0:_.newTab)))]})]}),(0,A.C_)()?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"redirect_pdp",className:"f-between",label:"Redirect to PDP(Product Page)",defaultValue:null===_||void 0===_?void 0:_.pdp_target,checked:null===_||void 0===_?void 0:_.pdp_target,onChange:u,reverse:!0})}):null]})}}const xe=ve;class _e extends s.Component{render(){const{onChangeHotspotStatus:e,onChangeHotspotType:t,onChange_Hotspot_type_color:a,onChange_Hotspot_color:s,Hotspot:l,is_cta_setting_change:o}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"hotspot_",className:"f-between",label:"Hotspot",defaultValue:null===l||void 0===l?void 0:l.status,checked:null===l||void 0===l?void 0:l.status,onChange:e,reverse:!0})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"hotspot_icon",children:"Hotspot icon"}),(0,w.jsxs)(v.A,{children:[(0,w.jsx)(x.A,{children:(0,w.jsx)("div",{className:"border border-2 p-1 rounded-1 cursor-pointer overlfow-hidden ".concat(0==(null===l||void 0===l?void 0:l.type)?"border-primary":""),onClick:()=>t(0),children:(0,w.jsxs)("div",{className:"w-100 h-100 py-3 f-center flex-column rounded-1 icon-bg-gradient",children:[(0,w.jsx)("div",{className:"rounded-circle h-20px w-20px border-light mb-1",style:{border:"5px solid"}}),(0,w.jsx)("div",{className:"fw-medium fs-9 text-light",children:"Dots"})]})})}),(0,w.jsx)(x.A,{children:(0,w.jsx)("div",{className:"border border-2 p-1 rounded-1 cursor-pointer overlfow-hidden ".concat(1==(null===l||void 0===l?void 0:l.type)?"border-primary":""),onClick:()=>t(1),children:(0,w.jsxs)("div",{className:"w-100 h-100 py-3 f-center flex-column rounded-1 icon-bg-gradient",children:[(0,w.jsx)("div",{className:"rounded-circle h-20px w-20px bg-white mb-1 fw-bold f-center fs-9",children:"1"}),(0,w.jsx)("div",{className:"fw-medium fs-9 text-light",children:"Number"})]})})})]})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"hotspot_bg",children:"Background Color"}),(0,w.jsx)(ne.A,{id:"hotspot_bg",defaultColor:null===l||void 0===l?void 0:l.background,changeColor:s,colorChanged:o})]}),null!==l&&void 0!==l&&l.type?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"hotspot_text_color",children:"Font Color"}),(0,w.jsx)(ne.A,{id:"hotspot_text_color",defaultColor:null===l||void 0===l?void 0:l.color,changeColor:a,colorChanged:o})]}):null]})}}const be=_e;class ye extends s.Component{constructor(){super(...arguments),this.onChangeCatelogFont=e=>{const{allFont:t,productSettings:a}=this.props,s=t.find((t=>t.family==e.label.key));let l=JSON.parse(s.variants).find((e=>e==(null===a||void 0===a?void 0:a.CatalogueTitle.varient)));this.props.FEATURE_CSS_FONT(s.family),this.onChangeCatelogVeriant("change",l||JSON.parse(s.variants)[0])},this.onChangeCatelogVeriant=(e,t)=>{this.props.FEATURE_FONT_VARIENT("change"==e?t:e.label.key)},this.onChangeFeature_text=e=>{this.props.FEATURE_TEXT(e.target.value)},this.onChangeFeature_font_size=e=>{this.props.FEATURE_FONT_SIZE(parseInt(e))},this.onChangeStatus=()=>{this.setState({status:1==this.state.status?0:1}),this.props.STATUS(1==this.state.status?0:1)},this.onChangeButton_text=e=>{this.props.BUY_NOW_TEXT(e.target.value)},this.onChangeButton_font=e=>{const{allFont:t,productSettings:a}=this.props,s=t.find((t=>t.family==e.label.key));let l=JSON.parse(s.variants).find((e=>e==(null===a||void 0===a?void 0:a.Button.varient)));this.props.BUTTON_CSS_FONT(s.family),this.onChangeButton_verient("change",l||JSON.parse(s.variants)[0])},this.onChangeButton_verient=(e,t)=>{this.props.BUTTON_FONT_VARIENT("change"==e?t:e.label.key)},this.onChangeButton_fontSize=e=>{this.props.BUY_FONT_SIZE(parseInt(e))},this.onChangeProduct_font=e=>{const{allFont:t,productSettings:a}=this.props,s=t.find((t=>t.family==e.label.key));let l=JSON.parse(s.variants).find((e=>e==(null===a||void 0===a?void 0:a.ProductTitle.varient)));this.props.TITLE_CSS_FONT(s.family),this.onChangeProduct_verient("change",l||JSON.parse(s.variants)[0])},this.onChangeProduct_verient=(e,t)=>{this.props.TITLE_FONT_VARIENT("change"==e?t:e.label.key)},this.onChangeProduct_fontSize=e=>{this.setState({product_title_font_size:parseInt(e)}),this.props.PRODUCT_TITLE_FONT_SIZE(parseInt(e))},this.onChangePrice_font=e=>{const{allFont:t,productSettings:a}=this.props,s=t.find((t=>t.family==e.label.key));let l=JSON.parse(s.variants).find((e=>e==(null===a||void 0===a?void 0:a.Price.varient)));this.props.PRICE_CSS_FONT(s.family),this.onChangePrice_verient("change",l||JSON.parse(s.variants)[0])},this.onChangePrice_verient=(e,t)=>{this.props.PRICE_FONT_VARIENT("change"==e?t:e.label.key)},this.onChangePrice_fontSize=e=>{this.props.ORIGINAL_PRICE_FONT_SIZE(parseInt(e))},this.onChangeHotspotStatus=()=>{var e,t;this.props.HOTSPOT(1==(null===(e=this.props.productSettings)||void 0===e||null===(t=e.Hotspot)||void 0===t?void 0:t.status)?0:1)},this.onChangeHotspotType=()=>{var e,t;this.props.HOTSPOT_TYPE(1==(null===(e=this.props.productSettings)||void 0===e||null===(t=e.Hotspot)||void 0===t?void 0:t.type)?0:1)},this.onChange_tab_target=e=>{this.props.TAB_TARGET(e.value)},this.onChange_pdp_target=e=>{var t;this.props.PDP_TARGET(1==(null===(t=this.props.productSettings)||void 0===t?void 0:t.Button.pdp_target)?0:1)},this.onSubmitCTA=()=>{this.props.UPDATE_CTA_ACTION(this.state,localStorage.getItem("wallId"),(()=>{}))},this.ChangeFeature_text_color=(e,t)=>{e&&this.props.FEATURE_TEXT_COLOR(e)},this.onChangeButton_color=(e,t)=>{e&&this.props.BUY_NOW_COLOR(e)},this.onChangeButton_background=(e,t)=>{e&&this.props.BUY_NOW_BACKGROUND(e)},this.onChangeProduct_color=(e,t)=>{e&&this.props.PRODUCT_TITLE_COLOR(e)},this.onChangePrice_color=(e,t)=>{e&&this.props.ORIGINAL_PRICE_COLOR(e)},this.onChange_Hotspot_color=(e,t)=>{e&&this.props.HOTSPOT_COLOR(e)},this.onChange_Hotspot_type_color=(e,t)=>{e&&this.props.HOTSPOT_TYPE_COLOR(e)}}componentDidUpdate(e){!0===this.props.save_and_publish&&!0!==e.save_and_publish&&this.props.is_cta_setting_change&&this.onSubmitCTA()}render(){const{inheritStyle:e,productSettings:t,is_cta_setting_change:a}=this.props;return(0,w.jsxs)(te.A,{className:"border-top",defaultActiveKey:"catalog_name",flush:!0,children:[(0,w.jsxs)(te.A.Item,{eventKey:"catalog_name",children:[(0,w.jsx)(te.A.Header,{children:"Catalog Name"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(pe,{inheritStyle:e,onChangeCatelogFont:this.onChangeCatelogFont,CatalogueTitle:null===t||void 0===t?void 0:t.CatalogueTitle,onChangeCatelogVeriant:this.onChangeCatelogVeriant,onChangeFeature_font_size:this.onChangeFeature_font_size,onChangeFeature_text:this.onChangeFeature_text,ChangeFeature_text_color:this.ChangeFeature_text_color,is_cta_setting_change:a})})]}),(0,w.jsxs)(te.A.Item,{eventKey:"Products_",children:[(0,w.jsx)(te.A.Header,{children:"Products"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(me,{inheritStyle:e,ProductTitle:null===t||void 0===t?void 0:t.ProductTitle,Price:null===t||void 0===t?void 0:t.Price,onChangeProduct_font:this.onChangeProduct_font,onChangeProduct_verient:this.onChangeProduct_verient,onChangeProduct_fontSize:this.onChangeProduct_fontSize,onChangePrice_font:this.onChangePrice_font,onChangePrice_verient:this.onChangePrice_verient,onChangePrice_fontSize:this.onChangePrice_fontSize,onChangeProduct_color:this.onChangeProduct_color,onChangePrice_color:this.onChangePrice_color,is_cta_setting_change:a})})]}),(0,w.jsxs)(te.A.Item,{eventKey:"button_",children:[(0,w.jsx)(te.A.Header,{children:"Button"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(xe,{inheritStyle:e,ProdButton:null===t||void 0===t?void 0:t.Button,onChangeButton_text:this.onChangeButton_text,onChangeButton_font:this.onChangeButton_font,onChangeButton_verient:this.onChangeButton_verient,onChangeButton_fontSize:this.onChangeButton_fontSize,onChange_tab_target:this.onChange_tab_target,onChange_pdp_target:this.onChange_pdp_target,onChangeButton_color:this.onChangeButton_color,onChangeButton_background:this.onChangeButton_background,is_cta_setting_change:a})})]}),(0,w.jsxs)(te.A.Item,{eventKey:"hotspot_",children:[(0,w.jsx)(te.A.Header,{children:"Hotspot"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(be,{Hotspot:null===t||void 0===t?void 0:t.Hotspot,onChangeHotspotStatus:this.onChangeHotspotStatus,onChangeHotspotType:this.onChangeHotspotType,onChange_Hotspot_color:this.onChange_Hotspot_color,onChange_Hotspot_type_color:this.onChange_Hotspot_type_color,is_cta_setting_change:a})})]})]})}}const je=(0,h.Ng)((e=>{var t,a,s,l,o,i,n,r;return{moderation:e.moderation,is_cta_setting_change:null===(t=e.appData)||void 0===t?void 0:t.is_cta_setting_change,save_and_publish:null===(a=e.appData)||void 0===a?void 0:a.save_and_publish,inheritStyle:null===(s=e.appData)||void 0===s||null===(l=s.wall)||void 0===l||null===(o=l.ThemeRule)||void 0===o?void 0:o.inheritStyles,allFont:null===(i=e.allFont)||void 0===i?void 0:i.allFonts,ctaData:e.ctaData.data,productSettings:null===(n=e.appData)||void 0===n||null===(r=n.wall)||void 0===r?void 0:r.ProductSetting}}),(e=>({UPDATE_CTA_ACTION:(t,a,s)=>e((0,S.S4)(t,a,s)),FEATURE_TEXT:t=>e({type:le.VOU,payload:t}),FEATURE_TEXT_COLOR:t=>e({type:le.TXO,payload:t}),FEATURE_CSS_FONT:t=>e({type:le.xPf,payload:t}),FEATURE_FONT_VARIENT:t=>e({type:le.DdZ,payload:t}),FEATURE_FONT_SIZE:t=>e({type:le.Zug,payload:t}),BUY_NOW_TEXT:t=>e({type:le.Gz_,payload:t}),BUTTON_CSS_FONT:t=>e({type:le.Z10,payload:t}),BUTTON_FONT_VARIENT:t=>e({type:le.Bmd,payload:t}),BUY_NOW_COLOR:t=>e({type:le.i_B,payload:t}),BUY_NOW_BACKGROUND:t=>e({type:le.v1T,payload:t}),BUY_FONT_SIZE:t=>e({type:le.noS,payload:t}),PRODUCT_TITLE_COLOR:t=>e({type:le.rZF,payload:t}),PRODUCT_TITLE_FONT_SIZE:t=>e({type:le.jxf,payload:t}),TITLE_CSS_FONT:t=>e({type:le.XCX,payload:t}),TITLE_FONT_VARIENT:t=>e({type:le.ztI,payload:t}),ORIGINAL_PRICE_COLOR:t=>e({type:le._sM,payload:t}),PRICE_CSS_FONT:t=>e({type:le.EI6,payload:t}),PRICE_FONT_VARIENT:t=>e({type:le.sXy,payload:t}),ORIGINAL_PRICE_FONT_SIZE:t=>e({type:le.e4G,payload:t}),DISCOUNT_PRICE_COLOR:t=>e({type:le.qUf,payload:t}),DISCOUNT_CSS_FONT:t=>e({type:le.a9o,payload:t}),DISCOUNT_FONT_VARIENT:t=>e({type:le.wbM,payload:t}),DISCOUNT_PRICE_FONT_SIZE:t=>e({type:le.qi,payload:t}),HOTSPOT:t=>e({type:le.qUp,payload:t}),HOTSPOT_COLOR:t=>e({type:le.Ylx,payload:t}),HOTSPOT_TYPE:t=>e({type:le.TPD,payload:t}),HOTSPOT_TYPE_COLOR:t=>e({type:le.$J1,payload:t}),STATUS:t=>e({type:le.XQv,payload:t}),TAB_TARGET:t=>e({type:le.aw8,payload:t}),PDP_TARGET:t=>e({type:le.vRv,payload:t})})))(ye);var fe=a(14313),Ce=a(41709),Ae=a(22662);const we=()=>(new fe.A).get("".concat(m.e1l,"/").concat(localStorage.getItem("wallId")));var Ne=a(15437),Te=a(52107),Se=a(72832),Pe=a(72228),De=a(44259);var Ee=a(49332),ke=a(2264);const Ie=new Ee.A,Le=e=>{var t,a,l,o,i,n,p;let{backgroundDetails:u,openBanner:g,PersonalizationID:v,bannerDetail:x,save_and_publish:_,is_backgroun_change:y}=e;const j=(0,h.wA)(),[f,C]=(0,s.useState)(null!==u&&void 0!==u&&null!==(t=u.Background)&&void 0!==t&&t.image?null===u||void 0===u||null===(a=u.Background)||void 0===a?void 0:a.image:"");let A=null===u||void 0===u||null===(l=u.Background)||void 0===l?void 0:l.transparent,N=null!==u&&void 0!==u&&null!==(o=u.Background)&&void 0!==o&&o.image?null===u||void 0===u||null===(i=u.Background)||void 0===i?void 0:i.image:"",T=null!==u&&void 0!==u&&null!==(n=u.Background)&&void 0!==n&&n.color?null===(p=u.Background)||void 0===p?void 0:p.color:"#ffffff";(0,s.useEffect)((()=>{Ie.uppy.on("transloadit:result",((e,t)=>{C("https://cloud.tagshop.ai/tmp/".concat(t.id,".").concat(t.ext)),j({type:le.Ann,payload:"https://cloud.tagshop.ai/tmp/".concat(t.id,".").concat(t.ext)}),setTimeout((()=>{Ie.uppy.cancelAll()}),300)}))}),[]),(0,s.useEffect)((()=>{1==_&&1==y&&S()}),[_]);const S=()=>{const e={isCollaborator:0,id:v,transparent:A?1:0,backgroundColor:T,backgroundRemove:N.length?0:1,themeId:u.ThemeRule.themeId,collaboratorOwnerId:76636,ownerId:ke.ownerId,picture:N?"https://cloud.tagshop.ai/tmp/".concat(N):"",isPictureChanged:N==f?0:1};var t;(t=e,(new fe.A).post("".concat(m.lmr,"/").concat(localStorage.getItem("active_wall"),"/").concat(t.themeId,"/").concat(t.id,"/").concat(localStorage.getItem("website_id")),{...t})).then((e=>{}))};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"background",children:"Transparent Background"}),(0,w.jsx)(b.A.Check,{type:"switch",id:"background",className:"w-100",defaultValue:A,checked:A,onChange:e=>{j({type:le.huw,payload:Number(e.target.checked)}),j({type:le.HYM,payload:!0})}}),A?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"bgColor",children:"Color"}),(0,w.jsx)(ne.A,{id:"bgColor",defaultColor:T,changeColor:e=>{j({type:le.kY6,payload:e}),j({type:le.HYM,payload:!0})},colorChanged:y})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",children:"Background Image"}),N?(0,w.jsxs)("div",{className:"position-relative bg-white",children:[(0,w.jsx)(d.A,{id:"bg_image",className:"object-fit-contain",src:N,height:300,width:300,alt:"",style:{maxHeight:250},fulid:!0}),(0,w.jsx)("div",{className:"position-absolute",style:{top:-10,right:-10},children:(0,w.jsx)(r.A,{variant:"icon",size:"sm",className:"rounded-circle bg-white btn-active-primary",onClick:()=>{j({type:le.Ann,payload:""}),j({type:le.HYM,payload:!0})},children:(0,w.jsx)(c.Ah,{icon:"close",height:20,width:20})})})]}):(0,w.jsx)(De.xh,{proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0,showProgressDetails:!0,disableThumbnailGenerator:!1,height:270,showRemoveButtonAfterComplete:!1,uppy:Ie.uppy,plugins:["Instagram","GoogleDrive","Url","Webcam"]})]})]}),A?null:(0,w.jsx)(F.A,{className:"mt-2 mb-0 rounded-0 fs-9 p-3",variant:"info",children:"Recommended Size: 1920px x 1080px Image with Aspect Ratio and Resolution of Intended Display."})]})};var Oe=a(29038),Re=a(19902),Fe=a.n(Re);a(10673);class ze extends s.Component{render(){const{toggleValue:e,callbackFn:t,tooltipTxt:a,toggleName:s,callbackFn2:l,dispatchfn:o}=this.props;return(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"".concat(s.replace(" ",""),"_"),children:[(0,w.jsx)("span",{className:"me-2",children:s}),a?(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:a}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.Ah,{icon:"info",height:14,width:14})})}):null]}),(0,w.jsx)(b.A.Check,{type:"switch",id:"".concat(s.replace(" ",""),"_"),defaultValue:e,checked:0!=e,onChange:e=>{t(e.target.checked),o(e.target.checked),l(!e.target.checked&&e.target.checked)}})]})}}const He=e=>{var t,a,l,o,i,n,r,d,p;const{bannerDetail:u}=e,{commerceTheme:m}=u.Personalization,g=(0,h.wA)(),[v,x]=(0,s.useState)([{label:"1 Row",value:1},{label:"2 Rows",value:2}]),[_,C]=(0,s.useState)(e.bannerDetail.Personalization.showHideOldPost),N=(0,s.useRef)(null),T=[{label:"One Day Ago",value:1},{label:"Two Days Ago",value:2},{label:"Three Days Ago",value:3},{label:"Four Days Ago",value:4},{label:"Five Days Ago",value:5},{label:"Six Days Ago",value:6},{label:"Seven Days Ago",value:7},{label:"One Month",value:30},{label:"Custom Select",value:8}];var S=new Date(0);S.setUTCSeconds(0==_?1641015e3:_);var P=R()(S).format("MM DD YYYY hh:mm");const{userData:D}=(0,h.d4)((e=>e.authorized));(0,s.useEffect)((()=>{1==e.save_and_publish&&1==e.is_theme_setting_change&&setTimeout((()=>{E()}),500)}),[e.save_and_publish]);const E=()=>{var t,a,s,l,o,i,n,r,d,c,h,p,m,v,x,_;let b={websiteId:localStorage.getItem("website_id"),wallId:localStorage.getItem("active_wall"),ownerId:null===D||void 0===D||null===(t=D.user_data)||void 0===t?void 0:t.owner,db_table:e.db_table,p_id:e.bannerDetail.Personalization.id,carouselPost:Number(null===(a=u.Personalization)||void 0===a?void 0:a.carouselPost),cssStatus:null===(s=e.appData)||void 0===s||null===(l=s.wall)||void 0===l||null===(o=l.Personalization)||void 0===o?void 0:o.cssStatus,randomizePost:0,loadMoreStatus:Number(null===(i=u.Personalization)||void 0===i?void 0:i.loadMoreStatus),autoScrollStatus:Number(u.Personalization.autoScrollStatus),postText:Number(u.Personalization.postText),mobilePopup:Number(null===(n=u.Personalization)||void 0===n?void 0:n.mobilePopup),trimcontent:Number(u.Personalization.trimcontent),popupSlideShow:Number(u.Personalization.popupSlideShow),textDecorate:Number(null===(r=u.Personalization)||void 0===r?void 0:r.textDecorate),customUrl:"".concat(null===(d=u.Personalization)||void 0===d?void 0:d.customUrl),numberOfPosts:u.ThemeRule.numberOfPosts,hidePosts:0==(null===(c=u.Personalization)||void 0===c?void 0:c.showHideOldPost)?0:1,showHideOlderPost:null===(h=u.Personalization)||void 0===h?void 0:h.showHideOlderPost,showHideOldPost:null===(p=u.Personalization)||void 0===p?void 0:p.showHideOldPost,minimumPostWidth:u.Personalization.minimumPostWidth,padding:null===(m=u.Personalization)||void 0===m?void 0:m.padding,theme_id:e.bannerDetail.ThemeRule.themeId,numberOfCoumn:u.ThemeRule.numberOfCoumn,mobileColumn:u.ThemeRule.mobileColumn,multiRow:u.ThemeRule.multiRow,fitRow:Number(u.Personalization.fitRow),autoPlay:Number(u.ThemeRule.autoPlay),slidePost:Number(u.ThemeRule.slidePost),slideDuration:u.ThemeRule.slideDuration};(3==(null===(v=u.Personalization)||void 0===v?void 0:v.postFeatured)&&k(null===(x=u.Personalization)||void 0===x?void 0:x.customUrl)||3!=(null===(_=u.Personalization)||void 0===_?void 0:_.postFeatured))&&(0,Oe.D8)(b).then((e=>{const{data:t}=e;t.status&&g((0,Ae.M_)())})).catch((e=>console.warn(e)))},k=e=>/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e),I=(0,A.xb)(m),L=(0,A.Ay)(m);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Popup 'Slider'",toggleValue:u.Personalization.popupSlideShow,callbackFn:()=>{},callbackFn2:()=>{},dispatchfn:e=>g({type:le.Q2o,payload:Number(e)}),tooltipTxt:" This feature lets you slide through the pop-up."})}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Carousel Post",callbackFn2:()=>{},toggleValue:u.Personalization.carouselPost,callbackFn:()=>{},dispatchfn:e=>g({type:le.$ZA,payload:Number(e)}),tooltipTxt:"Enable to reflect carousal posts."})}),[16,50,61,62].includes(m)?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Auto Slide",callbackFn2:()=>{},toggleValue:u.ThemeRule.slidePost,callbackFn:()=>{},dispatchfn:e=>g({type:le.Vkv,payload:Number(e)}),tooltipTxt:"Enable the Gallery to automatically slide."})}):"",(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Video AutoPlay",callbackFn2:()=>{},toggleValue:u.ThemeRule.autoPlay,callbackFn:()=>{},dispatchfn:e=>g({type:le.OPq,payload:Number(e)}),tooltipTxt:"Enable to auto-play video previews in thumbnails."})}),[3,4,19,53].includes(m)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Show More Button",toggleValue:u.Personalization.loadMoreStatus,callbackFn:()=>{},callbackFn2:()=>{},dispatchfn:e=>g({type:le.MtG,loadMore:Number(e),autoLoad:Number(!u.Personalization.autoScrollStatus&&u.Personalization.autoScrollStatus)}),tooltipTxt:"Show/Hide the 'Show more' button."})}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Auto-Load",toggleValue:u.Personalization.autoScrollStatus,callbackFn:()=>{},callbackFn2:()=>{},dispatchfn:e=>g({type:le.MtG,autoLoad:Number(e),loadMore:Number(!u.Personalization.loadMoreStatus&&u.Personalization.loadMoreStatus)}),tooltipTxt:"Experience the never-ending trail of feeds."})})," "]}):"",19==m?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Hide 'Text Only' Posts",callbackFn2:()=>{},toggleValue:u.Personalization.postText,callbackFn:()=>{},dispatchfn:e=>g({type:le.E57,payload:e}),tooltipTxt:"Hide 'Text Only' Posts"})}):"",[3,19,47].includes(m)?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Trim Content",callbackFn2:()=>{},toggleValue:u.Personalization.trimcontent,callbackFn:()=>{},dispatchfn:e=>g({type:le.kAV,payload:Number(e)}),tooltipTxt:"It will trim post text after a limit."})}):"",4==m?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"Best Fit",callbackFn2:()=>{},toggleValue:u.Personalization.fitRow,callbackFn:()=>{},dispatchfn:e=>g({type:le.OFR,payload:Number(e)}),tooltipTxt:"Enables you to load images smoothly."})}):"",(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"total_post",children:[(0,w.jsx)("span",{className:"me-2",children:"Total Number of Posts to Display"}),(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:"Maximum no. of posts to be displayed on live gallery."}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.Ah,{icon:"info",height:14,width:14})})})]}),(0,w.jsx)(b.A.Control,{type:"number",id:"total_post",min:"1",max:"100",value:u.ThemeRule.numberOfPosts,onChange:e=>{g({type:le.ccC,payload:e.target.value>100?100:e.target.value<=0?1:e.target.value})}})]}),[50,61,16,62,61].includes(m)&u.ThemeRule.slidePost?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2",htmlFor:"time_slide",children:["Time per slide (",u.ThemeRule.slideDuration," second)"]}),(0,w.jsx)(se.A,{id:"time_slide",min:1,max:10,step:1,value:u.ThemeRule.slideDuration,onChange:e=>{g({type:le.tbg,payload:e})}})]}):null,[4,16,47,53,61,62].includes(m)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"desktop_col",children:"Column (Desktop)"}),(0,w.jsx)(f.Ay,{id:"desktop_col",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:I,value:I[I.findIndex((e=>e.value==u.ThemeRule.numberOfCoumn))],onChange:e=>{g({type:le.DeG,payload:e.value?e.value:0}),g((0,Ae.Ux)(localStorage.getItem("active_wall"),e.value?e.value:10))}})]}):null,[4,16,47,61,62].includes(m)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"mobile_col",children:"Column (Mobile)"}),(0,w.jsx)(f.Ay,{id:"mobile_col",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:L,value:L[L.findIndex((e=>e.value==u.ThemeRule.mobileColumn))],onChange:e=>{g({type:le.Spw,payload:e.value})}})]}):null,u.ThemeRule.multiRow&&16==m?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2",htmlFor:"no_of_row",children:["No.of Rows (",u.ThemeRule.multiRow,")"]}),(0,w.jsx)(f.Ay,{id:"mobile_col",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:v,defaultValue:v[u.ThemeRule.multiRow-1],onChange:e=>{g({type:le.O5k,payload:e.value})}})]}):null,[61,62].includes(m)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("div",{className:"mb-2",children:(0,w.jsx)(ze,{toggleName:"Hide Old Posts",dispatchfn:e=>g({type:le.h$H,payload:e}),toggleValue:null===(t=u.Personalization)||void 0===t?void 0:t.showHideOldPost,callbackFn:()=>{},callbackFn2:()=>{},tooltipTxt:"Hides old posts on your live gallery."})}),(0,w.jsx)("div",{className:"mb-2",children:null!==(a=u.Personalization)&&void 0!==a&&a.showHideOldPost?(0,w.jsx)(f.Ay,{id:"hide_post_range",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",menuPlacement:"top",options:T,defaultValue:T[30==(null===(l=u.Personalization)||void 0===l?void 0:l.showHideOlderPost)?7:8==(null===(o=u.Personalization)||void 0===o?void 0:o.showHideOlderPost)?8:(null===(i=u.Personalization)||void 0===i?void 0:i.showHideOlderPost)-1],onChange:e=>g({type:le.WuZ,payload:e.value})}):null}),8==(null===(n=u.Personalization)||void 0===n?void 0:n.showHideOlderPost)&&null!==(r=u.Personalization)&&void 0!==r&&r.showHideOldPost?(0,w.jsx)(Fe(),{language:"en",dateTime:0==_?"":P,inputFormat:"MM/DD/YYYY HH:mm A",onChange:e=>g({type:le.h$H,payload:R()(e).format("MM/DD/YYYY hh:mm")}),viewMode:"date",className:"form-control form-control-sm",startOfWeek:"week",ref:N,defaultText:"Select date & time",id:"hide_post_date"}):null]}),[3,19,55].includes(m)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2",htmlFor:"min_post_w",children:["Minimum Post Width (",u.Personalization.minimumPostWidth,"px)"]}),(0,w.jsx)(se.A,{id:"time_slide",min:150,max:500,step:1,value:u.Personalization.minimumPostWidth,onChange:e=>{g({type:le.$Xr,payload:e})}})]}):null,[3,4,16,19,55,61,62].includes(m)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2",htmlFor:"min_post_w",children:["Post Spacing (",null===(d=u.Personalization)||void 0===d?void 0:d.padding,"px)"]}),(0,w.jsx)(se.A,{id:"time_slide",min:0,max:50,step:1,value:null===(p=u.Personalization)||void 0===p?void 0:p.padding,onChange:e=>{g({type:le.Oeg,payload:e})}})]}):null]})},Be=e=>{let{ugcDetails:t,PersonalizationID:a,save_and_publish:l,is_magic_upload_change:o}=e;const i=(0,h.wA)(),n=(0,h.d4)((e=>{var t;return null===(t=e.allFont)||void 0===t?void 0:t.allFonts})),r=(0,h.d4)((e=>{var t,a,s;return null===(t=e.addFeedReducer)||void 0===t||null===(a=t.details)||void 0===a||null===(s=a.wall)||void 0===s?void 0:s.Personalization})),d=null!==r&&void 0!==r&&r.onsite_settings?JSON.parse(r.onsite_settings).taggshop:null;(0,s.useEffect)((()=>{1==l&&1==o&&c()}),[l]);const c=()=>{var e,s={wallId:ke.activeWall,websiteId:ke.webSiteId,ownerId:ke.ownerId,id:a,onsite_qr_code_btn_text:t.onsite_qr_code_btn_text?t.onsite_qr_code_btn_text:"",onsite_btn_color:t.onsite_btn_color?t.onsite_btn_color:"#000000",onsite_btn_txt_color:t.onsite_btn_txt_color?t.onsite_btn_txt_color:"#ffffff",onsite_link_font_btn:t.onsite_css_font_btn?t.onsite_css_font_btn.replace(/\s+/g,"+"):"Lato",onsite_css_font_btn:t.onsite_css_font_btn?t.onsite_css_font_btn.replace(/\s+/g,"+"):"Lato",onsite_font_varient_btn:t.onsite_font_varient_btn?t.onsite_font_varient_btn:"",btn_fontSize:t.btn_fontSize?t.btn_fontSize:16,onsite_qr_code_status:t.onsite_qr_code_status?1:0};d&&(s={...d,...s}),e=s,(new fe.A).post("".concat(m.AuB),{...e,onsite_status:1})},p=(e,t)=>{i({type:le.yW9,payload:"change"==e?t:e.label.key})};return(0,w.jsxs)("div",{className:"",children:[(0,w.jsx)("div",{className:"form-group mb-2",children:(0,w.jsx)("h6",{className:"titleMagicUpload mt-3 mb-4",children:"Button Content"})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"ugc_title",children:"Button Text"}),(0,w.jsx)(b.A.Control,{size:"sm",placeholder:"Snap Up Text",id:"ugc_title",defaultValue:t.onsite_qr_code_btn_text,onChange:e=>{i({type:le.kfA,payload:e.target.value})}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"ugc_bg_color",children:"Background Color"}),(0,w.jsx)(ne.A,{id:"ugc_bg_color",isDisabled:"",defaultColor:t.onsite_btn_color?t.onsite_btn_color:"#000000",changeColor:e=>{i({type:le.UjQ,payload:e})},colorChanged:o})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ce,{fontChange:e=>{const a=n.find((t=>t.family==e.label.key));let s=JSON.parse(a.variants).find((e=>e==t.onsite_css_font_btn));i({type:le.KvV,payload:a.family}),p("change",s||JSON.parse(a.variants)[0])},variantChange:p,fontval:t.onsite_css_font_btn,vrntVal:t.onsite_font_varient_btn})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"ugc_fnt_color",children:"Font Color"}),(0,w.jsx)(ne.A,{id:"ugc_fnt_color",isDisabled:"",defaultColor:t.onsite_btn_txt_color?t.onsite_btn_txt_color:"#ffffff",changeColor:e=>{i({type:le.j43,payload:e})},colorChanged:o})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"radius_range",children:"Font Size"}),(0,w.jsx)(se.A,{id:"radius_range",min:10,max:30,step:1,value:t.btn_fontSize,onChange:e=>{i({type:le.Yls,payload:e})}})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(ze,{toggleName:"QR(Hide/Show)",toggleValue:String(t.onsite_qr_code_status)?parseInt(t.onsite_qr_code_status):1,callbackFn:()=>{},callbackFn2:()=>{},dispatchfn:e=>i({type:le.QPE,payload:Number(e)})})})]})};class Ue extends s.Component{constructor(){super(...arguments),this.state={spinner:!1},this.onChangeVariant=e=>{this.props.CARD_STYLE_FONT_VARIENT(e.label.key)},this.onChangeHighlightPosition=e=>{this.props.CARD_STYLE_POSITION(e.value)},this.onFontChange=e=>{const{allFont:t,bannerDetail:a}=this.props,s=t.find((t=>t.family==e.label.key));let l=JSON.parse(s.variants).find((e=>e==a.ThemeRule.font_varient));this.props.CARD_STYLE_FONT_LINK(s.family,l||JSON.parse(s.variants)[0])},this.onSubmitData=e=>{const{bannerDetail:t}=this.props,a={link_font:void 0===t.ThemeRule.css_font?"":t.ThemeRule.css_font.split(" ").join("+"),css_font:void 0===t.ThemeRule.css_font?"":t.ThemeRule.css_font,font_varient:void 0===t.ThemeRule.font_varient?"":t.ThemeRule.font_varient,cardColor:t.ThemeRule.cardColor,fontColor:t.ThemeRule.fontColor,fontSize:t.ThemeRule.fontSize,roundEdge:t.ThemeRule.roundEdge,authorColor:t.ThemeRule.authorColor,iconType:t.ThemeRule.iconType,iconColor:t.ThemeRule.iconColor,postTime:Number(t.Personalization.postTime),inheritStyles:Number(this.props.inheritStyle),postAuthor:Number(t.Personalization.postAuthor),ctaStatus:Number(t.Personalization.ctaStatus),shareOption:Number(t.ThemeRule.shareOption),socialAction:Number(t.ThemeRule.socialAction),hideContent:Number(t.ThemeRule.hideContent),popupContent:Number(t.ThemeRule.popupContent),themeRuleId:t.ThemeRule.themeId,isCollaborator:0,ownerId:localStorage.getItem("ownerId"),highlightPosition:t.ThemeRule.highlightPosition,postHover:Number(t.ThemeRule.postHover),shoppingText:t.ThemeRule.shoppingText};(0,Oe.Vf)({data:a,wallId:t.Wall.wallId?t.Wall.wallId:localStorage.getItem("active_wall"),themeId:t.ThemeRule.themeId,personalizationId:t.Personalization.id}).then((e=>{this.setState({spinner:!1})})).catch((e=>console.warn(e)))},this.onHoverColorChange=e=>{this.props.CARD_STYLE_HOVER_COLOR(e),this.props.CARD_STYLE_SOCIAL_ICON_COLOR(e?"#ffffff":"#000000"),window.$("#ThemeRuleIconColor").minicolors("value",e?"#ffffff":"#000000"),this.props.CARD_STYLE_FONT_COLOR(e?"#ffffff":"#000000"),window.$("#ThemeRuleFontColor1").minicolors("value",e?"#ffffff":"#000000")}}componentDidUpdate(e){!0===this.props.save_and_publish&&!0!==e.save_and_publish&&this.props.is_card_style_change&&setTimeout((()=>{this.onSubmitData()}),500)}render(){const{inheritStyle:e,bannerDetail:t,is_card_style_change:a}=this.props,{commerceTheme:s}=t.Personalization;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ae.A,{children:(0,w.jsx)(ie,{})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"h5",children:"General Style"}),(0,w.jsx)(ce,{inheritStyle:e,fontChange:this.onFontChange,variantChange:this.onChangeVariant,fontval:t.ThemeRule.css_font,vrntVal:t.ThemeRule.font_varient})]}),[4,16,50,53,55,19,47,61,62].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"font_color",children:"Font Color"}),(0,w.jsx)(ne.A,{id:"font_color",isDisabled:e?"disabled":"",defaultColor:t.ThemeRule.fontColor,changeColor:e=>this.props.CARD_STYLE_FONT_COLOR(e),colorChanged:a})]}):null,[4,16,50,53,55,19,47,61,62,3].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"font_size",children:"Font Size"}),(0,w.jsx)(se.A,{inheritStyle:e,id:"font_size",min:10,max:50,step:1,defaultValue:t.ThemeRule.fontSize,value:t.ThemeRule.fontSize,onChange:e=>{this.props.CARD_STYLE_FONT_SIZE(e)}})]}):null,[16,53,61,62].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"radius_range",children:"Card Radius"}),(0,w.jsx)(se.A,{id:"radius_range",min:0,max:50,step:1,defaultValue:t.ThemeRule.roundEdge,value:t.ThemeRule.roundEdge,onChange:e=>{this.props.CARD_STYLE_CORNER_RADIUS(e)}})]}):null,[3,19,47,61,62].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"card_color",children:"Card Colors"}),(0,w.jsx)(ne.A,{id:"card_color",defaultColor:t.ThemeRule.cardColor,changeColor:e=>{this.props.CARD_STYLE_CARD_COLOR(e)},colorChanged:a})]}):null,[53].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"post_position",children:"Position (Post Highlight)"}),(0,w.jsx)(f.Ay,{id:"post_position",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:A.x8,value:A.x8.find((e=>e.value==t.ThemeRule.highlightPosition)),onChange:e=>this.onChangeHighlightPosition(e)})]}):null,[4,16,50,53,55,61].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"hover_text",children:"Hover Text"}),(0,w.jsx)(b.A.Control,{id:"hover_text",value:t.ThemeRule.shoppingText,maxLength:"30",onChange:e=>{this.props.CARD_STYLE_HOVER_TEXT(e.target.value)}})]}):null,[16,53,61].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"hover_text",children:"Hover Color"}),(0,w.jsxs)(v.A,{children:[(0,w.jsx)(x.A,{children:(0,w.jsx)("div",{className:"border pt-3 ps-3 bg-light rounded-1 cursor-pointer overlfow-hidden ".concat(0==t.ThemeRule.postHover?"border-primary":""),onClick:e=>{this.onHoverColorChange(0)},children:(0,w.jsx)("div",{className:"bg-white mt-3 ms-3 p-3 fw-medium fs-9",style:{borderTopLeftRadius:4,borderBottomRightRadius:2},children:"White"})})}),(0,w.jsx)(x.A,{children:(0,w.jsx)("div",{className:"border pt-3 ps-3 bg-gray-200 rounded-1 cursor-pointer overlfow-hidden ".concat(1==t.ThemeRule.postHover?"border-primary":""),onClick:e=>{this.onHoverColorChange(1)},children:(0,w.jsx)("div",{className:"bg-dark mt-3 ms-3 p-3 fw-medium text-light fs-9",style:{borderTopLeftRadius:4,borderBottomRightRadius:2},children:"Black"})})})]})]}):null,[16,61].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mb-2",htmlFor:"hover_effect",children:"Hover Effect"}),(0,w.jsxs)($.A,{className:"w-100 mb-3",type:"radio",name:"options",value:t.ThemeRule.hideContent,onChange:e=>{this.props.CARD_STYLE_HOVER_EFFECT(Number(e))},children:[(0,w.jsx)(X.A,{variant:"secondary",id:"h_e_caption",value:0,children:"Caption"}),(0,w.jsx)(X.A,{variant:"secondary",id:"h_e_cta",value:1,children:"CTA"})]})]}):null,(0,w.jsx)("hr",{className:""}),(0,w.jsxs)("div",{children:[[61,62].includes(s)?null:(0,w.jsx)("p",{className:"h5",children:"Author Style"}),[3,19,47].includes(s)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Label,{className:"mt-2",htmlFor:"author_color",children:"Author Colors"}),(0,w.jsx)(ne.A,{id:"author_color",defaultColor:t.ThemeRule.authorColor,changeColor:e=>{this.props.CARD_STYLE_AUTHOR_COLOR(e)},isDisabled:e?"disabled":"",colorChanged:a})]}):null,[3,47,19,61,16,53,4,50,55].includes(s)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"default_icon_color",className:"f-between mb-2",label:"Default Social Icon Color",checked:505==t.ThemeRule.iconType,onChange:e=>{this.props.CARD_STYLE_SOCIAL_ICON_COLOR_TYPE(e.target.checked?505:1)},reverse:!0})}),(0,w.jsx)("div",{style:{display:1==t.ThemeRule.iconType?"block":"none"},children:(0,w.jsx)(ne.A,{id:"icon_color",defaultColor:t.ThemeRule.iconColor,changeColor:e=>{this.props.CARD_STYLE_SOCIAL_ICON_COLOR(e)},colorChanged:a})})]}):null,[3,16,19,47,53,61,62].includes(s)?(0,w.jsxs)(w.Fragment,{children:[[3,19,47].includes(s)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"time_",className:"f-between",label:"Time",checked:t.Personalization.postTime,onChange:e=>{this.props.CARD_STYLE_TIME(Number(e.target.checked))},reverse:!0})}),(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"author_details",className:"f-between",label:"Author Detail",checked:t.Personalization.postAuthor,onChange:e=>{this.props.CARD_STYLE_ATHOR_DETAIL(Number(e.target.checked))},reverse:!0})}),(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"share_option",className:"f-between",label:"Share Options",checked:t.ThemeRule.shareOption,onChange:e=>{this.props.CARD_STYLE_SHARE_OPTION(Number(e.target.checked))},reverse:!0})})]}):null,[19,47].includes(s)?(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"hide_text",className:"f-between",label:"Hide Text",checked:t.ThemeRule.hideContent,onChange:e=>{this.props.CARD_STYLE_HIDE_CONTENT(Number(e.target.checked))},reverse:!0})}):null]}):null,(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"social_actions",className:"f-between",label:"Social Actions",checked:t.ThemeRule.socialAction,onChange:e=>{this.props.CARD_STYLE_SHARE_ACTION(Number(e.target.checked))},reverse:!0})}),(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"popup_content",className:"f-between",label:"Popup Content",checked:t.ThemeRule.popupContent,onChange:e=>{this.props.CARD_STYLE_POPUP_CONTENT(Number(e.target.checked))},reverse:!0})}),[62,61].includes(s)?(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(b.A.Check,{type:"switch",id:"reel_count",className:"f-between",label:"Reel View Count",checked:t.ThemeRule.showReelsView,onChange:e=>{this.props.CARD_STYLE_REELS_VIEW(Number(e.target.checked))},reverse:!0})}):null]})]})}}const We=(0,h.Ng)((e=>{var t,a,s,l,o,i,n,r,d,c;return{showCTAButton:null===(t=e.appsMore)||void 0===t||null===(a=t.detail)||void 0===a||null===(s=a.wall)||void 0===s||null===(l=s.User)||void 0===l||null===(o=l.UserRule)||void 0===o?void 0:o.cta,videoPopup:e.appsMore.video_popup,is_card_style_change:null===(i=e.appData)||void 0===i?void 0:i.is_card_style_change,inheritStyle:null===(n=e.appData)||void 0===n||null===(r=n.wall)||void 0===r||null===(d=r.ThemeRule)||void 0===d?void 0:d.inheritStyles,allFont:null===(c=e.allFont)||void 0===c?void 0:c.allFonts,appData:e.appData}}),(e=>({updateCtastatus:t=>e((0,Oe.An)(t)),CARD_STYLE_FONT_LINK:(t,a)=>{e({type:le.cvj,font:t,varient:a}),e({type:le.F7A,payload:!0})},CARD_STYLE_FONT_VARIENT:t=>{e({type:le.pKK,varient:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_FONT_SIZE:t=>{e({type:le.Fgt,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_CARD_COLOR:t=>{e({type:le.O67,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_FONT_COLOR:t=>{e({type:le.pPn,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_HOVER_COLOR:t=>{e({type:le.WqP,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_HOVER_EFFECT:t=>{e({type:le.QxJ,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_HOVER_TEXT:t=>{e({type:le.sG1,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_CORNER_RADIUS:t=>{e({type:le.C99,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_POSITION:t=>{e({type:le.tmE,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_AUTHOR_COLOR:t=>{e({type:le.R2I,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_SOCIAL_ICON_COLOR_TYPE:t=>{e({type:le.Ki1,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_SOCIAL_ICON_COLOR:t=>{e({type:le.DA4,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_TIME:t=>{e({type:le.bUA,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_ATHOR_DETAIL:t=>{e({type:le.WgG,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_SHARE_OPTION:t=>{e({type:le.tXX,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_SHARE_ACTION:t=>{e({type:le.C4x,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_HIDE_CONTENT:t=>{e({type:le.IxM,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_POPUP_CONTENT:t=>{e({type:le.Q6j,payload:t}),e({type:le.F7A,payload:!0})},CARD_STYLE_REELS_VIEW:t=>{e({type:le.Rg2,payload:t}),e({type:le.F7A,payload:!0})}})))(Ue),Ge=e=>{let{getData:t,save_and_publish:a,is_utm_tracker_change:l}=e;const{Wall:o}=(0,h.d4)((e=>{var t;return null===(t=e.appData)||void 0===t?void 0:t.wall})),i=(0,h.wA)(),[n,r]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{1==a&&1==l&&(()=>{if(0==(null===o||void 0===o?void 0:o.google_tacking_code.trim().length)&&1==(null===o||void 0===o?void 0:o.google_tacking_status))return r(!0),!1;let e=null===o||void 0===o?void 0:o.google_tacking_code,t=null===o||void 0===o?void 0:o.google_tacking_status,a=null===o||void 0===o?void 0:o.utm_status,s=null===o||void 0===o?void 0:o.utm_source,l=null===o||void 0===o?void 0:o.utm_medium,n=null===o||void 0===o?void 0:o.utm_campaign;i((0,Ae.mK)({code:e,status:t,utmStatus:a,utmSource:s,utmCampaign:n,utmMedium:l}))})()}),[a]),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"google_anly",children:[(0,w.jsx)("span",{className:"me-2",children:"Google Analytics"}),(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:"Allow Google Analytics tracking for this website."}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.Ah,{icon:"info",height:14,width:14})})})]}),(0,w.jsx)(b.A.Check,{type:"switch",id:"google_anly",checked:null===o||void 0===o?void 0:o.google_tacking_status,onChange:e=>{r(!1),i({type:le._ft,payload:e.target.checked})}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(b.A.Control,{placeholder:"e.g. UA-123456-1 A",className:"".concat(n?"is-invalid":""),value:null===o||void 0===o?void 0:o.google_tacking_code,maxLength:"100",type:"text",onChange:e=>{r(!1),i({type:le.CNo,payload:e.target.value})},disabled:null===o||void 0===o||!o.google_tacking_status}),n?(0,w.jsx)("span",{className:"invalid-feedback",children:" Please Fill Tracking ID "}):""]})]})};class Ye extends s.Component{render(){const{CssStatus:e}=this.props;return(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsxs)(b.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"custom_css_status",children:[(0,w.jsx)("span",{className:"me-2",children:"Status"}),(0,w.jsx)(y.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:"Add your Custom CSS to personalize the look of your Gallery."}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.Ah,{icon:"info",height:14,width:14})})})]}),(0,w.jsx)(b.A.Check,{type:"switch",id:"custom_css_status",defaultValue:e,checked:1==e,onChange:e=>{this.props.CARD_STYLE_INHERIT(Number(e.target.checked))}})]})}}const Ve=(0,h.Ng)((e=>{var t,a,s;return{CssStatus:null===(t=e.appData)||void 0===t||null===(a=t.wall)||void 0===a||null===(s=a.Personalization)||void 0===s?void 0:s.cssStatus}}),(e=>({CARD_STYLE_INHERIT:t=>{e({type:le.bAF,payload:Number(t)})}})))(Ye),Me=e=>{var t,a,l,o,i,n,r,d,c,p,u,m,g,v;const{openBanner:x,a_key:_,bannerDetail:b,appData:y,fonts:j,userData:f,onCtaChange:C,setBanner:N}=e,[T,S]=((0,h.d4)((e=>e.appsMore)),(0,s.useState)("banner")),[P,D]=(0,s.useState)(null===y||void 0===y||null===(t=y.wall)||void 0===t?void 0:t.Personalization.css),[E,k]=(0,s.useState)(!1),I=(0,h.wA)();let L=null===y||void 0===y?void 0:y.wall,O=null===y||void 0===y||null===(a=y.wall)||void 0===a?void 0:a.UgcSettings,R=null===y||void 0===y||null===(l=y.wall)||void 0===l||null===(o=l.Personalization)||void 0===o?void 0:o.id;(0,s.useEffect)((()=>{I({type:le.S1y,payload:"banner"}),window.$("#wallThemeRuleCtaStatus").on("change",(function(e){C()})),window.$("#wallcssStatus").on("change",(function(e){k("true"==this.value)}))}),[E]);const F=(0,Pe.a)({theme:"light",settings:{background:"#f8f8f8",caret:"none",gutterBackground:"#f7f7f7"},styles:[{tag:Te._A.comment,color:"#b06213"},{tag:Te._A.variableName,color:"#ff0000"},{tag:[Te._A.string,Te._A.special(Te._A.brace)],color:"#b83b3b"},{tag:Te._A.number,color:"#166948"},{tag:Te._A.bool,color:"#92349f"},{tag:Te._A.null,color:"#166948"},{tag:Te._A.keyword,color:"#166948"},{tag:Te._A.operator,color:"#166948"},{tag:Te._A.className,color:"#ff0000"},{tag:Te._A.definition(Te._A.typeName),color:"#b83b3b"},{tag:Te._A.typeName,color:"#b83b3b"},{tag:Te._A.angleBracket,color:"#92349f"},{tag:Te._A.tagName,color:"#4d9840"},{tag:Te._A.attributeName,color:"#92349f"},{tag:Te._A.color,color:"#3a2ba4"},{tag:Te._A.color,color:"#3a2ba4"}]});return(0,s.useEffect)((()=>{1==(null===y||void 0===y?void 0:y.save_and_publish)&&1==(null===y||void 0===y?void 0:y.is_custome_css_change)&&((0,A.HA)(),(0,Oe.Vt)(P,R).then((e=>{(0,A.b)();const{data:t}=e;t.status?(0,Oe.kC)():(0,A.r$)(t.message)})).catch((e=>{console.log("err",e),(0,A.r$)("Error in updating")})))}),[null===y||void 0===y?void 0:y.save_and_publish]),(0,w.jsxs)(te.A,{className:"border-top",defaultActiveKey:"background",flush:!0,children:[(0,w.jsxs)(te.A.Item,{eventKey:"background",children:[(0,w.jsx)(te.A.Header,{children:"Background"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(ae.A,{children:(0,w.jsx)(Le,{backgroundDetails:L,save_and_publish:null===y||void 0===y?void 0:y.save_and_publish,is_backgroun_change:null===y||void 0===y?void 0:y.is_backgroun_change,PersonalizationID:R,bannerDetail:y.wall})})})]}),(0,w.jsxs)(te.A.Item,{eventKey:"card_style",children:[(0,w.jsx)(te.A.Header,{children:"Card Style"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:j&&j.length&&null!==y&&void 0!==y&&y.wall&&Object.keys(y).length>0?(0,w.jsx)(ae.A,{children:(0,w.jsx)(We,{save_and_publish:null===y||void 0===y?void 0:y.save_and_publish,bannerDetail:null===y||void 0===y?void 0:y.wall,ownerId:null===y||void 0===y?void 0:y.wallOwner,fonts:j,planID:null===y||void 0===y||null===(i=y.wall)||void 0===i?void 0:i.UserDetail.planId})}):null})]}),(0,w.jsxs)(te.A.Item,{eventKey:"more_actions",children:[(0,w.jsx)(te.A.Header,{children:"More Actions"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsxs)(ae.A,{children:[" ",(0,w.jsx)(He,{planID:null===y||void 0===y||null===(n=y.wall)||void 0===n?void 0:n.UserDetail.planId,appData:y,save_and_publish:null===y||void 0===y?void 0:y.save_and_publish,is_theme_setting_change:null===y||void 0===y?void 0:y.is_theme_setting_change,bannerDetail:null===y||void 0===y?void 0:y.wall,db_table:null===y||void 0===y||null===(r=y.wall)||void 0===r?void 0:r.UserDetail.db_table,adminId:y.wall,userData:f,closePopup:x})]})})]}),0!=(null===y||void 0===y||null===(d=y.wall)||void 0===d||null===(c=d.UserRule)||void 0===c?void 0:c.customCss)?(0,w.jsxs)(te.A.Item,{eventKey:_||T,children:[(0,w.jsx)(te.A.Header,{children:"Custom CSS"}),(0,w.jsxs)(te.A.Body,{className:"bg-gray-100",children:[(0,w.jsx)(Ve,{}),(0,w.jsx)("div",{className:"".concat(null!==y&&void 0!==y&&null!==(p=y.wall)&&void 0!==p&&null!==(u=p.Personalization)&&void 0!==u&&u.cssStatus?"":"inActiveCustomeCss"),children:(0,w.jsxs)(ae.A,{children:[" ",(0,w.jsx)(Ne.Ay,{value:null===y||void 0===y||null===(m=y.wall)||void 0===m?void 0:m.Personalization.css,height:"350px",save_and_publish:null===y||void 0===y?void 0:y.save_and_publish,theme:F,basicSetup:{foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1,indentOnInput:!1,autocompletion:!1},extensions:[(0,Se.rI)("css")],onChange:e=>{I({type:le.Nvm,payload:e})},editable:!(null===y||void 0===y||null===(g=y.wall)||void 0===g||null===(v=g.Personalization)||void 0===v||!v.cssStatus)})]})})]})]}):null,(0,w.jsxs)(te.A.Item,{eventKey:"google_analytics",children:[(0,w.jsx)(te.A.Header,{children:"Google Analytics"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(ae.A,{children:(0,w.jsx)(Ge,{getData:b,save_and_publish:null===y||void 0===y?void 0:y.save_and_publish,is_utm_tracker_change:null===y||void 0===y?void 0:y.is_utm_tracker_change})})})]}),y.onsite_status?(0,w.jsxs)(te.A.Item,{eventKey:"snap_up",children:[(0,w.jsx)(te.A.Header,{children:"SnapUp"}),(0,w.jsx)(te.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(ae.A,{children:(0,w.jsx)(Be,{ugcDetails:O,save_and_publish:null===y||void 0===y?void 0:y.save_and_publish,is_magic_upload_change:null===y||void 0===y?void 0:y.is_magic_upload_change,PersonalizationID:R})})})]}):null]})},Ke=()=>(0,w.jsx)("div",{className:"theme_preview",children:(0,w.jsx)("iframe",{src:"".concat(m.gEI).concat(localStorage.getItem("website_id"),"/editor?website=true")})});var Je=a(18633),qe=a(88749),Ze=a(47208),$e=a(39610),Xe=a(91615);class Qe extends s.Component{constructor(){var e,t;super(...arguments),this.state={selectedtheme:!1,themeId:null===(e=this.props.appData)||void 0===e||null===(t=e.wall)||void 0===t?void 0:t.Personalization.commerceTheme},this.onClose=()=>this.setState({selectedtheme:!1,themeId:null}),this.changeThemes=e=>{this.setState({selectedtheme:!0,themeId:e}),this.props.CHANGE_THEMES(e)},this.onApplyTheme=()=>{}}componentDidMount(){var e,t;this.setState({themeId:null===(e=this.props.appData)||void 0===e||null===(t=e.wall)||void 0===t?void 0:t.Personalization.commerceTheme})}componentDidUpdate(e){var t,a,s,l,o,i;(!0===this.props.appData.save_and_publish&&!0!==e.appData.save_and_publish&&this.props.appData.is_themes_change&&this.props.APPLY_THEME(this.state.themeId,this.onApplyTheme),(null===(t=this.props.appData)||void 0===t||null===(a=t.wall)||void 0===a?void 0:a.Personalization.commerceTheme)!==(null===(s=e.appData)||void 0===s||null===(l=s.wall)||void 0===l?void 0:l.Personalization.commerceTheme))&&this.setState({themeId:null===(o=this.props.appData)||void 0===o||null===(i=o.wall)||void 0===i?void 0:i.Personalization.commerceTheme})}render(){const{themeList:e,appData:t}=this.props,{themeId:a}=this.state;return(0,w.jsx)("div",{className:"px-4 pb-3 mb-4",children:(0,w.jsx)(v.A,{className:"select-group flex-wrap row gx-8 border-top",children:e.map(((e,t)=>(0,w.jsx)(x.A,{className:"col-4 p-0 select-grid",children:(0,w.jsxs)(r.A,{"data-theme":e.themeId,variant:"grid",className:"rounded-0 d-flex align-items-center flex-column py-4 px-0 border-0 w-100 ".concat(e.themeId==a?"active":""),onClick:()=>this.changeThemes(e.themeId),children:[(0,w.jsx)("div",{className:"w-50px h-50px mb-2",children:(0,w.jsx)(g.A,{src:(0,c.pc)("media/icons/theme/".concat(e.themeId,".svg")),height:50,width:50})}),(0,w.jsx)("p",{className:"mb-0 text-center",children:e.name})]})},t)))})})}}const et=(0,h.Ng)((e=>({appData:e.appData})),(e=>({CHANGE_THEMES:t=>e((e=>{var t,a,s,l,o,i,n,r,d,c,h,p,u,{wall:g}=Ce.A.getState().appData;const v=null===g||void 0===g||null===(t=g.Personalization)||void 0===t?void 0:t.id,x={theme:e,themeTypePre:null===g||void 0===g||null===(a=g.Personalization)||void 0===a?void 0:a.themeType,textDecorateStatus:null===g||void 0===g||null===(s=g.Personalization)||void 0===s?void 0:s.textDecorateStatus,postFeaturedStatus:null===g||void 0===g||null===(l=g.Personalization)||void 0===l?void 0:l.postFeaturedStatus,filterEnableStatus:null===g||void 0===g||null===(o=g.Personalization)||void 0===o?void 0:o.filterEnableStatus,textDecorate:null===g||void 0===g||null===(i=g.Personalization)||void 0===i?void 0:i.textDecorate,postFeatured:null===g||void 0===g||null===(n=g.Personalization)||void 0===n?void 0:n.postFeatured,filterStatus:null===g||void 0===g||null===(r=g.Personalization)||void 0===r?void 0:r.filterStatus,themeType:null===g||void 0===g||null===(d=g.Personalization)||void 0===d?void 0:d.themeType,trimcontent:null===g||void 0===g||null===(c=g.Personalization)||void 0===c?void 0:c.trimcontent,trimContentStatus:null===g||void 0===g||null===(h=g.Personalization)||void 0===h?void 0:h.trimContentStatus,popupSlideShow:null===g||void 0===g||null===(p=g.Personalization)||void 0===p?void 0:p.postFeaturedStatus,popupSlideShowStatus:null===g||void 0===g||null===(u=g.Personalization)||void 0===u?void 0:u.postFeaturedStatus};return t=>{t({type:le.ej3,payload:!0}),(new fe.A).post("".concat(m.HAL,"/").concat(localStorage.getItem("active_wall"),"/").concat(v,"/").concat(localStorage.getItem("website_id")),x).then((a=>{const{responseData:s,responseCode:l}=a.data;var o,i,n;200==l&&(t((0,Ae.Ux)(localStorage.getItem("active_wall"),null!==(o=s.wall)&&void 0!==o&&o.ThemeRule.numberOfPosts?null===(i=s.wall)||void 0===i?void 0:i.ThemeRule.numberOfPosts:20,null===(n=s.wall)||void 0===n?void 0:n.ThemeRule.themeId)),setTimeout((()=>{t({type:le.xG2,payload:e}),t({type:le.B4N,payload:!0})}),200),setTimeout((()=>{t({type:le.ej3,payload:!1})}),2e3)),we()})).catch((e=>{t({type:le.ej3,payload:!1}),console.log("ERROR",e)}))}})(t)),APPLY_THEME:(t,a)=>e(((e,t)=>{var a,s,l,o,i,n,r,d,c,h,p,u,g,v,{wall:x}=Ce.A.getState().appData;const _=null===x||void 0===x||null===(a=x.Personalization)||void 0===a?void 0:a.id,b={theme:e,themeTypePre:null===x||void 0===x||null===(s=x.Personalization)||void 0===s?void 0:s.themeType,textDecorateStatus:null===x||void 0===x||null===(l=x.Personalization)||void 0===l?void 0:l.textDecorateStatus,postFeaturedStatus:null===x||void 0===x||null===(o=x.Personalization)||void 0===o?void 0:o.postFeaturedStatus,filterEnableStatus:null===x||void 0===x||null===(i=x.Personalization)||void 0===i?void 0:i.filterEnableStatus,textDecorate:null===x||void 0===x||null===(n=x.Personalization)||void 0===n?void 0:n.textDecorate,postFeatured:null===x||void 0===x||null===(r=x.Personalization)||void 0===r?void 0:r.postFeatured,filterStatus:null===x||void 0===x||null===(d=x.Personalization)||void 0===d?void 0:d.filterStatus,themeType:null===x||void 0===x||null===(c=x.Personalization)||void 0===c?void 0:c.themeType,trimcontent:null===x||void 0===x||null===(h=x.Personalization)||void 0===h?void 0:h.trimcontent,trimContentStatus:null===x||void 0===x||null===(p=x.Personalization)||void 0===p?void 0:p.trimContentStatus,popupSlideShow:null===x||void 0===x||null===(u=x.Personalization)||void 0===u?void 0:u.postFeaturedStatus,popupSlideShowStatus:null===x||void 0===x||null===(g=x.Personalization)||void 0===g?void 0:g.postFeaturedStatus,padding:null===x||void 0===x||null===(v=x.Personalization)||void 0===v?void 0:v.padding};return a=>{(new fe.A).post("".concat(m.Z82,"/").concat(localStorage.getItem("wallId"),"/").concat(_,"/").concat(localStorage.getItem("website_id")),b).then((s=>{const{responseData:l,responseCode:o}=s.data;200==o&&(a({type:le.sJx,payload:l,heightEvent:null}),setTimeout((()=>{a({type:le.xG2,payload:e}),a((0,Ae.M_)())}),500)),we(),t()})).catch((e=>{console.log("ERROR",e)}))}})(t,a))})))(Qe);var tt=a(18038),at=a(9676),st=a(1391),lt=a(26806);const ot=e=>{let{fonts:t}=e;return(0,w.jsx)(w.Fragment,{children:(null===t||void 0===t?void 0:t.length)>0&&t.map(((e,t)=>((e,t)=>{if(!document.querySelector("#style_font_".concat(e))){const a=document.createElement("link");a.href=t,a.rel="stylesheet",a.id="style_font_".concat(e),document.head.appendChild(a)}})(e.id,"https://fonts.googleapis.com/css?family=".concat(e.family,":").concat(JSON.parse(e.variants).join(",")))))})};class it extends s.Component{constructor(e){super(e),this.changeGalleryType=e=>{this.setState({galleryType:e,previewKey:"script"})},this.changePlatform=e=>{this.setState({platform:e})},this.selectedWebsite=()=>{const{websiteList:e}=this.props.websiteData;var t=null===e||void 0===e?void 0:e.find((e=>e.wall.Wall.id==localStorage.getItem("website_id")));this.setState({selectedWall:t&&null!==t&&void 0!==t&&t.wall?t:e&&e[0]?e[0]:""})},this.ChangeGallery=(e,t)=>{var a,s,l,o,i,n,r,d;const{allWalls:c}=this.props;var h=null===c||void 0===c?void 0:c.find((t=>t.id==e));this.setState({activeGallery:h,selectLoader:!1}),JSON.parse(localStorage.getItem("isCollaborator"))&&localStorage.setItem("active_wall",null===h||void 0===h?void 0:h.wallId),t?localStorage.setItem("active_wall",null===h||void 0===h?void 0:h.id):this.props.WALL_CHANGED(),null!==(a=this.props.appData)&&void 0!==a&&null!==(s=a.wall)&&void 0!==s&&s.ThemeRule.themeId&&this.props.CHANGE_WEBSITE_WALL(JSON.parse(localStorage.getItem("isCollaborator"))?null===h||void 0===h?void 0:h.wallId:null===h||void 0===h?void 0:h.id,null!==(l=this.props.appData)&&void 0!==l&&null!==(o=l.wall)&&void 0!==o&&o.ThemeRule.numberOfPosts?null===(i=this.props.appData)||void 0===i||null===(n=i.wall)||void 0===n?void 0:n.ThemeRule.numberOfPosts:20,null===(r=this.props.appData)||void 0===r||null===(d=r.wall)||void 0===d?void 0:d.ThemeRule.themeId)},this.changeActiveTab=()=>{document.querySelectorAll(".publishTab").forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),document.querySelector("#html-tab").classList.add("active")},this.applyWebsite_wall=()=>{var e,t;const a={wallId:localStorage.getItem("active_wall"),id:localStorage.getItem("website_id")};this.setState({spinner:!0,previewRerender:!0});const s=null!==(e=this.props.authorized.userData)&&void 0!==e&&e.user_data.user.extra_data?JSON.parse(null===(t=this.props.authorized.userData)||void 0===t?void 0:t.user_data.user.extra_data):{};s&&!s.FEED_CUSTOMIZED&&(0,Ze.oU)({FEED_CUSTOMIZED:!0}).then((e=>{this.props.getUserInfo_afterChanges()})),setTimeout((()=>{(0,Ae.tR)(a).then((e=>{const{data:t}=e;this.setState({spinner:!1,isWallChange:!1}),setTimeout((()=>{this.setState({previewRerender:!1})}),2e3),200==t.responseCode&&((0,A.k1)("Successfully Updated"),this.props.SET_ALL_UPDATED())})).catch((e=>console.warn(e)))}),1e3)},this.discardSetting=()=>{var e,t,a=null===(e=this.props.websiteData)||void 0===e||null===(t=e.websiteList)||void 0===t?void 0:t.find((e=>{var t;return(null===(t=e.wall.Wall)||void 0===t?void 0:t.id)==localStorage.getItem("website_id")}));a&&this.props.GET_APP_DATA(a)},this.updateData=()=>{var e,t;const a=null!==(e=this.props.authorized.userData)&&void 0!==e&&e.user_data.user.extra_data?JSON.parse(null===(t=this.props.authorized.userData)||void 0===t?void 0:t.user_data.user.extra_data):{};a&&!a.CUSTOMIZATION_SAVED&&(0,Ze.oU)({CUSTOMIZATION_SAVED:!0}).then((e=>{this.props.getUserInfo_afterChanges()}))},this.onGenerateCode=()=>{const{websiteList:e}=this.props.websiteData,t=localStorage.getItem("website_id"),a=e&&e.length?null===e||void 0===e?void 0:e.find((e=>{var a;return(null===(a=e.wall.Wall)||void 0===a?void 0:a.id)==t})):null;var s,l;a?null!==(s=a.wall.Wall)&&void 0!==s&&s.wallId&&0!=(null===(l=a.wall.Wall)||void 0===l?void 0:l.wallId)?(0,$e.m)((()=>this.setState({footer_action2:!1,footer_action1:!0,footer_action3:!0},(()=>this.updateData())))):(this.props.SAVE_AND_PUBLISH(!0),this.applyWebsite_wall(),setTimeout((()=>{(0,$e.m)((()=>this.setState({footer_action2:!1,footer_action1:!0,footer_action3:!0})))}),500)):(0,$e.m)((()=>this.setState({footer_action2:!1,footer_action1:!0,footer_action3:!0},(()=>this.updateData()))))},this.changeWebsite=e=>{const{websiteData:t,navigate:a,allWalls:s}=this.props;(0,$e.m)((()=>{this.setState({selectedWall:null,selectLoader:!0,activeGallery:null}),(0,Ze.oU)({website_id:e.id}).then((l=>{var o;localStorage.setItem("website_id",e.id),window.location.pathname.includes("/shopify/")?a("/website/shopify/".concat(localStorage.getItem("website_id"))):window.location.pathname.includes("/bigcommerce/")?a("/website/bigcommerce/".concat(localStorage.getItem("website_id"))):a("/website/publish/".concat(e.id));var i=null===t||void 0===t||null===(o=t.websiteList)||void 0===o?void 0:o.find((t=>t.wall.Wall.id==e.id));const n=s&&s.length>0?s.find((e=>e.id==i.wall.Wall.wallId)):null;this.setState({selectedWall:i,activeGallery:n,selectLoader:!1},(()=>this.ChangeGallery(n?n.id:s&&s.length>0?s[0].id:{}))),this.props.GET_APP_DATA(i),this.props.ACTIVE_WEBSITE_ID()}))}))},this.state={footer_action1:!1,footer_action2:!0,footer_action3:!1,galleryType:1,banner:!1,activeKey:"",activeGallery:[],changeSetting:!1,spinner:!1,mobilePrewiew:!1,isWallChange:!1,previewRerender:!1,minNumberPost:1,previewKey:"script",width:"",isSavedList:!1,selectedWall:"",platform:1,publishOption:1,selectLoader:!1}}componentDidMount(){var e,t;const{authorized:a,getUserInfo_afterChanges:s,websiteData:l,ctaData:o}=this.props;null!==l&&void 0!==l&&l.websiteList&&null!==l&&void 0!==l&&l.websiteList.length||this.props.GET_ALL_WEBSITE_LIST();const i=null!==(e=a.userData)&&void 0!==e&&e.user_data.user.extra_data?JSON.parse(null===(t=a.userData)||void 0===t?void 0:t.user_data.user.extra_data):{};if(this.props.GET_THEME_LIST(),this.props.getFontVariants(),o||this.props.GET_CTA_ACTION(),null!==l&&void 0!==l&&l.websiteList&&null!==l&&void 0!==l&&l.websiteList.length){if(localStorage.getItem("active_wall")&&localStorage.getItem("active_wall")>0){var n,r,d,c;const{allWalls:e}=this.props;var h,p,u,m,g,v,x,_,b=null===e||void 0===e?void 0:e.find((e=>e.id==localStorage.getItem("active_wall")));if(b=b||(e&&e.length>0?e[0]:null),this.setState({activeGallery:b}),null!==(n=b)&&void 0!==n&&n.id&&null!==(r=this.props.appData)&&void 0!==r&&null!==(d=r.wall)&&void 0!==d&&null!==(c=d.Personalization)&&void 0!==c&&c.commerceTheme)this.props.CHANGE_WEBSITE_WALL(null===(h=b)||void 0===h?void 0:h.id,null!==(p=this.props.appData)&&void 0!==p&&null!==(u=p.wall)&&void 0!==u&&u.Personalization.numberOfPosts?null===(m=this.props.appData)||void 0===m||null===(g=m.wall)||void 0===g?void 0:g.Personalization.numberOfPosts:20,null===(v=this.props.appData)||void 0===v||null===(x=v.wall)||void 0===x||null===(_=x.Personalization)||void 0===_?void 0:_.commerceTheme)}else{let e=this.props.allWalls&&this.props.allWalls.length?this.props.allWalls[0]:"";this.props.CHANGE_WEBSITE_WALL(null===e||void 0===e?void 0:e.id,20,61),this.setState({activeGallery:e})}i&&!i.WEBSITE_VISITED&&(0,Ze.oU)({WEBSITE_VISITED:!0}).then((e=>{s()}))}window.addEventListener("resize",this.handleWindowResize),this.selectedWebsite()}componentDidUpdate(e){var t,a;const{websiteData:s,allWalls:l}=this.props;if((null===s||void 0===s?void 0:s.websiteList.length)!=(null===(t=e.websiteData)||void 0===t?void 0:t.websiteList.length))if((null===s||void 0===s?void 0:s.websiteList.length)>0){var o,i,n;let e=null===(o=this.props.websiteData)||void 0===o||null===(i=o.websiteList)||void 0===i?void 0:i.find((e=>{var t,a;return(null===(t=e.wall)||void 0===t||null===(a=t.Wall)||void 0===a?void 0:a.id)==localStorage.getItem("website_id")}));e=e||(null===(n=this.props.websiteData)||void 0===n?void 0:n.websiteList[0]);const t=l&&l.length>0?l.find((t=>t.id==e.wall.Wall.wallId)):null;this.setState({selectedWall:e,activeGallery:t},(()=>t?this.ChangeGallery(t.id,"noChange"):{})),(0,Ze.oU)({website_id:e.id}).then((t=>{localStorage.setItem("website_id",e.wall.Wall.id)}))}else this.setState({selectedWall:null,activeGallery:l&&l.length>0?l[0]:null},(()=>{l&l.length>0&&this.ChangeGallery(l[0].id,"noChanges")})),(0,Ze.oU)({website_id:""}).then((e=>{localStorage.setItem("website_id","")}));if((null===(a=e.allWalls)||void 0===a?void 0:a.length)!=(null===l||void 0===l?void 0:l.length)&&this.state.selectedWall){const e=l&&l.length>0?l.find((e=>e.id==this.state.selectedWall.wall.Wall.wallId)):null;this.ChangeGallery(e?e.id:l&&l.length>0?l[0].id:null,"noChanges")}}render(){var e,t,a,s;const{footer_action1:h,footer_action2:u,footer_action3:m,publishOption:g,activeKey:v,activeGallery:x,changeSetting:_,isWallChange:b,previewRerender:y,width:j,selectedWall:f,selectLoader:C,platform:A,galleryType:N,previewKey:T}=this.state,{themeData:S,allWalls:P,appData:D,websiteData:E,allFont:k}=this.props;var I=!!window.location.pathname.includes("/shopify/"),L=!!window.location.pathname.includes("/bigcommerce/");return(0,w.jsxs)(l.A,{fluid:!0,children:[(0,w.jsx)(ot,{fonts:k}),(0,w.jsx)(o.A,{className:"content_inner website__ border-0",children:(0,w.jsxs)(o.A.Body,{className:"p-0 d-flex w-100",children:[(0,w.jsx)(tt.A,{filterToggle:!1,closeAside:this.closeAside,children:(0,w.jsxs)(o.A,{className:"a_header_ a_footer_",children:[(0,w.jsx)(o.A.Header,{className:"py-4",children:(0,w.jsx)(at.A,{contentList:null===E||void 0===E?void 0:E.websiteList,changeWebsite:this.changeWebsite,selectedContent:null===f||void 0===f||null===(e=f.wall)||void 0===e?void 0:e.Wall,title:"Website",isWebsite:!0})}),(0,w.jsxs)(o.A.Body,{className:"bg-gray-100 aside_body p-0",style:{marginBottom:-1},children:[h?"":(0,w.jsxs)("div",{className:"border-bottom p-4",children:[(0,w.jsx)("h5",{children:"Select Content"}),(0,w.jsx)(p.A,{contentList:P,modifyContent:e=>this.ChangeGallery(e.id),selectedContent:x,title:"Website",onlySwitcher:!0,selectLoader:C})]}),h?(0,w.jsx)(ee,{changeGalleryType:this.changeGalleryType,galleryType:N,changePlatform:this.changePlatform,platform:A,isShopify:I}):"",u?(0,w.jsxs)(i.A.Container,{defaultActiveKey:"theme",children:[(0,w.jsxs)(n.A,{variant:"underline",className:"justify-content-center",children:[(0,w.jsx)(n.A.Item,{className:"ms-2",children:(0,w.jsx)(n.A.Link,{eventKey:"theme",children:"Theme"})}),(0,w.jsx)(n.A.Item,{className:"ms-2",children:(0,w.jsx)(n.A.Link,{eventKey:"customization",children:"Customization"})}),(0,w.jsx)(n.A.Item,{className:"ms-2",children:(0,w.jsx)(n.A.Link,{eventKey:"cta",children:"CTA Button"})})]}),(0,w.jsxs)(i.A.Content,{children:[(0,w.jsx)(i.A.Pane,{eventKey:"theme",children:(0,w.jsx)(et,{themeList:S.themeList,refreshEmbed:this.refreshEmbed})}),(0,w.jsx)(i.A.Pane,{eventKey:"customization",children:(null===D||void 0===D?void 0:D.wall)&&!_&&(0,w.jsx)(Me,{a_key:v,bannerDetail:null===(t=this.props)||void 0===t?void 0:t.bannerDetail,appData:null===(a=this.props)||void 0===a?void 0:a.appData,fonts:null===(s=this.props)||void 0===s?void 0:s.fonts})}),(0,w.jsx)(i.A.Pane,{eventKey:"cta",children:this.props.ctaData?(0,w.jsx)(je,{}):""})]})]}):""]}),(0,w.jsxs)(o.A.Footer,{className:"d-flex justify-content-end",children:[u?null!==D&&void 0!==D&&D.is_wall_change||null!==D&&void 0!==D&&D.is_themes_change||null!==D&&void 0!==D&&D.is_backgroun_change||null!==D&&void 0!==D&&D.is_banner_IMG_change||null!==D&&void 0!==D&&D.is_banner_change||null!==D&&void 0!==D&&D.is_card_style_change||null!==D&&void 0!==D&&D.is_theme_setting_change||null!==D&&void 0!==D&&D.is_custome_css_change||null!==D&&void 0!==D&&D.is_magic_upload_change||null!==D&&void 0!==D&&D.is_cta_setting_change||null!==D&&void 0!==D&&D.is_utm_tracker_change?(0,w.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,w.jsx)(r.A,{variant:"link",className:"ms-3",id:"discardSetting",onClick:()=>this.discardSetting(),children:"Discard"}),(0,w.jsx)(r.A,{className:"ms-3 ".concat(this.state.spinner?"spinner":""),onClick:()=>{this.props.SAVE_AND_PUBLISH(!0),this.applyWebsite_wall()},children:"Save Changes"})]}):null:"",m?(0,w.jsx)("div",{children:(0,w.jsxs)(r.A,{className:"ms-3",onClick:()=>this.setState({footer_action1:!1,footer_action2:!0,footer_action3:!1}),children:[(0,w.jsx)(c.Ah,{icon:"edit",height:14,width:14}),"Edit"]})}):""]})]})}),null!==E&&void 0!==E&&E.websiteList&&null!==E&&void 0!==E&&E.websiteList.length?(0,w.jsxs)(o.A,{className:"preview_ ".concat(h?"p_header_":"p_footer_"),children:[h?(0,w.jsxs)(i.A.Container,{activeKey:T,onSelect:e=>this.setState({previewKey:e}),children:[(0,w.jsx)(o.A.Header,{className:"py-0 align-items-end",children:(0,w.jsxs)(n.A,{variant:"underline",className:"justify-content-center",children:[(0,w.jsx)(n.A.Item,{className:"me-2",children:(0,w.jsx)(n.A.Link,{eventKey:"script",children:"Script"})}),(0,w.jsx)(n.A.Item,{className:"me-2",children:(0,w.jsx)(n.A.Link,{eventKey:"preview",children:"Preview"})})]})}),(0,w.jsx)(o.A.Body,{children:(0,w.jsxs)(i.A.Content,{children:[(0,w.jsx)(i.A.Pane,{eventKey:"script",children:(0,w.jsx)(ae.A,{children:(0,w.jsx)(J,{galleryType:N,platform:A,closePopup:this.closePopup,isShopify:I,isBigCommerce:L},localStorage.getItem("website_id"))})}),(0,w.jsx)(i.A.Pane,{eventKey:"preview",children:(0,w.jsx)(Ke,{})})]})})]}):"",u?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.A.Body,{children:(0,w.jsxs)("div",{className:"theme_preview",children:[null!==D&&void 0!==D&&D.live_preview_loader||null!==D&&void 0!==D&&D.isPostLoading?(0,w.jsx)(Je.a,{bg:"white"}):"",(0,w.jsx)(ae.A,{children:(0,w.jsx)(Z,{})}),!(null!==D&&void 0!==D&&D.error_code&&(null===D||void 0===D?void 0:D.error_code)>0)||null!==D&&void 0!==D&&D.live_preview_loader||null!==D&&void 0!==D&&D.isPostLoading?null:(0,w.jsx)(ae.A,{children:(0,w.jsx)("h1",{children:"'Error'"})}),!(P&&P.length<=0)||null!==D&&void 0!==D&&D.live_preview_loader||null!==D&&void 0!==D&&D.isPostLoading||null!==D&&void 0!==D&&D.error_code?null:(0,w.jsx)(lt.A,{title:"Preview Missing? \ud83d\udc40",desc:"You skipped the preliminary step. Connect your social account to collect content and begin creating your gallery.",icon:"media",button:{action:()=>this.props.navigate("/content/moderation/".concat(localStorage.getItem("active_wall"))),text:"Add Content"},isFullScreen:!1})]})}),(0,w.jsx)(o.A.Footer,{children:(0,w.jsx)("div",{className:"f-center justify-content-end",children:(0,w.jsxs)(r.A,{variant:"primary",className:"ms-3",onClick:this.onGenerateCode,children:[(0,w.jsx)(c.Ah,{icon:"fleshlight",height:14,width:14}),"Generate Code"]})})})]}):""]}):null!==E&&void 0!==E&&E.websiteLoading?(0,w.jsx)("div",{style:{minHeight:"calc(100vh - 50px)"},children:(0,w.jsx)(Je.a,{})}):(0,w.jsxs)("div",{className:"f-center py-4 w-100",style:{height:"calc(100vh - 95px)"},children:[(0,w.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,w.jsx)(d.A,{className:"mb-5",src:(0,c.pc)("media/images/error/create-website.svg"),width:"120",height:"120",fluid:!0}),(0,w.jsx)("h4",{className:"text-gray-dark fw-semibold text-center",children:"Create a website, to start! \u231b"}),(0,w.jsx)("p",{className:"fs-7",children:"Oops! Looks like you have deleted your website, create one by simply clicking on the button below."}),(0,w.jsx)(r.A,{variant:"primary",className:"mb-2 btn-min-w",onClick:()=>this.props.TOGGLE_ADD_WEBSITE(),children:"Create Website"})]}),(0,w.jsx)(at.A,{title:"Website",addNew:this.props.toggle,noList:!0})]})]})})]})}}const nt=(0,h.Ng)((e=>{var t,a,s;return{authorized:e.authorized,allWalls:null===(t=e.dashboardData)||void 0===t||null===(a=t.dashboarddata)||void 0===a?void 0:a.allWalls,bannerDetail:e.appsMore,fonts:e.appsMore.fonts,themeData:e.themeData,ctaData:e.ctaData.data,allFont:null===(s=e.allFont)||void 0===s?void 0:s.allFonts,websiteData:e.websiteList,appData:e.appData,toggle:e.websiteList.addWebsiteNow}}),(e=>({GET_WALL_DETAILS:()=>e((()=>{var e,t;const{user_data:a}=null===(e=Ce.A.getState().authorized)||void 0===e?void 0:e.userData;var s=JSON.parse(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.extra_data),l=localStorage.getItem("wallId")?localStorage.getItem("wallId"):null===s||void 0===s?void 0:s.wallId;return e=>{(new fe.A).post("".concat(m.yGj),{ownerId:localStorage.getItem("ownerId"),wallId:l}).then((e=>{const{wall:t}=e.data})).catch((e=>{console.log("ERROR",e)}))}})()),GET_THEME_LIST:()=>e((e=>{(new fe.A).get(m.fXN).then((t=>{const{responseData:a}=t.data;e({type:le.Q0S,payload:a})})).catch((e=>{console.log("ERROR",e)}))})),getAppsMOreDetails:()=>e((0,Oe.Ur)()),getFontVariants:()=>e((0,Oe.Wc)()),GET_CTA_ACTION:()=>e((0,S.lU)()),GET_APP_DATA:t=>e((0,Ae.pB)(t)),CHANGE_WEBSITE_WALL:(t,a,s)=>e((0,Ae.Ux)(t,a,s)),SAVE_AND_PUBLISH:t=>e({type:le.A_O,payload:t}),SET_ALL_UPDATED:()=>e({type:le.thS,payload:!1}),getUserInfo_afterChanges:()=>e((0,qe.AW)()),TOGGLE_ADD_WEBSITE:()=>e({type:le.VtD,payload:!0}),GET_ALL_WEBSITE_LIST:()=>e((0,Ae.M_)()),SNAPUP_DETAILS_ACTION:()=>e((0,Xe.QR)()),ACTIVE_WEBSITE_ID:()=>e({type:le.Cwf,payload:localStorage.getItem("website_id")}),WALL_CHANGED:()=>e({type:le.nC8,payload:!0})})))((0,st.A)(it))},49332:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(75794),l=(a(44259),a(35131)),o=a(21784),i=a(99637),n=a(67972),r=a(90900),d=a(52867);const c="https://app.taggbox.com";const h=class{constructor(e){this.uppy=new s.A({meta:{type:"avatar"},autoProceed:!0,debug:!0,allowMultipleUploads:!0,restrictions:{maxFileSize:104857600,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:e||["image/*"]}}),this.uppy.use(l.Ay,{params:{auth:{key:"0701d3d7f8d94e92a65a9cba388b1d96"},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",result:!0,bucket:"cloud.tagshop.ai",key:"47ABVORKG52UYE1KB28S",secret:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v",path:"tmp/${file.id}.${file.ext}"}}},waitForEncoding:!0}),this.uppy.use(i.A,{target:s.A.Dashboard,companionUrl:c}),this.uppy.use(o.A,{target:s.A.Dashboard,companionUrl:c}),this.uppy.use(n.A,{target:s.A.Dashboard,companionUrl:c}),this.uppy.use(r.A,{target:s.A.Dashboard,companionUrl:c}),this.uppy.on("restriction-failed",((e,t)=>"image"!=e.type.split("/")[0]?((0,d.r$)("You can only upload Image File"),!1):e.size>5e6?((0,d.r$)("Maximum allowed size of 4.8 MB"),!1):void 0))}}}}]);