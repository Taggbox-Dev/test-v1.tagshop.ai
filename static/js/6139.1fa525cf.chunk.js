"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[6139],{96139:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(9950),i=s(73878),n=s(70804),r=s(59051),l=s.n(r),d=s(80409),c=s(98361),o=s(97937),h=s(45276),p=s(52867),m=s(54810),x=s(36431),u=s(47264),g=s(34483),v=s(75623),j=s(6052),w=s(66345),f=s(42074),_=s(1480),N=s(49157),b=s(54480),y=s(47208),T=s(88749),C=s(44414);class k extends a.Component{constructor(e){super(e),this.setLastSearchTag=()=>{var e,t;const{authorized:s,modalData:a}=this.props;var i=null!==s&&void 0!==s&&null!==(e=s.userData)&&void 0!==e&&e.user_data.user.extra_data?JSON.parse(null===s||void 0===s||null===(t=s.userData)||void 0===t?void 0:t.user_data.user.extra_data):{},n=null===i||void 0===i?void 0:i.LAST_SEARCH_TAG,r="";r=Array.isArray(n)?n:n?[n]:[],this.setState({selectedTag:r},(()=>{this.props.fetchProductList(1,10,this.state.selectedTag,"",(()=>{}),null===a||void 0===a?void 0:a.referenceId,null===a||void 0===a?void 0:a.newMedia)}))},this.handleClickOutsideTagProduct=e=>{var t,s;!this.tagProductRef||null!==(t=this.tagProductRef)&&void 0!==t&&null!==(s=t.current)&&void 0!==s&&s.contains(e.target)||this.setState({showtags:!1})},this.handleClickOutside=e=>{var t;!this.outsideNewRef.current||null!==(t=this.outsideNewRef.current)&&void 0!==t&&t.contains(e.target)||this.setState({showProd:!1})},this.filterProduct=e=>{const t=e.target.value;this.setState({searchText:t})},this.triggerAction=()=>{const{searchText:e,selectedTag:t}=this.state,{SEARCH_PRODUCTS_TEXT:s,fetchProductList:a,modalData:i}=this.props;(null===e||void 0===e?void 0:e.length)>1?(this.setState({showProd:!0,loading:!0}),s(e),a(1,10,t,e,this.responceApi,null===i||void 0===i?void 0:i.referenceId,null===i||void 0===i?void 0:i.newMedia)):e||(this.setState({showProd:!0,loading:!0}),s(""),a(1,10,t,"",this.responceApi,null===i||void 0===i?void 0:i.referenceId,null===i||void 0===i?void 0:i.newMedia))},this.responceApi=()=>{this.setState({loading:!1})},this.removeTag=e=>{const t=this.state.selectedTag.filter((t=>t!==e));this.setState({selectedTag:t,searchTag:"",showtags:!1,productTags:[]},(()=>{var e,t;return this.props.fetchProductList(1,10,this.state.selectedTag,"",this.responceApi,null===(e=this.props.modalData)||void 0===e?void 0:e.referenceId,null===(t=this.props.modalData)||void 0===t?void 0:t.newMedia)})),(0,y.oU)({LAST_SEARCH_TAG:t}),this.props.getUserInfo_afterChanges()},this.product_tags_search=e=>{const t=e.target.value;this.setState({loadingTag:!0,showtags:(null===t||void 0===t?void 0:t.length)>0}),(0,_.Wb)(t).then((e=>{const{data:t}=e.data;this.setState({productTags:t,showtags:!(!t||!t.length),loadingTag:!1})})),this.setState({searchTag:t})},this.getData_bySelected_Tag=e=>{var t=[...this.state.selectedTag,e];this.setState({selectedTag:[...new Set(t)],showtags:!1,searchTag:""},(()=>{var e,t;this.props.fetchProductList(1,10,this.state.selectedTag,"",this.responceApi,null===(e=this.props.modalData)||void 0===e?void 0:e.referenceId,null===(t=this.props.modalData)||void 0===t?void 0:t.newMedia),(0,y.oU)({LAST_SEARCH_TAG:this.state.selectedTag}),this.props.getUserInfo_afterChanges()}))},this.handleScroll=()=>{const e=this.listRef.current;if(e){e.getBoundingClientRect().bottom<=window.innerHeight&&this.setState({scrolledToBottom:!0},(()=>{this.filterProductOnScrolle()}))}},this.addProduct=(e,t)=>{var s,a;const{modalData:i}=this.props;let n=null!==i&&void 0!==i&&i.postproduct&&(null===i||void 0===i?void 0:i.postproduct.length)>0?(0,p._u)(i):"45%";const r={left:"45%",top:"".concat(n)},l="left:45%;top:".concat(n,";");this.props.TAG_PRODUCT_ACTION(e,t,r,l,null===i||void 0===i?void 0:i.feedId,this.callbackMsg);const{authorized:d}=this.props;(null!==d&&void 0!==d&&null!==(s=d.userData)&&void 0!==s&&s.user_data.user.extra_data?JSON.parse(null===d||void 0===d||null===(a=d.userData)||void 0===a?void 0:a.user_data.user.extra_data):{}).PRODUCT_TAGGED_POST||(0,y.oU)({PRODUCT_TAGGED_POST:!0}).then((e=>{this.props.getUserInfo_afterChanges(),this.setState({firstTime:!0})})),this.setState({showProd:!1})},this.changePrdId=e=>{this.setState({productId:e})},this.callbackMsg=e=>{this.setState({errorMsg:e},(()=>{setTimeout((()=>{this.setState({errorMsg:""})}),5e3)}))},this.filterProductOnScrolle=()=>{const{total_pages:e}=this.props;this.state.currentPage<e&&!this.state.sentReq&&this.setState({currentPage:this.state.currentPage+1,sentReq:!0},(()=>{var e,t;return this.props.ACTION_PRODUCT_LIST_FORTAG(this.state.currentPage,10,this.state.selectedTag,this.state.searchText,this.completedPageCall,null===(e=this.props.modalData)||void 0===e?void 0:e.referenceId,null===(t=this.props.modalData)||void 0===t?void 0:t.newMedia)}))},this.completedPageCall=()=>this.setState({sentReq:!1}),this.removeTaggProduct=(e,t,s)=>{this.props.REMOVE_TAGGED_PRODUCT_ACTION(e,t,s)},this.state={tagedprod:[],showProd:!1,showtags:!1,searchTag:"",loadingTag:!1,productTags:[],selectedTag:[],productId:0,errorMsg:"",searchText:"",currentPage:1,loading:!1,scrolledToBottom:!1,sentReq:!1,visenzeId:null,visenzeProduct:null,firstTime:!1},this.outsideNewRef=a.createRef(),this.outsideNewRef2=a.createRef(),this.listRef=a.createRef(),this.tagProductRef=a.createRef()}componentDidMount(){window.addEventListener("click",this.handleClickOutside),window.addEventListener("click",this.handleClickOutsideTagProduct),window.addEventListener("scroll",this.handleScroll),this.setLastSearchTag()}componentWillUnmount(){window.removeEventListener("click",this.handleClickOutside),this.searchTimeout&&clearTimeout(this.searchTimeout),window.removeEventListener("scroll",this.handleScroll),window.addEventListener("click",this.handleClickOutsideTagProduct)}componentDidUpdate(e,t){this.state.searchText!==t.searchText&&(this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((()=>{this.triggerAction()}),800))}render(){const{showProd:e,selectedTag:t,productTags:s,showtags:a,searchTag:i,loadingTag:n,errorMsg:r,searchText:l,sentReq:d}=this.state,{item:c,searchProducts:o,loadingTagProduct:h,changeHotspotStatus:p,enableHotspot:x}=this.props;return(0,C.jsxs)(C.Fragment,{children:[5!=c.type&&3!=c.type&&1!=c.type?(0,C.jsx)(u.A.Group,{className:"mb-3",children:(0,C.jsx)(u.A.Check,{type:"switch",id:"enable_hotspot",className:"f-between",label:"Enable Hotspot",defaultValue:x,onChange:()=>p(c.hotspot,c.referenceId),checked:x,reverse:!0})}):"",(0,C.jsxs)(g.A,{show:!0,className:"position-relative",children:[(0,C.jsx)(g.A.Toggle,{variant:"outline-secondary",className:"arrow_disabled p-0 border-0 mb-0 flex-grow-1 w-100",children:(0,C.jsxs)(v.A,{className:"mb-3",children:[(0,C.jsx)(u.A.Control,{id:"search_pro_",className:r?"is-invalid":"",placeholder:"Search Products By name, category, SKU, tags",onFocus:()=>this.setState({showProd:!e}),onChange:this.filterProduct,value:l,autoComplete:"off"}),(0,C.jsx)(v.A.Text,{children:(0,C.jsx)(m.Ah,{icon:"magnifying-glass-solid",height:14,width:14})})]})}),r?(0,C.jsx)("span",{className:"invalid-feedback",children:r}):null,e&&o?(0,C.jsxs)(g.A.Menu,{show:!e&&!o,style:{overflowX:"auto",maxHeight:300},children:[o.map(((e,t)=>{var s;const a=null!==e&&void 0!==e&&null!==(s=e.product_image)&&void 0!==s&&s.includes("?")?"https://cdn.taggbox.com/v7/".concat(null===e||void 0===e?void 0:e.product_image,"&w=100"):"https://cdn.taggbox.com/v7/".concat(null===e||void 0===e?void 0:e.product_image,"?w=100");return(0,C.jsxs)(g.A.Item,{"data-item":"product",onClick:()=>this.addProduct(e,e.referenceId),className:"d-flex",children:[(0,C.jsx)("div",{className:"w-68px d-flex flex-shrink-0 me-2",children:(0,C.jsx)(j.A,{mediaClass:"position-relative overflow-hidden w-100 border rounded-1",size:100,height:100,width:100,url:a,alt:""})}),(0,C.jsxs)("div",{className:"d-flex align-items-start flex-column overflow-hidden w-100",children:[(0,C.jsx)("p",{className:"fs-9 fw-medium mb-1 text-wrap text-dark",children:e.product_title}),(0,C.jsx)("span",{className:"d-flex align-items-center tb_pro_price",children:e.product_discount&&e.product_discount>0||e.product_price&&e.product_price>0?(0,C.jsxs)("span",{className:"fs-10 fw-bold",children:[e.price_currency_symbol,0!=e.product_discount?e.product_discount:e.product_price?e.product_price:0]}):""}),(0,C.jsx)("p",{className:"fs-10 text-muted mb-0",children:e.shopify_product_type?(0,C.jsxs)("div",{children:[" Category:  ",e.shopify_product_type]}):""})]})]},t)})),(0,C.jsx)("hr",{}),(0,C.jsxs)(g.A.Item,{className:"f-center","data-item":"product",href:"/content/products",children:[(0,C.jsx)(m.Ah,{icon:"plus",height:10,width:10,iconClass:"me-2"}),"Upload New Products"]})]}):""]}),(0,C.jsx)(u.A.Group,{className:"mb-3",children:(0,C.jsx)(u.A.Control,{id:"search_pro_",className:r?"is-invalid":"",placeholder:"Search Products By name, category, SKU, tags",onFocus:()=>this.setState({showProd:!e}),onChange:this.filterProduct,value:l,autoComplete:"off"})}),(0,C.jsx)("div",{className:"tagProduct_rightAlign",children:(0,C.jsx)("div",{className:"tagProduct_content_wrap",children:(0,C.jsxs)("div",{className:"tagProduct_postDetail_wrapper",children:[(0,C.jsx)("div",{className:"tagProduct_proSearch",children:(0,C.jsxs)("div",{className:"from-group position-relative tagProduct_searchBox",children:[(0,C.jsx)("div",{className:"tagsOuterWrap",children:t&&t.length>0?t.map(((e,t)=>(0,C.jsxs)("span",{className:"tagProduct_selected_tags",children:[e,(0,C.jsx)("button",{type:"button",className:"tagProduct_close_btn","data-bs-dismiss":"modal",onClick:()=>this.removeTag(e),children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",children:(0,C.jsx)("g",{stroke:"none","stroke-width":"1",fill:"none",fillRule:"evenodd",children:(0,C.jsxs)("g",{transform:"translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)",fill:"#000000",children:[(0,C.jsx)("rect",{x:"0",y:"7",width:"16",height:"2",rx:"1"}),(0,C.jsx)("rect",{transform:"translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000) ",x:"0",y:"7",width:"16",height:"2",rx:"1"})]})})})})]},t))):""}),e&&o?(0,C.jsxs)("div",{className:"ts_dropdown_productList",children:[(0,C.jsxs)("ul",{id:"productList",className:"produt_list list-inline",ref:this.listRef,onScroll:this.handleScroll,children:[h?(0,C.jsxs)("div",{className:"w-100 text-center",children:[" ",(0,C.jsx)("div",{className:"spinner spinner-black spinner-right"})]}):o.map(((e,t)=>{var s,a,i;return(0,C.jsx)("li",{className:"p-2 border mb-2 tb_pro_add",children:(0,C.jsxs)("div",{className:"d-flex position-relative productCard_single align-items-center",onClick:()=>this.addProduct(e,c.referenceId),children:[(0,C.jsx)("div",{className:"productList_Image",children:(0,C.jsx)("img",{src:null!==e&&void 0!==e&&null!==(s=e.product_image)&&void 0!==s&&s.includes("?")?"https://cdn.taggbox.com/v7/".concat(null===e||void 0===e?void 0:e.product_image,"&w=100"):"https://cdn.taggbox.com/v7/".concat(null===e||void 0===e?void 0:e.product_image,"?w=100"),onError:e=>e.target.src="".concat(w.krE,"media/products/no-product.svg"),style:{width:"98%",padding:"1px"}})}),(0,C.jsxs)("div",{className:"d-flex flex-column contentAlignRight",children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-lg-0 my-2 pr-3 overflow-hidden w-100",children:[(0,C.jsxs)("strong",{className:"text-dark tb_pro_title__",children:[" ",e.product_title," "]}),(0,C.jsx)("span",{className:"d-flex align-items-center tb_pro_price",children:e.product_discount&&e.product_discount>0||e.product_price&&e.product_price>0?(0,C.jsxs)("span",{children:[e.price_currency_symbol,0!=e.product_discount?e.product_discount:e.product_price?e.product_price:0]}):""})]}),(0,C.jsx)("div",{className:"d-flex popupCategoury",children:e.shopify_product_type?(0,C.jsxs)("div",{children:[" Category:  ",e.shopify_product_type]}):""}),e.recomended?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"tagProduct_aiRecomended",children:[(0,C.jsxs)("span",{children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"12",viewBox:"0 0 11 12",fill:"none",children:(0,C.jsx)("path",{d:"M7.02539 2.22266L8.25 1.75L8.70117 0.546875C8.72266 0.439453 8.83008 0.375 8.9375 0.375C9.02344 0.375 9.13086 0.439453 9.15234 0.546875L9.625 1.75L10.8281 2.22266C10.9355 2.24414 11 2.35156 11 2.4375C11 2.54492 10.9355 2.65234 10.8281 2.67383L9.625 3.125L9.15234 4.34961C9.13086 4.43555 9.02344 4.5 8.9375 4.5C8.83008 4.5 8.72266 4.43555 8.70117 4.34961L8.25 3.125L7.02539 2.67383C6.91797 2.65234 6.875 2.54492 6.875 2.4375C6.875 2.35156 6.91797 2.24414 7.02539 2.22266ZM5.52148 4.41406L7.9707 5.53125C8.09961 5.5957 8.18555 5.72461 8.18555 5.85352C8.18555 5.98242 8.09961 6.11133 7.9707 6.17578L5.52148 7.29297L4.4043 9.74219C4.33984 9.87109 4.21094 9.95703 4.08203 9.95703C3.95312 9.95703 3.82422 9.87109 3.78125 9.74219L2.64258 7.29297L0.193359 6.17578C0.0644531 6.11133 0 5.98242 0 5.85352C0 5.72461 0.0644531 5.5957 0.193359 5.53125L2.64258 4.41406L3.78125 1.96484C3.82422 1.83594 3.95312 1.75 4.08203 1.75C4.21094 1.75 4.33984 1.83594 4.4043 1.96484L5.52148 4.41406ZM8.70117 7.42188C8.72266 7.31445 8.83008 7.25 8.9375 7.25C9.02344 7.25 9.13086 7.31445 9.15234 7.42188L9.625 8.625L10.8281 9.09766C10.9355 9.11914 11 9.22656 11 9.3125C11 9.41992 10.9355 9.52734 10.8281 9.54883L9.625 10L9.15234 11.2246C9.13086 11.3105 9.02344 11.375 8.9375 11.375C8.83008 11.375 8.72266 11.3105 8.70117 11.2246L8.25 10L7.02539 9.54883C6.91797 9.52734 6.875 9.41992 6.875 9.3125C6.875 9.22656 6.91797 9.11914 7.02539 9.09766L8.25 8.625L8.70117 7.42188Z",fill:"#4E69ED"})}),"Ai-Recommended"]}),(0,C.jsx)("div",{className:"trueSense_logo",children:(0,C.jsx)("img",{src:"".concat(w.krE,"media/trueSense-logo.svg"),alt:"trueSense-logo"})})]})}):"",(0,C.jsx)("div",{className:"d-flex popupTags",children:null===e||void 0===e||null===(a=e.tags)||void 0===a||null===(i=a.split(","))||void 0===i?void 0:i.map(((e,t)=>e?(0,C.jsx)("span",{className:"tags",children:(0,C.jsx)("span",{children:e})},"tags".concat(t)):""))})]})]})},"prd_td_".concat(t))})),d?(0,C.jsxs)("div",{className:"w-100 text-center",children:[(0,C.jsx)("div",{className:"spinner spinner-black spinner-center py-5 mb-5 w-auto d-inline-block"})," "]}):""]}),(0,C.jsx)("div",{className:"d-flex flex-column py-3 add_pro_action__ ts_Upload_Product",children:(0,C.jsxs)(f.N_,{to:"/content/products",type:"button",className:"btn p-0 add-new-product border-0",children:[(0,C.jsx)("span",{className:"svg-icon svg-icon-md",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,C.jsxs)("g",{id:"Group_4424","data-name":"Group 4424",transform:"translate(10922 -4685)",children:[(0,C.jsx)("rect",{id:"Rectangle_2094","data-name":"Rectangle 2094",width:"24",height:"24",transform:"translate(-10922 4685)",fill:"none",opacity:"0"}),(0,C.jsx)("path",{id:"Path_5219","data-name":"Path 5219",d:"M-15.382,10.935h-6.172V4.765A1.065,1.065,0,0,0-22.618,3.7a1.065,1.065,0,0,0-1.064,1.064v6.17h-6.174a1.058,1.058,0,0,0-.751.317,1.056,1.056,0,0,0-.305.756,1.068,1.068,0,0,0,1.058,1.055h6.172v6.169a1.059,1.059,0,0,0,.311.754,1.021,1.021,0,0,0,.755.313,1.055,1.055,0,0,0,.749-.309,1.059,1.059,0,0,0,.313-.756V13.063h6.175a1.066,1.066,0,0,0,1.057-1.072A1.069,1.069,0,0,0-15.382,10.935Z",transform:"translate(-10887.383 4685)",fill:"#3F7AF2"})]})})}),"Upload New Product"]})})]}):""]})}),(0,C.jsx)("div",{className:"tagProduct_sideContent",children:(0,C.jsx)("div",{className:"tagProduct_shop_cont form-group position-relative mb-0 border-bottom",children:(0,C.jsx)("div",{id:"taggedProduct",children:c.postproduct&&c.postproduct.length>0?c.postproduct.map(((e,t)=>{var s;return(0,C.jsx)("div",{className:"tagg_pro_wrap_",children:e&&e.product?(0,C.jsx)("div",{className:"tagged_pro__",children:(0,C.jsx)("div",{className:"p-2 border mb-2 tagProduct_product_card",children:(0,C.jsxs)("div",{className:"d-flex align-items-center position-relative",children:[(0,C.jsx)("span",{className:"tagProduct_count",children:t+1}),(0,C.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 mr-4",children:(0,C.jsx)("div",{className:"symbol-label",children:(0,C.jsx)("img",{src:null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.product_image,onError:e=>e.target.src="".concat(w.krE,"media/products/no-product.svg"),style:{width:"98%",padding:"1px"}})})}),(0,C.jsxs)("div",{className:"d-flex flex-column flex-grow-1 my-lg-0 my-2 pr-3 overflow-hidden tagProduct_contentAlignRight",children:[(0,C.jsxs)("strong",{className:"text-dark mb-1 tagProduct_proTitle",children:[" ",e.product.product_title," "]}),(0,C.jsxs)("span",{className:"d-flex align-items-center tagProduct_proPrice",children:[0!=e.product.product_discount&&e.product.product_discount!=e.product.product_price?(0,C.jsxs)("span",{className:"text-muted mr-2 tagProduct_productPrice",children:[e.product.discount_currency_symbol,Math.trunc(100*e.product.product_price)/100]}):"",e.product.product_discount&&e.product.product_discount>0||e.product.product_price&&e.product.product_price>0?(0,C.jsxs)("span",{className:"text-dark tagProduct_discountPrice",children:[e.product.discount_currency_symbol,0==e.product.product_discount?e.product.product_price:e.product.product_discount]}):""]})]}),(0,C.jsx)("div",{className:"d-flex align-items-center py-lg-0",children:(0,C.jsx)("button",{type:"button",className:"btn btn-link btn-icon btn-sm tagProduct_btn-clean tagProduct_pro_delete",onClick:()=>this.removeTaggProduct(e.product.product_sku,e.product.id,e.post_id),children:(0,C.jsx)("span",{className:"svg-icon svg-icon-sm",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,C.jsxs)("g",{"data-name":"Group 4331",transform:"translate(10956 -4533)",children:[(0,C.jsx)("rect",{id:"Rectangle_2069","data-name":"Rectangle 2069",width:"24",height:"24",transform:"translate(-10956 4533)",fill:"none",opacity:"0"}),(0,C.jsx)("g",{id:"Group_4324","data-name":"Group 4324",transform:"translate(-10952 4536)",children:(0,C.jsx)("path",{id:"Path_5188","data-name":"Path 5188",d:"M2.722,16.328A2,2,0,0,0,4.694,18h6.612a2,2,0,0,0,1.972-1.672L14,6H2ZM9,9.5A.5.5,0,0,1,9.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5Zm-4,0A.5.5,0,0,1,5.5,9h1a.5.5,0,0,1,.5.5v5a.5.5,0,0,1-.5.5h-1a.5.5,0,0,1-.5-.5ZM15,2H11A2,2,0,0,0,9,0H7A2,2,0,0,0,5,2H1A1,1,0,0,0,1,4H15a1,1,0,0,0,0-2Z",fill:"#959595",fillRule:"evenodd"})})]})})})})})]})})}):""},"tagged_".concat(t))})):(0,C.jsx)("div",{className:"no_pro_yet__",children:(0,C.jsxs)("p",{className:"d-flex text-muted align-items-center",children:[(0,C.jsx)("span",{className:"svg-icon svg-icon-xxl mr-2 svg-icon-dark-25",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33.5",height:"33.5",viewBox:"0 0 33.5 33.5",children:(0,C.jsxs)("g",{id:"Group_6628","data-name":"Group 6628",transform:"translate(-166.946 -241.539)",children:[(0,C.jsx)("path",{id:"Path_5640","data-name":"Path 5640",d:"M183.7,241.539a16.75,16.75,0,1,0,16.75,16.75A16.769,16.769,0,0,0,183.7,241.539Zm0,32a15.25,15.25,0,1,1,15.25-15.25A15.268,15.268,0,0,1,183.7,273.539Z",fill:"#dcdddf"}),(0,C.jsx)("g",{id:"Path_5639","data-name":"Path 5639",children:(0,C.jsx)("path",{id:"Path_5641","data-name":"Path 5641",d:"M187.624,254.808v1.5h-1.5v-1.5h-4.775v1.5h-1.5v-1.5h-1.217l-1.182,10.25h12.676l-1.181-10.25h-1.321Zm-7.775-1.5V252.6a3.9,3.9,0,1,1,7.775,0v.712h1.765a1,1,0,0,1,.994.885l1.3,11.251a1,1,0,0,1-.878,1.108.9.9,0,0,1-.116.007h-13.8a1,1,0,0,1-1-1,.878.878,0,0,1,.007-.115l1.3-11.255a1,1,0,0,1,.993-.885Zm1.5,0h4.775V252.6a2.4,2.4,0,1,0-4.775,0Z",fill:"#dcdddf"})})]})})}),"No Products Tagged Yet"]})})})})})]})})})]})}}const S=(0,i.Ng)((e=>{var t,s,a,i,n;return{total_pages:null===(t=e.products)||void 0===t?void 0:t.total_pages,searchProducts:null===(s=e.products)||void 0===s?void 0:s.searchProducts,ai_tagProduct:null===(a=e.products)||void 0===a?void 0:a.ai_tagProduct,loadingTagProduct:null===(i=e.products)||void 0===i?void 0:i.loadingTagProduct,moderation:e.moderation,ctaData:null===(n=e.ctaData)||void 0===n?void 0:n.data,authorized:e.authorized}}),(e=>({SEARCH_PRODUCTS_TEXT:t=>e({type:b.kbX,payload:t}),ACTION_PRODUCT_LIST_FORTAG:(t,s,a,i,n,r,l)=>e((0,_.O0)(t,s,a,i,n,r,l)),TAG_PRODUCT_ACTION:(t,s,a,i,n,r)=>e((0,N.gw)(t,s,a,i,n,r)),REMOVE_TAGGED_PRODUCT_ACTION:(t,s,a)=>e((0,N.PB)(t,s,a)),getUserInfo_afterChanges:()=>e((0,T.AW)()),fetchProductList:(t,s,a,i,n)=>e((0,_.EU)(t,s,a,i,n))})))(k);class P extends a.Component{constructor(e){super(e),this.onClickToRemoveTag=e=>t=>{let{tagString:s}=this.state;s.splice(e,1),this.setState({tagString:s,changesStatus:!0})},this.addTagButtonValue=()=>{this.setState({addTagButton:!1})},this.handleOutsideClick=e=>{this.editorEnable&&this.editorEnable.current&&!this.editorEnable.current.contains(e.target)&&this.editorEnableButton&&!this.editorEnableButton.current.contains(e.target)&&this.editorEnableButton&&null!==!this.editorEnableButton.current.contains(e.target)?this.setState({descriptionEditable:!1}):this.editorEnable&&this.editorEnable.current&&!this.editorEnable.current.contains(e.target)&&null!==this.editorEnable.current.contains(e.target)&&this.setState({descriptionEditable:!0})},this.onClickNewAddTag=e=>{const{newTag:t,tagString:s}=this.state,{modalData:a}=this.props;"Enter"!==e.key&&13!==e.keyCode||t&&String(t).length>=3&&(s.push(t),this.setState({tagString:s,newTag:"",selectedOption:null,changesStatus:!0,addTagButton:!0}))},this.addNewTag=e=>this.setState({newTag:e.target.value,changesStatus:!0}),this.onClickToSave=e=>{const{tagString:t}=this.state,{modalData:s}=this.props;t&&t.length},this.setNewTags=e=>{e&&e.value?this.setState({newTag:e.value,selectedOption:e}):this.setState({newTag:"",selectedOption:null})},this.onChangeContent=e=>{this.setState({content:e.target.value,changesStatus:!0})},this.onChangeTag=e=>{this.setState({newTag:e.target.value})},this.onSaveChanges=e=>{const{modalData:t}=this.props,{tagString:s,content:a}=this.state;String(t.collection),String(t.collection),String(t.id),t.postFile,s.join(",")},this.onFilterWithTag=e=>t=>{const{modalCallback:s,tagsFilter:a}=this.props;a(e),setTimeout((()=>s(!1)),200)},this.contentHeight=e=>{var t=e.length/35,s=Math.round(t);return t>=s?20*(s+1)+20:20*s+20},this.state={descriptionEditable:!1,addTagButton:!0,tagString:[],newTag:"",listTags:[],selectedOption:null,content:"",changesStatus:!1},this.editorEnable=a.createRef(),this.editorEnableButton=a.createRef()}componentWillMount(){const{tagList:e}=this.props;if(e&&e.length>0){var t=[];e.map((e=>{t.push({value:e,label:e})})),this.setState({listTags:t})}}descriptionToggle(){this.setState({descriptionEditable:!0})}componentDidMount(){document.addEventListener("click",this.handleOutsideClick);const{modalData:e}=this.props;e&&Object.keys(e).length>0&&(e.tags&&String(e.tags).length>0?this.setState({tagString:String(e.tags).split(","),content:e.content}):this.setState({tagString:[],content:e.content})),this.setState({textAreaHeight:20*(this.state.content.length/35).toFixed()})}render(){const{descriptionEditable:e,addTagButton:t,tagString:s,content:a,changesStatus:i,newTag:r}=this.state,{modalData:u,networkData:g,collections:v,isTrash:j,changeHotspotStatus:w,enableHotspot:f}=this.props,_=18==u.networkId?2:u.networkId;g&&g.length>0&&g.filter((e=>e.id==_));return(0,C.jsxs)("div",{className:"full_modal_sidebar position-relative",children:[(0,C.jsxs)(d.A.Container,{id:"left-tabs-example",defaultActiveKey:"tag_product",children:[(0,C.jsxs)(c.A,{variant:"underline",className:"border-bottom",children:[(0,C.jsx)(c.A.Item,{children:(0,C.jsxs)(c.A.Link,{className:"ms-3",eventKey:"tag_product",children:[(0,C.jsx)(m.Ah,{icon:"bag",height:10,width:10}),"Tag Products"]})}),(0,C.jsx)(c.A.Item,{children:(0,C.jsxs)(c.A.Link,{className:"ms-3",eventKey:"details",children:[(0,C.jsx)(m.Ah,{icon:"media",height:10,width:10}),"Details"]})})]}),(0,C.jsxs)(d.A.Content,{children:[(0,C.jsx)(d.A.Pane,{eventKey:"tag_product",children:(0,C.jsx)("div",{className:"full_modal_sidebar_inner position-relative",children:(0,C.jsx)(S,{item:u,changeHotspotStatus:w,enableHotspot:f})})}),(0,C.jsx)(d.A.Pane,{eventKey:"details",children:(0,C.jsxs)("div",{className:"full_modal_sidebar_inner position-relative",children:[2==u.status?(0,C.jsxs)("div",{className:"w-100 py-2 block-center text-light-alt fs-10 fw-medium position-absolute start-0 top-0 w-100 bg-danger",style:{opacity:".7"},children:[(0,C.jsx)("i",{className:"ri-eye-off-line me-1 fs-8"})," This Asset is Hidden"]}):null,(0,C.jsx)("h3",{className:"border-bottom mb-xxl-3 mb-2 pb-xxl-3 pb-2 fs-7 pt-1",children:(0,C.jsx)("span",{className:"text-uppercase fw-medium",children:"General Info"})}),(0,C.jsx)("table",{className:"table table-borderless",children:(0,C.jsxs)("tbody",{children:[(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Author"})}),(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,C.jsxs)("div",{className:"d-flex align-items-center mr-2 cursor-pointer",onClick:u.link?e=>window.open(u.link,"_blank"):null,children:[(0,C.jsx)(x.A,{className:"symbol symbol-34 rounded-circle flex-shrink-0 me-2 overflow-hidden bg-light",imageSize:38,symbolClass:"symbol-label text-light-alt fw-bold text-uppercase fs-8",name:u.name,profileUrl:(0,p.G9)(u.picture),networkId:u.networkId?u.networkId:0}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"text-dark mb-0 text-break fw-bold",children:u.name}),(0,C.jsxs)("small",{className:"mb-0 text-muted text-break",children:["@",u.username]})]})]})})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Network"})}),(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,C.jsxs)("div",{className:"d-flex align-items-center",children:[(0,C.jsx)("span",{className:"me-2 d-flex",children:(0,C.jsx)("img",{className:"img-fluid",src:(0,m.pc)("media/icons/social-icons/".concat((0,p.EC)(u.networkId?u.networkId:0),".svg")),height:18,width:18,alt:u.networkId?u.networkId:0})}),(0,C.jsx)("span",{className:"text-dark",children:(0,p.Oi)(u.networkId?u.networkId:0)})]})})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Connection"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[u.feedname&&32==u.networkId?(0,C.jsx)("img",{className:"img-fluid me-2",src:(0,m.pc)("media/icons/social-icons/".concat((0,p.EC)(32),".svg")),height:18,width:18,alt:"Chrome"}):null,(0,C.jsx)("span",{className:"text-dark text-break",children:u.feedname?(0,n.Ay)(u.feedname):"--"})]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"File Name"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,C.jsx)("span",{className:"text-dark text-break",children:u.filename?u.filename:"--"})]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"File Extension"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,C.jsx)("span",{className:"text-dark text-break",children:u.ext?u.ext:"--"})]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Type"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,C.jsx)("span",{className:"text-dark text-break",children:(0,p.nY)(u.type)?(0,p.nY)(u.type):"--"})]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Dimensions"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,C.jsxs)("span",{className:"text-dark text-break",children:[u.mediaWidth?u.mediaWidth:"--","x",u.mediaHeight?u.mediaHeight:"--"]})]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Size"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,C.jsx)("span",{className:"text-dark text-break",children:u.size?u.size:"--"})]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Created"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,C.jsx)("span",{className:"text-dark text-break",children:l()(u.created).utcOffset(0).format("DD MMM YYYY hh:mmA")})]})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Modified"})}),(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:[" ",(0,C.jsx)("span",{className:"text-dark text-break",children:l()(u.modified).utcOffset(0).format("DD MMM YYYY hh:mmA")})]})]}),u.ugcstatus?(0,C.jsx)(C.Fragment,{children:2==u.ugcstatus?(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Rights"})}),(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,C.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,C.jsx)("span",{className:"svg-icon me-1 text-success",children:(0,C.jsx)(h.A,{src:(0,m.pc)("media/icons/svg-icons/rights-approved-fill.svg"),height:16,width:16})}),(0,C.jsx)("span",{className:"text-success",children:"Request Approved"})]})})]}):1==u.ugcstatus?(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Rights"})}),(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,C.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,C.jsx)("span",{className:"svg-icon me-1 text-warning",children:(0,C.jsx)(h.A,{src:(0,m.pc)("media/icons/svg-icons/rights-pending-fill.svg"),height:16,width:16})}),(0,C.jsx)("span",{className:"text-warning",children:"Request Pending"})]})})]}):3==u.ugcstatus?(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:(0,C.jsx)("span",{className:"text-muted",children:"Rights"})}),(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,C.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,C.jsx)("span",{className:"svg-icon me-1 text-danger",children:(0,C.jsx)(h.A,{src:(0,m.pc)("media/icons/svg-icons/rights-rejected-fill.svg"),height:16,width:16})}),(0,C.jsx)("span",{className:"text-danger",children:"Request Rejected"})]})})]}):null}):null,!u.recommendation||2!=u.type&&4!=u.type?null:(0,C.jsxs)("tr",{children:[(0,C.jsxs)("td",{className:"py-xxl-2 py-1 px-0 min-w-100 w-25",children:[(0,C.jsx)("p",{className:"text-muted mb-1 text-nowrap me-2",children:"Ai Recommendation "}),(0,C.jsx)(h.A,{src:(0,m.pc)("media/images/svg/trusense.svg?v=1"),height:26,width:110})]}),(0,C.jsx)("td",{className:"py-xxl-2 py-1 px-0 w-75",children:(0,C.jsxs)("div",{className:"d-flex align-items-start",children:[(0,C.jsx)("div",{className:"h-12px w-12px rounded-circle d-flex flex-shrink-0 mt-1 ".concat(1==u.recommendation.type?"bg-success":2==u.recommendation.type?"bg-warning":3==u.recommendation.type?"bg-danger":null)}),(0,C.jsxs)("span",{className:"text-dark text-break ps-1",children:[u.recommendation.label," (",u.recommendation.score,"%)"]})]})})]})]})}),(0,C.jsx)("h3",{className:"border-bottom mb-xxl-3 mb-2 pb-xxl-3 pb-2 fs-7 pt-2",children:(0,C.jsx)("span",{className:"text-uppercase fw-medium",children:"Tag"})}),s&&s.length>0?(0,C.jsxs)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:[s.map(((e,t)=>e&&String(e).length>0?(0,C.jsxs)("div",{className:"block-center badge bg-secondary text-gray-800 rounded-pill border me-2 mb-2 fw-medium",children:[(0,C.jsx)("span",{className:"cursor-pointer",onClick:j?null:this.onFilterWithTag(e),children:e}),(0,C.jsx)(o.A,{variant:"link",className:"text-decoration-none p-0 ms-1",onClick:this.onClickToRemoveTag(t),children:(0,C.jsx)("i",{className:"ri-close-line icon-6 me-0"})})]},t):null)),t?(0,C.jsx)(C.Fragment,{children:j?null:(0,C.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm rounded-pill me-2 mb-2 py-1",onClick:this.addTagButtonValue,children:[(0,C.jsx)("i",{className:"ri-add-line"}),"Add Tag"]})}):(0,C.jsx)("div",{className:"d-flex me-2 mb-2",children:(0,C.jsx)("input",{type:"text",className:"form-control form-control-sm border-0 fw-semibold fs-7",placeholder:"Enter Tag...",value:r,onChange:this.onChangeTag,onKeyUp:this.onClickNewAddTag})})]}):(0,C.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:t?(0,C.jsx)(C.Fragment,{children:j?null:(0,C.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm rounded-pill me-2 mb-2",onClick:this.addTagButtonValue,children:[(0,C.jsx)("i",{className:"ri-add-line"}),"Add Tag"]})}):(0,C.jsx)("div",{className:"d-flex me-2 mb-2",children:(0,C.jsx)("input",{type:"text",className:"form-control form-control-sm border-0 fw-semibold fs-7",placeholder:"Enter Tag...",value:r,onChange:this.onChangeTag,onKeyUp:this.onClickNewAddTag})})}),(0,C.jsx)("h3",{className:"border-bottom mb-xxl-3 mb-2 pb-xxl-3 pb-2 fs-7 pt-2",children:(0,C.jsx)("span",{className:"text-uppercase fw-medium",children:"Description"})}),(0,C.jsxs)("div",{className:"mb-3 d-flex align-items-start",children:[(0,C.jsx)("div",{className:"d-flex flex-grow-1 pe-2",ref:this.editorEnable,children:(0,C.jsx)("textarea",{type:"text",className:"form-control ".concat(e?"":" resize-none border-0 p-0"),placeholder:"Add Description",rows:1,value:a,readOnly:!e,onChange:this.onChangeContent,style:{minHeight:this.contentHeight(a)>80?this.contentHeight(a):80}})}),j||e?null:(0,C.jsx)("button",{type:"button",className:"btn btn-icon btn-sm btn-active-light w-30px h-30px",ref:this.editorEnableButton,children:(0,C.jsx)("i",{className:"ri-edit-2-fill icon-6 me-0"})})]})]})})]})]}),j?null:(0,C.jsx)("div",{className:"assets_btn_wrapper bg-white",children:(0,C.jsx)("button",{type:"button",className:"btn btn-primary w-100 ".concat(i?"":"disabled"," "),onClick:this.onSaveChanges,children:"Save Changes"})})]})}}const A=(0,i.Ng)((e=>{var t,s;return{networkData:null===e||void 0===e||null===(t=e.networks)||void 0===t?void 0:t.networkData,tagList:null===e||void 0===e||null===(s=e.tags)||void 0===s?void 0:s.tagList}}),(e=>({})))(P)}}]);