"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5335],{75335:(e,l,s)=>{s.r(l),s.d(l,{default:()=>D});var t=s(9950),a=s(4695),n=s.n(a),c=s(52867);const i=e=>{n().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then((l=>{l.value?e():l.dismiss}))};var r=s(5216),d=s(86781),o=s(68459),h=s(8966),m=s(21432),x=s(95942),p=s(51960),j=s(90246),f=s(97937),b=s(54810),u=s(70804),w=s(1093),g=s(44414);function y(e){let{feeds:l,wallId:s,deleteExtraFeed:t}=e;return(0,g.jsxs)(w.A,{className:"mb-0 pb-3",size:"lg",responsive:!0,children:[(0,g.jsx)("thead",{className:"thead-light",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"fw-bold",children:"Feeds"}),(0,g.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:"Total Posts"}),(0,g.jsx)("th",{className:"fw-bold text-nowrap pe-6 text-end",style:{minWidth:100},children:(0,g.jsxs)(f.A,{variant:"danger",size:"sm",onClick:()=>i((()=>t(s,(e=>{if(e&&e.length>0)return e.map((e=>"".concat(e.id)))})(l)))),wallid:s,children:[(0,g.jsx)(b.Ah,{icon:"delete",height:16,width:16}),"Delete All"]})})]})}),(0,g.jsx)("tbody",{children:l.length>0?l.map(((e,l)=>{return(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:50},children:(0,g.jsxs)("p",{className:"mb-0 line-clamp-2 line-clamp",style:{maxWidth:300},children:[(a=e.feedsFilterprefix,a?a.includes("<i class")?(0,g.jsxs)(g.Fragment,{children:[(0,u.Ay)(a)," "]}):a:""),e.name," - ",e.feedsFiltername]})}),(0,g.jsx)("th",{className:"fw-bold text-nowrap",style:{minWidth:100},children:"".concat(e.totalrecords>1?"Posts":"Post",": ").concat(e.totalrecords)}),(0,g.jsx)("td",{className:"text-end pe-6",children:(0,g.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,g.jsx)(m.A,{placement:"top",overlay:(0,g.jsx)(x.A,{children:"Delete"}),children:(0,g.jsx)(f.A,{variant:"icon",className:"btn-active-primary border-0",onClick:()=>i((()=>t(s,["".concat(e.id)]))),children:(0,g.jsx)(b.Ah,{icon:"delete",height:16,width:16})})})})})]},l);var a})):null})]})}var v=s(44268),N=s(45276),A=s(73878),k=s(33127),I=s(28429);const F=function(){const[e,l]=(0,t.useState)(!0),s=(0,I.Zp)(),a=()=>l(!1),n=(0,A.wA)();return(0,g.jsx)(v.A,{show:e,onHide:a,backdrop:"static",size:"lg",keyboard:!1,centered:!0,children:(0,g.jsxs)(v.A.Body,{children:[(0,g.jsx)(f.A,{variant:"close",className:"position-absolute end-0 top-0 m-5",onClick:a}),(0,g.jsxs)("div",{className:"py-lg-8 py-5 text-center",children:[(0,g.jsx)(N.A,{className:"mb-8",src:(0,b.pc)("media/images/error/warning.svg"),width:"60",height:"60"}),(0,g.jsx)("h2",{className:"h3",children:"You're Running Extra Gallery/Feeds!"}),(0,g.jsx)("p",{className:"mb-6 fs-7 text-muted fw-medium",children:"To enjoy uninterrupted services,kindly revoke the additional gallery/feed or upgrade your plan."}),(0,g.jsxs)("div",{className:"text-center mb-4",children:[(0,g.jsx)(f.A,{variant:"primary",className:"m-2 btn-min-w",onClick:()=>{a(),n((0,k.f$)(!0,2))},children:"Upgrade Now"}),(0,g.jsx)(f.A,{variant:"outline-primary",className:"m-2 btn-min-w",onClick:a,children:"Revoke"})]}),(0,g.jsx)("div",{className:"f-center",children:(0,g.jsx)(f.A,{variant:"link",onClick:()=>{s("/content/moderation/".concat(localStorage.getItem("wallId"))),a()},children:"Skip"})})]})]})})};var C=s(14313),_=s(66345);const W=function(e){let{feedsList:l,deleteWall:s,deleteFeedFromWall:a,extraGallery:n,extraFeeds:u}=e;const[w,v]=(0,t.useState)(0),N=(e,l)=>{(new C.A).post(_.S_I,{feedId:l,isCollaborator:0}).then((s=>{if(s.data&&Object.keys(s.data).length>0){const{message:t}=s.data;(0,c.k1)(t),a(e,l)}})).catch((e=>{}))};return(0,g.jsx)(r.A,{className:"limit_excced_ py-4",children:(0,g.jsxs)(r.A.Body,{children:[(0,g.jsxs)(d.A,{className:"me-6 gx-0 px-3",children:[(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Gallery"})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Feeds"})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:"Network"})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0 text-end",children:"Action"})})]}),(0,g.jsx)(h.A,{onChange:e=>v(e[0]),flush:!0,children:l.map(((e,l)=>{const t=e&&e.feed.length>0?e.feed.map((e=>e.Networkicon)):[],a=!!(e&&e.feed.length>0);return(0,g.jsxs)(h.A.Item,{eventKey:e.wallId,className:"mb-4",children:[(0,g.jsx)(h.A.Header,{className:a?"":"arrow_disabled",children:(0,g.jsxs)(d.A,{className:"w-100",children:[(0,g.jsx)(o.A,{children:(0,g.jsx)("div",{className:"overflow-hidden p-2",style:{maxWidth:200},children:(0,g.jsx)("p",{className:"fw-bold mb-0 line-clamp-2 line-clamp",children:e.wallname})})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap p-2 mb-0",children:e.feed.length})}),(0,g.jsx)(o.A,{children:(0,g.jsx)("p",{className:"fw-bold text-nowrap px-2 mb-0",children:t.length>0?(0,g.jsxs)("div",{className:"symbol-group symbol-hover flex-nowrap",children:[t.slice(0,3).map(((e,l)=>(0,g.jsx)(m.A,{placement:"top",overlay:(0,g.jsx)(x.A,{children:e.replace("fa-","")}),children:(0,g.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light border",children:(0,g.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",children:(0,g.jsx)(p.A,{src:(0,b.pc)("media/icons/social-icons/".concat(e.replace("fa-",""),".svg")),height:16,width:16,alt:e.replace("fa-",""),fluid:!0})})})},l))),t.length>3?(0,g.jsx)(m.A,{placement:"top",overlay:(0,g.jsx)(j.A,{children:(0,g.jsx)("div",{className:"tooltip_symbol d-flex flex-wrap p-3",children:t.slice(3,t.length).map(((e,l)=>(0,g.jsx)("div",{className:"symbol symbol-34 symbol-circle bg-light border mx-1",children:(0,g.jsx)("span",{className:"symbol-label text-white fw-bold text-uppercase fs-7",children:(0,g.jsx)(p.A,{src:(0,b.pc)("media/icons/social-icons/".concat((0,c.EC)(2),".svg")),height:16,width:16,alt:e.replace("fa-",""),fluid:!0})})},l)))})}),children:(0,g.jsx)("div",{className:"symbol symbol-34 symbol-circle cursor-pointer",children:(0,g.jsxs)("span",{className:"symbol-label bg-primary fs-8 fw-semibold",children:["+",t.length-3]})})}):null]}):" -- "})}),(0,g.jsx)(o.A,{className:"text-end",children:(0,g.jsx)(m.A,{placement:"top",overlay:(0,g.jsx)(x.A,{children:"Delete"}),children:(0,g.jsx)(f.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:()=>i((()=>{return l=e.wallId,void(new C.A).post(_.BI$,{wallId:"".concat(l),isCollaborator:0}).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{response_message:t}=e.data;(0,c.k1)(t),setTimeout((()=>{s(l)}),500)}})).catch((e=>{}));var l})),children:(0,g.jsx)(b.Ah,{icon:"delete",height:16,width:16})})})})]})}),a?(0,g.jsx)(h.A.Body,{className:"px-0",children:(0,g.jsx)("div",{className:"border rounded-1 p-3 overflow-hidden",children:(0,g.jsx)(y,{feeds:e.feed,wallId:e.wallId,deleteExtraFeed:N})})}):null]},e.wallId)}))}),(0,g.jsx)(F,{}),(0,g.jsx)("div",{className:"mt-5",children:(0,g.jsxs)("p",{className:"fs-8 text-muted text-center mb-0",children:["You have exceeded your plan's limit. Delete extra"," ",(0,g.jsxs)("strong",{children:[n?"Gallery (".concat(n,")"):""," ",u?"Feeds (".concat(u,")"):""]})," ","for a seamless experience."]})})]})})};var S=s(45358),B=s(88749);const D=function(){const[e,l]=(0,t.useState)([]),[s,a]=(0,t.useState)(0),[n,c]=(0,t.useState)(0),i=(0,A.d4)((e=>{var l,s;return null===(l=e.authorized)||void 0===l||null===(s=l.userData)||void 0===s?void 0:s.user_data}),A.bN),r=(0,A.wA)(),d=(0,I.Zp)();(0,t.useEffect)((()=>{o()}),[]);const o=()=>{(new C.A).post(_.Npq).then((e=>{if(e.data&&Object.keys(e.data).length>0){const{responseData:s}=e.data;if(s&&Object.keys(s).length>0){const{wallList:e,delete_extra_feed:t,delete_extra_gallery:n}=s;a(n),c(t),e.length>0&&l(e)}}})).catch((e=>{}))};return(0,g.jsx)("div",{className:"d-flex flex-column flex-column-fluid align-items-center justify-content-center w-100 flex-position-center full-content",children:(0,g.jsxs)(S.A,{children:[(0,g.jsx)("div",{className:"mb-6 f-center",children:(0,g.jsx)(p.A,{src:(0,b.pc)("media/logo/tagshop-icon.svg"),height:50,width:50,alt:"Tagshop",fluid:!0})}),(0,g.jsx)(W,{feedsList:e,extraFeeds:n,extraGallery:s,deleteWall:s=>{const t=e.filter((e=>e.wallId!=s));l(t),o(),r((0,B.ug)((()=>{}))),parseInt(null===i||void 0===i?void 0:i.feeds)<=t.length&&d("/home")},deleteFeedFromWall:(s,t)=>{const a=t.map((e=>Number(e))),n=e.map((e=>{if(e.wallId===s){const l=e.feed.filter((e=>-1===a.indexOf(e.id)));e.feed=l}return e}));l(n),o(),r((0,B.ug)((()=>{}))),parseInt(null===i||void 0===i?void 0:i.feeds)<=n.length&&d("/home")}})]})})}}}]);